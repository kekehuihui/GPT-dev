# å‰åç«¯åˆ†ç¦»éƒ¨ç½²æ‰§è¡Œè®¡åˆ’

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

å°†å•æ–‡ä»¶HTMLåº”ç”¨æ‹†åˆ†ä¸ºï¼š
- **åç«¯ï¼ˆVercelï¼‰**ï¼šå¤„ç†AI APIè°ƒç”¨å’Œè‚¡ç¥¨æ•°æ®è·å–
- **å‰ç«¯ï¼ˆCloudflare Pagesï¼‰**ï¼šçº¯é™æ€é¡µé¢ï¼Œé€šè¿‡APIè°ƒç”¨åç«¯æœåŠ¡

---

## ğŸ—ï¸ æ¶æ„è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         HTTP API         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> â”‚                 â”‚
â”‚  Cloudflare     â”‚                           â”‚  Vercel         â”‚
â”‚  Pages (å‰ç«¯)    â”‚ <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚  (åç«¯API)       â”‚
â”‚                 â”‚         JSONå“åº”          â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                                              â”‚
       â”‚                                              â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ç”¨æˆ·æµè§ˆå™¨ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### åç«¯èŒè´£ï¼ˆVercelï¼‰
- âœ… è°ƒç”¨Gemini AI APIï¼ˆéšè—API Keyï¼‰
- âœ… è·å–è‚¡ç¥¨æ•°æ®ï¼ˆè§£å†³è·¨åŸŸé—®é¢˜ï¼‰
- âœ… å¤„ç†æ•æ„Ÿæ“ä½œ

### å‰ç«¯èŒè´£ï¼ˆCloudflare Pagesï¼‰
- âœ… UIå±•ç¤ºå’Œç”¨æˆ·äº¤äº’
- âœ… å›¾è¡¨ç»˜åˆ¶
- âœ… çŠ¶æ€ç®¡ç†
- âœ… è°ƒç”¨åç«¯API

---

## ğŸ“¦ é¡¹ç›®ç»“æ„

```
stock-analysis-system/
â”œâ”€â”€ frontend/                    # å‰ç«¯ä»£ç ï¼ˆéƒ¨ç½²åˆ°Cloudflareï¼‰
â”‚   â”œâ”€â”€ index.html
â”‚   â”œâ”€â”€ assets/
â”‚   â”‚   â””â”€â”€ style.css
â”‚   â””â”€â”€ js/
â”‚       â””â”€â”€ app.js
â”‚
â”œâ”€â”€ backend/                     # åç«¯ä»£ç ï¼ˆéƒ¨ç½²åˆ°Vercelï¼‰
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”œâ”€â”€ gemini/
â”‚   â”‚   â”‚   â”œâ”€â”€ text.js
â”‚   â”‚   â”‚   â”œâ”€â”€ vision.js
â”‚   â”‚   â”‚   â”œâ”€â”€ search.js
â”‚   â”‚   â”‚   â”œâ”€â”€ chat.js
â”‚   â”‚   â”‚   â””â”€â”€ tts.js
â”‚   â”‚   â”œâ”€â”€ imagen.js
â”‚   â”‚   â””â”€â”€ stock/
â”‚   â”‚       â”œâ”€â”€ realtime.js
â”‚   â”‚       â””â”€â”€ intraday.js
â”‚   â”œâ”€â”€ package.json
â”‚   â”œâ”€â”€ vercel.json
â”‚   â””â”€â”€ .env.local              # ç¯å¢ƒå˜é‡ï¼ˆä¸æäº¤åˆ°Gitï¼‰
â”‚
â””â”€â”€ README.md
```

---

## ğŸš€ æ‰§è¡Œæ­¥éª¤

### é˜¶æ®µä¸€ï¼šé¡¹ç›®åˆå§‹åŒ–ï¼ˆæ­¥éª¤1-3ï¼‰

#### æ­¥éª¤1ï¼šåˆ›å»ºGitHubä»“åº“
- åœ¨GitHubåˆ›å»ºæ–°ä»“åº“
- å…‹éš†åˆ°æœ¬åœ°

#### æ­¥éª¤2ï¼šåˆ›å»ºé¡¹ç›®ç›®å½•ç»“æ„
- åˆ›å»ºfrontendå’Œbackendæ–‡ä»¶å¤¹
- åˆå§‹åŒ–Node.jsé¡¹ç›®ï¼ˆbackendï¼‰

#### æ­¥éª¤3ï¼šé…ç½®ç¯å¢ƒå˜é‡
- åœ¨Vercelé…ç½®GEMINI_API_KEY
- åˆ›å»º.env.localæ–‡ä»¶ï¼ˆæœ¬åœ°å¼€å‘ç”¨ï¼‰

---

### é˜¶æ®µäºŒï¼šåç«¯å¼€å‘ï¼ˆæ­¥éª¤4-8ï¼‰

#### æ­¥éª¤4ï¼šåˆ›å»ºVercelé¡¹ç›®é…ç½®
- åˆ›å»ºvercel.json
- é…ç½®APIè·¯ç”±

#### æ­¥éª¤5ï¼šå®ç°Gemini APIä»£ç†
- `/api/gemini/text` - æ–‡æœ¬ç”Ÿæˆ
- `/api/gemini/vision` - è§†è§‰åˆ†æ
- `/api/gemini/search` - æœç´¢åŠŸèƒ½
- `/api/gemini/chat` - èŠå¤©å¯¹è¯
- `/api/gemini/tts` - è¯­éŸ³åˆæˆ
- æ‰€æœ‰è°ƒç”¨æ”¹ä¸º `gemini-3-pro-preview`

#### æ­¥éª¤6ï¼šå®ç°Imagen APIä»£ç†
- `/api/imagen` - å›¾åƒç”Ÿæˆ

#### æ­¥éª¤7ï¼šå®ç°è‚¡ç¥¨æ•°æ®API
- `/api/stock/realtime` - å®æ—¶è¡Œæƒ…
- `/api/stock/intraday` - åˆ†æ—¶æ•°æ®

#### æ­¥éª¤8ï¼šæµ‹è¯•åç«¯API
- æœ¬åœ°æµ‹è¯•æ‰€æœ‰APIç«¯ç‚¹
- éªŒè¯API Keyé…ç½®

---

### é˜¶æ®µä¸‰ï¼šå‰ç«¯æ”¹é€ ï¼ˆæ­¥éª¤9-12ï¼‰

#### æ­¥éª¤9ï¼šæå–å‰ç«¯ä»£ç 
- å°†HTML/CSS/JSåˆ†ç¦»
- ç§»é™¤æ‰€æœ‰ç›´æ¥APIè°ƒç”¨
- æ”¹ä¸ºè°ƒç”¨åç«¯API

#### æ­¥éª¤10ï¼šåˆ›å»ºAPIå®¢æˆ·ç«¯
- åˆ›å»ºç»Ÿä¸€çš„APIè°ƒç”¨å‡½æ•°
- é…ç½®åç«¯APIåœ°å€ï¼ˆç¯å¢ƒå˜é‡ï¼‰

#### æ­¥éª¤11ï¼šæ›´æ–°å‰ç«¯é€»è¾‘
- ä¿®æ”¹æ‰€æœ‰AIåŠŸèƒ½è°ƒç”¨
- ä¿®æ”¹æ•°æ®è·å–é€»è¾‘
- ä¿æŒUIå’Œäº¤äº’ä¸å˜

#### æ­¥éª¤12ï¼šå‰ç«¯æœ¬åœ°æµ‹è¯•
- æµ‹è¯•æ‰€æœ‰åŠŸèƒ½
- éªŒè¯APIè°ƒç”¨

---

### é˜¶æ®µå››ï¼šéƒ¨ç½²ï¼ˆæ­¥éª¤13-16ï¼‰

#### æ­¥éª¤13ï¼šéƒ¨ç½²åç«¯åˆ°Vercel
- è¿æ¥GitHubä»“åº“
- é…ç½®ç¯å¢ƒå˜é‡
- éƒ¨ç½²å¹¶è·å–APIåœ°å€

#### æ­¥éª¤14ï¼šéƒ¨ç½²å‰ç«¯åˆ°Cloudflare Pages
- è¿æ¥GitHubä»“åº“
- é…ç½®æ„å»ºè®¾ç½®
- é…ç½®ç¯å¢ƒå˜é‡ï¼ˆåç«¯APIåœ°å€ï¼‰

#### æ­¥éª¤15ï¼šé…ç½®CORS
- åœ¨Vercelåç«¯é…ç½®CORS
- å…è®¸CloudflareåŸŸåè®¿é—®

#### æ­¥éª¤16ï¼šæœ€ç»ˆæµ‹è¯•
- æµ‹è¯•ç”Ÿäº§ç¯å¢ƒ
- éªŒè¯æ‰€æœ‰åŠŸèƒ½
- æ€§èƒ½ä¼˜åŒ–

---

## ğŸ”§ æŠ€æœ¯ç»†èŠ‚

### APIç«¯ç‚¹è®¾è®¡

#### Gemini APIç«¯ç‚¹
```
POST /api/gemini/text
Body: { prompt: string }

POST /api/gemini/vision  
Body: { image: base64, prompt: string }

POST /api/gemini/search
Body: { prompt: string }

POST /api/gemini/chat
Body: { messages: array, prompt: string }

POST /api/gemini/tts
Body: { text: string }
```

#### è‚¡ç¥¨æ•°æ®ç«¯ç‚¹
```
GET /api/stock/realtime?code=sh600519
GET /api/stock/intraday?code=sh600519
```

### ç¯å¢ƒå˜é‡é…ç½®

**Vercelç¯å¢ƒå˜é‡ï¼š**
```
GEMINI_API_KEY=your_api_key_here
```

**Cloudflare Pagesç¯å¢ƒå˜é‡ï¼š**
```
VITE_API_BASE_URL=https://your-vercel-app.vercel.app
```

---

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **API Keyå®‰å…¨**ï¼šæ°¸è¿œä¸è¦åœ¨å‰ç«¯ä»£ç ä¸­æš´éœ²API Key
2. **CORSé…ç½®**ï¼šç¡®ä¿Vercelå…è®¸CloudflareåŸŸåè®¿é—®
3. **é”™è¯¯å¤„ç†**ï¼šæ‰€æœ‰APIè°ƒç”¨éƒ½è¦æœ‰é”™è¯¯å¤„ç†
4. **æ¨¡å‹åç§°**ï¼šç¡®ä¿æ‰€æœ‰Geminiè°ƒç”¨ä½¿ç”¨ `gemini-3-pro-preview`
5. **ç¯å¢ƒå˜é‡**ï¼šç”Ÿäº§ç¯å¢ƒå’Œå¼€å‘ç¯å¢ƒåˆ†åˆ«é…ç½®

---

## ğŸ“ æ£€æŸ¥æ¸…å•

- [ ] GitHubä»“åº“åˆ›å»º
- [ ] é¡¹ç›®ç›®å½•ç»“æ„åˆ›å»º
- [ ] åç«¯APIå®ç°å®Œæˆ
- [ ] å‰ç«¯ä»£ç æ”¹é€ å®Œæˆ
- [ ] æœ¬åœ°æµ‹è¯•é€šè¿‡
- [ ] Verceléƒ¨ç½²æˆåŠŸ
- [ ] Cloudflare Pageséƒ¨ç½²æˆåŠŸ
- [ ] ç”Ÿäº§ç¯å¢ƒæµ‹è¯•é€šè¿‡
- [ ] æ‰€æœ‰åŠŸèƒ½æ­£å¸¸å·¥ä½œ

---

## ğŸ¯ é¢„æœŸç»“æœ

å®Œæˆåï¼Œä½ å°†æ‹¥æœ‰ï¼š
- âœ… å®‰å…¨çš„åç«¯APIï¼ˆAPI Keyéšè—ï¼‰
- âœ… å¿«é€Ÿçš„å‰ç«¯é™æ€ç«™ç‚¹
- âœ… å¯æ‰©å±•çš„æ¶æ„
- âœ… ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²
