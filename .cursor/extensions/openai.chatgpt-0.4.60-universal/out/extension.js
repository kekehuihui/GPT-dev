"use strict";var w4=Object.create;var td=Object.defineProperty;var x4=Object.getOwnPropertyDescriptor;var S4=Object.getOwnPropertyNames;var E4=Object.getPrototypeOf,k4=Object.prototype.hasOwnProperty;var E=(t,e)=>()=>(t&&(e=t(t=0)),e);var I=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Un=(t,e)=>{for(var r in e)td(t,r,{get:e[r],enumerable:!0})},Uk=(t,e,r,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of S4(e))!k4.call(t,n)&&n!==r&&td(t,n,{get:()=>e[n],enumerable:!(o=x4(e,n))||o.enumerable});return t};var H=(t,e,r)=>(r=t!=null?w4(E4(t)):{},Uk(e||!t||!t.__esModule?td(r,"default",{value:t,enumerable:!0}):r,t)),I4=t=>Uk(td({},"__esModule",{value:!0}),t);var Fk=E(()=>{"use strict"});var co,Tse,qk=E(()=>{"use strict";co={},Tse=[{id:"newThread",titleKey:"codex.command.newThread",groupKey:"codex.commandGroup.thread",keywords:["new chat","new conversation"],surfaces:["commandMenu","electronMenu","vscodeCommand"],host:{electron:co,extension:!0,browser:!0}},{id:"settings",titleKey:"codex.command.settings",groupKey:"codex.commandGroup.app",keywords:["preferences"],surfaces:["commandMenu","electronMenu","vscodeCommand"],host:{electron:co,extension:!0,browser:!0}},{id:"openFolder",titleKey:"codex.command.openFolder",groupKey:"codex.commandGroup.workspace",keywords:["workspace","repo"],surfaces:["commandMenu","electronMenu"],host:{electron:co}},{id:"toggleSidebar",titleKey:"codex.command.toggleSidebar",groupKey:"codex.commandGroup.panels",keywords:["sidebar"],surfaces:["commandMenu","electronMenu"],host:{electron:co,extension:!0,browser:!0}},{id:"toggleTerminal",titleKey:"codex.command.toggleTerminal",groupKey:"codex.commandGroup.panels",keywords:["terminal","console"],surfaces:["commandMenu","electronMenu"],host:{electron:co}},{id:"toggleDiffPanel",titleKey:"codex.command.toggleDiffPanel",groupKey:"codex.commandGroup.panels",keywords:["diff"],surfaces:["commandMenu","electronMenu"],host:{electron:co}},{id:"navigateBack",titleKey:"codex.command.navigateBack",groupKey:"codex.commandGroup.navigation",keywords:["back"],surfaces:["commandMenu","electronMenu","vscodeCommand"],host:{electron:co,extension:!0,browser:!0}},{id:"navigateForward",titleKey:"codex.command.navigateForward",groupKey:"codex.commandGroup.navigation",keywords:["forward"],surfaces:["commandMenu","electronMenu","vscodeCommand"],host:{electron:co,extension:!0,browser:!0}}]});var bt,Wk=E(()=>{"use strict";bt={APPEARANCE_THEME:"appearanceTheme",SANS_FONT_FAMILY:"sansFontFamily",CODE_FONT_FAMILY:"codeFontFamily",CODE_FONT_SIZE:"codeFontSize",CLI_EXECUTABLE:"cliExecutable",COMMENT_CODELENS_ENABLED:"commentCodeLensEnabled",LOCALE_OVERRIDE:"localeOverride",OPEN_ON_STARTUP:"openOnStartup",RUN_CODEX_IN_WSL:"runCodexInWindowsSubsystemForLinux",API_ENDPOINT:"apiEndpoint",LOG_LEVEL:"logLevel",PREVENT_SLEEP_WHILE_RUNNING:"preventSleepWhileRunning",USE_EXPERIMENTAL_MCP_LSP_SERVER:"useExperimentalMcpLspServer"}});function rs(t){let e=t?.trim();return e||rd}var rd,Zk=E(()=>{"use strict";rd="FREQ=HOURLY;INTERVAL=24;BYMINUTE=0"});function nd(){let t=()=>{},e=()=>{};return{promise:new Promise((o,n)=>{t=o,e=n}),resolve:t,reject:e}}var Bk=E(()=>{"use strict"});var Hk=E(()=>{"use strict"});var Vk=E(()=>{"use strict"});function Gk(t,e){return!e||Object.keys(e).length===0?t:{...t,config:{...T4(e),...t.config??{}}}}function T4(t){let e={};for(let[r,o]of Object.entries(t))e[`features.${r}`]=o;return e}var Kk=E(()=>{"use strict"});var Jk=E(()=>{"use strict"});var Yk=E(()=>{"use strict"});var gt,Xk=E(()=>{"use strict";gt={HAS_PROBABLY_SEEN_2025_08_27_NUX:"hasProbablySeen2025-08-27-nux",NUX_2025_09_15:"viewed2025-09-15-nux",NUX_2025_09_15_FULL_CHATGPT_AUTH_VIEWED:"viewed2025-09-15-full-chatgpt-auth-nux",NUX_2025_09_15_APIKEY_AUTH_VIEWED:"viewed2025-09-15-apikey-auth-nux",WINDOWS_WSL_REMINDER_DISMISSED_AT:"windows-wsl-reminder-dismissed-date",WINDOWS_SANDBOX_ENABLED:"windows-sandbox-enabled",UPSELL_BANNER_CODEX_REMOTE_DISMISSED_AT:"upsell-banner-codex-remote-dismissed-at",SHOW_COPILOT_LOGIN_FIRST:"show-copilot-login-first",USE_COPILOT_AUTH_IF_AVAILABLE:"use-copilot-auth-if-available",COPILOT_DEFAULT_MODEL:"copilot-default-model",NOTIFICATIONS_TURN_MODE:"notifications-turn-mode",NOTIFICATIONS_PERMISSIONS_ENABLED:"notifications-permissions-enabled",ACTIVE_WORKSPACE_ROOTS:"active-workspace-roots",WORKSPACE_ROOT_OPTIONS:"electron-saved-workspace-roots",WORKSPACE_ROOT_LABELS:"electron-workspace-root-labels",OPEN_IN_TARGET_PREFERENCES:"open-in-target-preferences",PINNED_THREAD_IDS:"pinned-thread-ids",THREAD_TITLES:"thread-titles",PERSISTED_ATOM_STATE:"persisted-atom-state",QUEUED_FOLLOW_UPS:"queued-follow-ups"}});var Qk=E(()=>{"use strict"});var eI=E(()=>{"use strict"});function k(t,e,r){function o(a,c){if(a._zod||Object.defineProperty(a,"_zod",{value:{def:c,constr:s,traits:new Set},enumerable:!1}),a._zod.traits.has(t))return;a._zod.traits.add(t),e(a,c);let u=s.prototype,l=Object.keys(u);for(let p=0;p<l.length;p++){let g=l[p];g in a||(a[g]=u[g].bind(a))}}let n=r?.Parent??Object;class i extends n{}Object.defineProperty(i,"name",{value:t});function s(a){var c;let u=r?.Parent?new i:this;o(u,a),(c=u._zod).deferred??(c.deferred=[]);for(let l of u._zod.deferred)l();return u}return Object.defineProperty(s,"init",{value:o}),Object.defineProperty(s,Symbol.hasInstance,{value:a=>r?.Parent&&a instanceof r.Parent?!0:a?._zod?.traits?.has(t)}),Object.defineProperty(s,"name",{value:t}),s}function dt(t){return t&&Object.assign(nc,t),nc}var od,oc,Kr,uo,nc,ns=E(()=>{od=Object.freeze({status:"aborted"});oc=Symbol("zod_brand"),Kr=class extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}},uo=class extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}},nc={}});var z={};Un(z,{BIGINT_FORMAT_RANGES:()=>By,Class:()=>zy,NUMBER_FORMAT_RANGES:()=>Zy,aborted:()=>ho,allowsEval:()=>Uy,assert:()=>A4,assertEqual:()=>$4,assertIs:()=>P4,assertNever:()=>C4,assertNotEqual:()=>R4,assignProp:()=>po,base64ToUint8Array:()=>rI,base64urlToUint8Array:()=>K4,cached:()=>is,captureStackTrace:()=>sd,cleanEnum:()=>G4,cleanRegex:()=>ac,clone:()=>Ot,cloneDef:()=>N4,createTransparentProxy:()=>U4,defineLazy:()=>Ae,esc:()=>id,escapeRegex:()=>jr,extend:()=>W4,finalizeIssue:()=>Sr,floatSafeRemainder:()=>jy,getElementAtPath:()=>D4,getEnumValues:()=>sc,getLengthableOrigin:()=>lc,getParsedType:()=>L4,getSizableOrigin:()=>uc,hexToUint8Array:()=>Y4,isObject:()=>ri,isPlainObject:()=>mo,issue:()=>ss,joinValues:()=>C,jsonStringifyReplacer:()=>os,merge:()=>B4,mergeDefs:()=>fo,normalizeParams:()=>F,nullish:()=>lo,numKeys:()=>j4,objectClone:()=>O4,omit:()=>q4,optionalKeys:()=>Wy,partial:()=>H4,pick:()=>F4,prefixIssues:()=>xr,primitiveTypes:()=>qy,promiseAllObject:()=>M4,propertyKeyTypes:()=>cc,randomString:()=>z4,required:()=>V4,safeExtend:()=>Z4,shallowClone:()=>Fy,slugify:()=>Ly,stringifyPrimitive:()=>L,uint8ArrayToBase64:()=>nI,uint8ArrayToBase64url:()=>J4,uint8ArrayToHex:()=>X4,unwrapMessage:()=>ic});function $4(t){return t}function R4(t){return t}function P4(t){}function C4(t){throw new Error}function A4(t){}function sc(t){let e=Object.values(t).filter(o=>typeof o=="number");return Object.entries(t).filter(([o,n])=>e.indexOf(+o)===-1).map(([o,n])=>n)}function C(t,e="|"){return t.map(r=>L(r)).join(e)}function os(t,e){return typeof e=="bigint"?e.toString():e}function is(t){return{get value(){{let r=t();return Object.defineProperty(this,"value",{value:r}),r}throw new Error("cached value already set")}}}function lo(t){return t==null}function ac(t){let e=t.startsWith("^")?1:0,r=t.endsWith("$")?t.length-1:t.length;return t.slice(e,r)}function jy(t,e){let r=(t.toString().split(".")[1]||"").length,o=e.toString(),n=(o.split(".")[1]||"").length;if(n===0&&/\d?e-\d?/.test(o)){let c=o.match(/\d?e-(\d?)/);c?.[1]&&(n=Number.parseInt(c[1]))}let i=r>n?r:n,s=Number.parseInt(t.toFixed(i).replace(".","")),a=Number.parseInt(e.toFixed(i).replace(".",""));return s%a/10**i}function Ae(t,e,r){let o;Object.defineProperty(t,e,{get(){if(o!==tI)return o===void 0&&(o=tI,o=r()),o},set(n){Object.defineProperty(t,e,{value:n})},configurable:!0})}function O4(t){return Object.create(Object.getPrototypeOf(t),Object.getOwnPropertyDescriptors(t))}function po(t,e,r){Object.defineProperty(t,e,{value:r,writable:!0,enumerable:!0,configurable:!0})}function fo(...t){let e={};for(let r of t){let o=Object.getOwnPropertyDescriptors(r);Object.assign(e,o)}return Object.defineProperties({},e)}function N4(t){return fo(t._zod.def)}function D4(t,e){return e?e.reduce((r,o)=>r?.[o],t):t}function M4(t){let e=Object.keys(t),r=e.map(o=>t[o]);return Promise.all(r).then(o=>{let n={};for(let i=0;i<e.length;i++)n[e[i]]=o[i];return n})}function z4(t=10){let e="abcdefghijklmnopqrstuvwxyz",r="";for(let o=0;o<t;o++)r+=e[Math.floor(Math.random()*e.length)];return r}function id(t){return JSON.stringify(t)}function Ly(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}function ri(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}function mo(t){if(ri(t)===!1)return!1;let e=t.constructor;if(e===void 0||typeof e!="function")return!0;let r=e.prototype;return!(ri(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function Fy(t){return mo(t)?{...t}:Array.isArray(t)?[...t]:t}function j4(t){let e=0;for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function jr(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Ot(t,e,r){let o=new t._zod.constr(e??t._zod.def);return(!e||r?.parent)&&(o._zod.parent=t),o}function F(t){let e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function U4(t){let e;return new Proxy({},{get(r,o,n){return e??(e=t()),Reflect.get(e,o,n)},set(r,o,n,i){return e??(e=t()),Reflect.set(e,o,n,i)},has(r,o){return e??(e=t()),Reflect.has(e,o)},deleteProperty(r,o){return e??(e=t()),Reflect.deleteProperty(e,o)},ownKeys(r){return e??(e=t()),Reflect.ownKeys(e)},getOwnPropertyDescriptor(r,o){return e??(e=t()),Reflect.getOwnPropertyDescriptor(e,o)},defineProperty(r,o,n){return e??(e=t()),Reflect.defineProperty(e,o,n)}})}function L(t){return typeof t=="bigint"?t.toString()+"n":typeof t=="string"?`"${t}"`:`${t}`}function Wy(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}function F4(t,e){let r=t._zod.def,o=fo(t._zod.def,{get shape(){let n={};for(let i in e){if(!(i in r.shape))throw new Error(`Unrecognized key: "${i}"`);e[i]&&(n[i]=r.shape[i])}return po(this,"shape",n),n},checks:[]});return Ot(t,o)}function q4(t,e){let r=t._zod.def,o=fo(t._zod.def,{get shape(){let n={...t._zod.def.shape};for(let i in e){if(!(i in r.shape))throw new Error(`Unrecognized key: "${i}"`);e[i]&&delete n[i]}return po(this,"shape",n),n},checks:[]});return Ot(t,o)}function W4(t,e){if(!mo(e))throw new Error("Invalid input to extend: expected a plain object");let r=t._zod.def.checks;if(r&&r.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");let n=fo(t._zod.def,{get shape(){let i={...t._zod.def.shape,...e};return po(this,"shape",i),i},checks:[]});return Ot(t,n)}function Z4(t,e){if(!mo(e))throw new Error("Invalid input to safeExtend: expected a plain object");let r={...t._zod.def,get shape(){let o={...t._zod.def.shape,...e};return po(this,"shape",o),o},checks:t._zod.def.checks};return Ot(t,r)}function B4(t,e){let r=fo(t._zod.def,{get shape(){let o={...t._zod.def.shape,...e._zod.def.shape};return po(this,"shape",o),o},get catchall(){return e._zod.def.catchall},checks:[]});return Ot(t,r)}function H4(t,e,r){let o=fo(e._zod.def,{get shape(){let n=e._zod.def.shape,i={...n};if(r)for(let s in r){if(!(s in n))throw new Error(`Unrecognized key: "${s}"`);r[s]&&(i[s]=t?new t({type:"optional",innerType:n[s]}):n[s])}else for(let s in n)i[s]=t?new t({type:"optional",innerType:n[s]}):n[s];return po(this,"shape",i),i},checks:[]});return Ot(e,o)}function V4(t,e,r){let o=fo(e._zod.def,{get shape(){let n=e._zod.def.shape,i={...n};if(r)for(let s in r){if(!(s in i))throw new Error(`Unrecognized key: "${s}"`);r[s]&&(i[s]=new t({type:"nonoptional",innerType:n[s]}))}else for(let s in n)i[s]=new t({type:"nonoptional",innerType:n[s]});return po(this,"shape",i),i},checks:[]});return Ot(e,o)}function ho(t,e=0){if(t.aborted===!0)return!0;for(let r=e;r<t.issues.length;r++)if(t.issues[r]?.continue!==!0)return!0;return!1}function xr(t,e){return e.map(r=>{var o;return(o=r).path??(o.path=[]),r.path.unshift(t),r})}function ic(t){return typeof t=="string"?t:t?.message}function Sr(t,e,r){let o={...t,path:t.path??[]};if(!t.message){let n=ic(t.inst?._zod.def?.error?.(t))??ic(e?.error?.(t))??ic(r.customError?.(t))??ic(r.localeError?.(t))??"Invalid input";o.message=n}return delete o.inst,delete o.continue,e?.reportInput||delete o.input,o}function uc(t){return t instanceof Set?"set":t instanceof Map?"map":t instanceof File?"file":"unknown"}function lc(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function ss(...t){let[e,r,o]=t;return typeof e=="string"?{message:e,code:"custom",input:r,inst:o}:{...e}}function G4(t){return Object.entries(t).filter(([e,r])=>Number.isNaN(Number.parseInt(e,10))).map(e=>e[1])}function rI(t){let e=atob(t),r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);return r}function nI(t){let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}function K4(t){let e=t.replace(/-/g,"+").replace(/_/g,"/"),r="=".repeat((4-e.length%4)%4);return rI(e+r)}function J4(t){return nI(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function Y4(t){let e=t.replace(/^0x/,"");if(e.length%2!==0)throw new Error("Invalid hex string length");let r=new Uint8Array(e.length/2);for(let o=0;o<e.length;o+=2)r[o/2]=Number.parseInt(e.slice(o,o+2),16);return r}function X4(t){return Array.from(t).map(e=>e.toString(16).padStart(2,"0")).join("")}var tI,sd,Uy,L4,cc,qy,Zy,By,zy,se=E(()=>{tI=Symbol("evaluating");sd="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};Uy=is(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{let t=Function;return new t(""),!0}catch{return!1}});L4=t=>{let e=typeof t;switch(e){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(t)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":return Array.isArray(t)?"array":t===null?"null":t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?"promise":typeof Map<"u"&&t instanceof Map?"map":typeof Set<"u"&&t instanceof Set?"set":typeof Date<"u"&&t instanceof Date?"date":typeof File<"u"&&t instanceof File?"file":"object";default:throw new Error(`Unknown data type: ${e}`)}},cc=new Set(["string","number","symbol"]),qy=new Set(["string","number","bigint","boolean","symbol","undefined"]);Zy={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},By={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};zy=class{constructor(...e){}}});function as(t,e=r=>r.message){let r={},o=[];for(let n of t.issues)n.path.length>0?(r[n.path[0]]=r[n.path[0]]||[],r[n.path[0]].push(e(n))):o.push(e(n));return{formErrors:o,fieldErrors:r}}function cs(t,e=r=>r.message){let r={_errors:[]},o=n=>{for(let i of n.issues)if(i.code==="invalid_union"&&i.errors.length)i.errors.map(s=>o({issues:s}));else if(i.code==="invalid_key")o({issues:i.issues});else if(i.code==="invalid_element")o({issues:i.issues});else if(i.path.length===0)r._errors.push(e(i));else{let s=r,a=0;for(;a<i.path.length;){let c=i.path[a];a===i.path.length-1?(s[c]=s[c]||{_errors:[]},s[c]._errors.push(e(i))):s[c]=s[c]||{_errors:[]},s=s[c],a++}}};return o(t),r}function ad(t,e=r=>r.message){let r={errors:[]},o=(n,i=[])=>{var s,a;for(let c of n.issues)if(c.code==="invalid_union"&&c.errors.length)c.errors.map(u=>o({issues:u},c.path));else if(c.code==="invalid_key")o({issues:c.issues},c.path);else if(c.code==="invalid_element")o({issues:c.issues},c.path);else{let u=[...i,...c.path];if(u.length===0){r.errors.push(e(c));continue}let l=r,p=0;for(;p<u.length;){let g=u[p],v=p===u.length-1;typeof g=="string"?(l.properties??(l.properties={}),(s=l.properties)[g]??(s[g]={errors:[]}),l=l.properties[g]):(l.items??(l.items=[]),(a=l.items)[g]??(a[g]={errors:[]}),l=l.items[g]),v&&l.errors.push(e(c)),p++}}};return o(t),r}function iI(t){let e=[],r=t.map(o=>typeof o=="object"?o.key:o);for(let o of r)typeof o=="number"?e.push(`[${o}]`):typeof o=="symbol"?e.push(`[${JSON.stringify(String(o))}]`):/[^\w$]/.test(o)?e.push(`[${JSON.stringify(o)}]`):(e.length&&e.push("."),e.push(o));return e.join("")}function cd(t){let e=[],r=[...t.issues].sort((o,n)=>(o.path??[]).length-(n.path??[]).length);for(let o of r)e.push(`\u2716 ${o.message}`),o.path?.length&&e.push(`  \u2192 at ${iI(o.path)}`);return e.join(`
`)}var oI,dc,lr,Hy=E(()=>{ns();se();oI=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,os,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},dc=k("$ZodError",oI),lr=k("$ZodError",oI,{Parent:Error})});var us,ni,ls,oi,ds,go,ps,yo,ud,sI,ld,aI,dd,cI,pd,uI,fd,lI,md,dI,hd,pI,gd,fI,Vy=E(()=>{ns();Hy();se();us=t=>(e,r,o,n)=>{let i=o?Object.assign(o,{async:!1}):{async:!1},s=e._zod.run({value:r,issues:[]},i);if(s instanceof Promise)throw new Kr;if(s.issues.length){let a=new(n?.Err??t)(s.issues.map(c=>Sr(c,i,dt())));throw sd(a,n?.callee),a}return s.value},ni=us(lr),ls=t=>async(e,r,o,n)=>{let i=o?Object.assign(o,{async:!0}):{async:!0},s=e._zod.run({value:r,issues:[]},i);if(s instanceof Promise&&(s=await s),s.issues.length){let a=new(n?.Err??t)(s.issues.map(c=>Sr(c,i,dt())));throw sd(a,n?.callee),a}return s.value},oi=ls(lr),ds=t=>(e,r,o)=>{let n=o?{...o,async:!1}:{async:!1},i=e._zod.run({value:r,issues:[]},n);if(i instanceof Promise)throw new Kr;return i.issues.length?{success:!1,error:new(t??dc)(i.issues.map(s=>Sr(s,n,dt())))}:{success:!0,data:i.value}},go=ds(lr),ps=t=>async(e,r,o)=>{let n=o?Object.assign(o,{async:!0}):{async:!0},i=e._zod.run({value:r,issues:[]},n);return i instanceof Promise&&(i=await i),i.issues.length?{success:!1,error:new t(i.issues.map(s=>Sr(s,n,dt())))}:{success:!0,data:i.value}},yo=ps(lr),ud=t=>(e,r,o)=>{let n=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return us(t)(e,r,n)},sI=ud(lr),ld=t=>(e,r,o)=>us(t)(e,r,o),aI=ld(lr),dd=t=>async(e,r,o)=>{let n=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return ls(t)(e,r,n)},cI=dd(lr),pd=t=>async(e,r,o)=>ls(t)(e,r,o),uI=pd(lr),fd=t=>(e,r,o)=>{let n=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return ds(t)(e,r,n)},lI=fd(lr),md=t=>(e,r,o)=>ds(t)(e,r,o),dI=md(lr),hd=t=>async(e,r,o)=>{let n=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return ps(t)(e,r,n)},pI=hd(lr),gd=t=>async(e,r,o)=>ps(t)(e,r,o),fI=gd(lr)});var dr={};Un(dr,{base64:()=>uv,base64url:()=>yd,bigint:()=>hv,boolean:()=>vv,browserEmail:()=>aW,cidrv4:()=>av,cidrv6:()=>cv,cuid:()=>Gy,cuid2:()=>Ky,date:()=>dv,datetime:()=>fv,domain:()=>lW,duration:()=>ev,e164:()=>lv,email:()=>rv,emoji:()=>nv,extendedDuration:()=>eW,guid:()=>tv,hex:()=>dW,hostname:()=>uW,html5Email:()=>oW,idnEmail:()=>sW,integer:()=>gv,ipv4:()=>ov,ipv6:()=>iv,ksuid:()=>Xy,lowercase:()=>wv,mac:()=>sv,md5_base64:()=>fW,md5_base64url:()=>mW,md5_hex:()=>pW,nanoid:()=>Qy,null:()=>bv,number:()=>yv,rfc5322Email:()=>iW,sha1_base64:()=>gW,sha1_base64url:()=>yW,sha1_hex:()=>hW,sha256_base64:()=>bW,sha256_base64url:()=>_W,sha256_hex:()=>vW,sha384_base64:()=>xW,sha384_base64url:()=>SW,sha384_hex:()=>wW,sha512_base64:()=>kW,sha512_base64url:()=>IW,sha512_hex:()=>EW,string:()=>mv,time:()=>pv,ulid:()=>Jy,undefined:()=>_v,unicodeEmail:()=>mI,uppercase:()=>xv,uuid:()=>ii,uuid4:()=>tW,uuid6:()=>rW,uuid7:()=>nW,xid:()=>Yy});function nv(){return new RegExp(cW,"u")}function gI(t){let e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function pv(t){return new RegExp(`^${gI(t)}$`)}function fv(t){let e=gI({precision:t.precision}),r=["Z"];t.local&&r.push(""),t.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");let o=`${e}(?:${r.join("|")})`;return new RegExp(`^${hI}T(?:${o})$`)}function pc(t,e){return new RegExp(`^[A-Za-z0-9+/]{${t}}${e}$`)}function fc(t){return new RegExp(`^[A-Za-z0-9_-]{${t}}$`)}var Gy,Ky,Jy,Yy,Xy,Qy,ev,eW,tv,ii,tW,rW,nW,rv,oW,iW,mI,sW,aW,cW,ov,iv,sv,av,cv,uv,yd,uW,lW,lv,hI,dv,mv,hv,gv,yv,vv,bv,_v,wv,xv,dW,pW,fW,mW,hW,gW,yW,vW,bW,_W,wW,xW,SW,EW,kW,IW,vd=E(()=>{se();Gy=/^[cC][^\s-]{8,}$/,Ky=/^[0-9a-z]+$/,Jy=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,Yy=/^[0-9a-vA-V]{20}$/,Xy=/^[A-Za-z0-9]{27}$/,Qy=/^[a-zA-Z0-9_-]{21}$/,ev=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,eW=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,tv=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,ii=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,tW=ii(4),rW=ii(6),nW=ii(7),rv=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,oW=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,iW=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,mI=/^[^\s@"]{1,64}@[^\s@]{1,255}$/u,sW=mI,aW=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,cW="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";ov=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,iv=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,sv=t=>{let e=jr(t??":");return new RegExp(`^(?:[0-9A-F]{2}${e}){5}[0-9A-F]{2}$|^(?:[0-9a-f]{2}${e}){5}[0-9a-f]{2}$`)},av=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,cv=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,uv=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,yd=/^[A-Za-z0-9_-]*$/,uW=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,lW=/^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,lv=/^\+(?:[0-9]){6,14}[0-9]$/,hI="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",dv=new RegExp(`^${hI}$`);mv=t=>{let e=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},hv=/^-?\d+n?$/,gv=/^-?\d+$/,yv=/^-?\d+(?:\.\d+)?/,vv=/^(?:true|false)$/i,bv=/^null$/i,_v=/^undefined$/i,wv=/^[^A-Z]*$/,xv=/^[^a-z]*$/,dW=/^[0-9a-fA-F]*$/;pW=/^[0-9a-fA-F]{32}$/,fW=pc(22,"=="),mW=fc(22),hW=/^[0-9a-fA-F]{40}$/,gW=pc(27,"="),yW=fc(27),vW=/^[0-9a-fA-F]{64}$/,bW=pc(43,"="),_W=fc(43),wW=/^[0-9a-fA-F]{96}$/,xW=pc(64,""),SW=fc(64),EW=/^[0-9a-fA-F]{128}$/,kW=pc(86,"=="),IW=fc(86)});function yI(t,e,r){t.issues.length&&e.issues.push(...xr(r,t.issues))}var Ve,vI,bd,_d,Sv,Ev,kv,Iv,Tv,$v,Rv,Pv,Cv,fs,Av,Ov,Nv,Dv,Mv,zv,jv,Lv,Uv,wd=E(()=>{ns();vd();se();Ve=k("$ZodCheck",(t,e)=>{var r;t._zod??(t._zod={}),t._zod.def=e,(r=t._zod).onattach??(r.onattach=[])}),vI={number:"number",bigint:"bigint",object:"date"},bd=k("$ZodCheckLessThan",(t,e)=>{Ve.init(t,e);let r=vI[typeof e.value];t._zod.onattach.push(o=>{let n=o._zod.bag,i=(e.inclusive?n.maximum:n.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<i&&(e.inclusive?n.maximum=e.value:n.exclusiveMaximum=e.value)}),t._zod.check=o=>{(e.inclusive?o.value<=e.value:o.value<e.value)||o.issues.push({origin:r,code:"too_big",maximum:e.value,input:o.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),_d=k("$ZodCheckGreaterThan",(t,e)=>{Ve.init(t,e);let r=vI[typeof e.value];t._zod.onattach.push(o=>{let n=o._zod.bag,i=(e.inclusive?n.minimum:n.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>i&&(e.inclusive?n.minimum=e.value:n.exclusiveMinimum=e.value)}),t._zod.check=o=>{(e.inclusive?o.value>=e.value:o.value>e.value)||o.issues.push({origin:r,code:"too_small",minimum:e.value,input:o.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),Sv=k("$ZodCheckMultipleOf",(t,e)=>{Ve.init(t,e),t._zod.onattach.push(r=>{var o;(o=r._zod.bag).multipleOf??(o.multipleOf=e.value)}),t._zod.check=r=>{if(typeof r.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%e.value===BigInt(0):jy(r.value,e.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:e.value,input:r.value,inst:t,continue:!e.abort})}}),Ev=k("$ZodCheckNumberFormat",(t,e)=>{Ve.init(t,e),e.format=e.format||"float64";let r=e.format?.includes("int"),o=r?"int":"number",[n,i]=Zy[e.format];t._zod.onattach.push(s=>{let a=s._zod.bag;a.format=e.format,a.minimum=n,a.maximum=i,r&&(a.pattern=gv)}),t._zod.check=s=>{let a=s.value;if(r){if(!Number.isInteger(a)){s.issues.push({expected:o,format:e.format,code:"invalid_type",continue:!1,input:a,inst:t});return}if(!Number.isSafeInteger(a)){a>0?s.issues.push({input:a,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:o,continue:!e.abort}):s.issues.push({input:a,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:o,continue:!e.abort});return}}a<n&&s.issues.push({origin:"number",input:a,code:"too_small",minimum:n,inclusive:!0,inst:t,continue:!e.abort}),a>i&&s.issues.push({origin:"number",input:a,code:"too_big",maximum:i,inst:t})}}),kv=k("$ZodCheckBigIntFormat",(t,e)=>{Ve.init(t,e);let[r,o]=By[e.format];t._zod.onattach.push(n=>{let i=n._zod.bag;i.format=e.format,i.minimum=r,i.maximum=o}),t._zod.check=n=>{let i=n.value;i<r&&n.issues.push({origin:"bigint",input:i,code:"too_small",minimum:r,inclusive:!0,inst:t,continue:!e.abort}),i>o&&n.issues.push({origin:"bigint",input:i,code:"too_big",maximum:o,inst:t})}}),Iv=k("$ZodCheckMaxSize",(t,e)=>{var r;Ve.init(t,e),(r=t._zod.def).when??(r.when=o=>{let n=o.value;return!lo(n)&&n.size!==void 0}),t._zod.onattach.push(o=>{let n=o._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<n&&(o._zod.bag.maximum=e.maximum)}),t._zod.check=o=>{let n=o.value;n.size<=e.maximum||o.issues.push({origin:uc(n),code:"too_big",maximum:e.maximum,inclusive:!0,input:n,inst:t,continue:!e.abort})}}),Tv=k("$ZodCheckMinSize",(t,e)=>{var r;Ve.init(t,e),(r=t._zod.def).when??(r.when=o=>{let n=o.value;return!lo(n)&&n.size!==void 0}),t._zod.onattach.push(o=>{let n=o._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>n&&(o._zod.bag.minimum=e.minimum)}),t._zod.check=o=>{let n=o.value;n.size>=e.minimum||o.issues.push({origin:uc(n),code:"too_small",minimum:e.minimum,inclusive:!0,input:n,inst:t,continue:!e.abort})}}),$v=k("$ZodCheckSizeEquals",(t,e)=>{var r;Ve.init(t,e),(r=t._zod.def).when??(r.when=o=>{let n=o.value;return!lo(n)&&n.size!==void 0}),t._zod.onattach.push(o=>{let n=o._zod.bag;n.minimum=e.size,n.maximum=e.size,n.size=e.size}),t._zod.check=o=>{let n=o.value,i=n.size;if(i===e.size)return;let s=i>e.size;o.issues.push({origin:uc(n),...s?{code:"too_big",maximum:e.size}:{code:"too_small",minimum:e.size},inclusive:!0,exact:!0,input:o.value,inst:t,continue:!e.abort})}}),Rv=k("$ZodCheckMaxLength",(t,e)=>{var r;Ve.init(t,e),(r=t._zod.def).when??(r.when=o=>{let n=o.value;return!lo(n)&&n.length!==void 0}),t._zod.onattach.push(o=>{let n=o._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<n&&(o._zod.bag.maximum=e.maximum)}),t._zod.check=o=>{let n=o.value;if(n.length<=e.maximum)return;let s=lc(n);o.issues.push({origin:s,code:"too_big",maximum:e.maximum,inclusive:!0,input:n,inst:t,continue:!e.abort})}}),Pv=k("$ZodCheckMinLength",(t,e)=>{var r;Ve.init(t,e),(r=t._zod.def).when??(r.when=o=>{let n=o.value;return!lo(n)&&n.length!==void 0}),t._zod.onattach.push(o=>{let n=o._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>n&&(o._zod.bag.minimum=e.minimum)}),t._zod.check=o=>{let n=o.value;if(n.length>=e.minimum)return;let s=lc(n);o.issues.push({origin:s,code:"too_small",minimum:e.minimum,inclusive:!0,input:n,inst:t,continue:!e.abort})}}),Cv=k("$ZodCheckLengthEquals",(t,e)=>{var r;Ve.init(t,e),(r=t._zod.def).when??(r.when=o=>{let n=o.value;return!lo(n)&&n.length!==void 0}),t._zod.onattach.push(o=>{let n=o._zod.bag;n.minimum=e.length,n.maximum=e.length,n.length=e.length}),t._zod.check=o=>{let n=o.value,i=n.length;if(i===e.length)return;let s=lc(n),a=i>e.length;o.issues.push({origin:s,...a?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:o.value,inst:t,continue:!e.abort})}}),fs=k("$ZodCheckStringFormat",(t,e)=>{var r,o;Ve.init(t,e),t._zod.onattach.push(n=>{let i=n._zod.bag;i.format=e.format,e.pattern&&(i.patterns??(i.patterns=new Set),i.patterns.add(e.pattern))}),e.pattern?(r=t._zod).check??(r.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:e.format,input:n.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(o=t._zod).check??(o.check=()=>{})}),Av=k("$ZodCheckRegex",(t,e)=>{fs.init(t,e),t._zod.check=r=>{e.pattern.lastIndex=0,!e.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),Ov=k("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=wv),fs.init(t,e)}),Nv=k("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=xv),fs.init(t,e)}),Dv=k("$ZodCheckIncludes",(t,e)=>{Ve.init(t,e);let r=jr(e.includes),o=new RegExp(typeof e.position=="number"?`^.{${e.position}}${r}`:r);e.pattern=o,t._zod.onattach.push(n=>{let i=n._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(o)}),t._zod.check=n=>{n.value.includes(e.includes,e.position)||n.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:n.value,inst:t,continue:!e.abort})}}),Mv=k("$ZodCheckStartsWith",(t,e)=>{Ve.init(t,e);let r=new RegExp(`^${jr(e.prefix)}.*`);e.pattern??(e.pattern=r),t._zod.onattach.push(o=>{let n=o._zod.bag;n.patterns??(n.patterns=new Set),n.patterns.add(r)}),t._zod.check=o=>{o.value.startsWith(e.prefix)||o.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:o.value,inst:t,continue:!e.abort})}}),zv=k("$ZodCheckEndsWith",(t,e)=>{Ve.init(t,e);let r=new RegExp(`.*${jr(e.suffix)}$`);e.pattern??(e.pattern=r),t._zod.onattach.push(o=>{let n=o._zod.bag;n.patterns??(n.patterns=new Set),n.patterns.add(r)}),t._zod.check=o=>{o.value.endsWith(e.suffix)||o.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:o.value,inst:t,continue:!e.abort})}});jv=k("$ZodCheckProperty",(t,e)=>{Ve.init(t,e),t._zod.check=r=>{let o=e.schema._zod.run({value:r.value[e.property],issues:[]},{});if(o instanceof Promise)return o.then(n=>yI(n,r,e.property));yI(o,r,e.property)}}),Lv=k("$ZodCheckMimeType",(t,e)=>{Ve.init(t,e);let r=new Set(e.mime);t._zod.onattach.push(o=>{o._zod.bag.mime=e.mime}),t._zod.check=o=>{r.has(o.value.type)||o.issues.push({code:"invalid_value",values:e.mime,input:o.value.type,inst:t,continue:!e.abort})}}),Uv=k("$ZodCheckOverwrite",(t,e)=>{Ve.init(t,e),t._zod.check=r=>{r.value=e.tx(r.value)}})});var mc,Fv=E(()=>{mc=class{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}let o=e.split(`
`).filter(s=>s),n=Math.min(...o.map(s=>s.length-s.trimStart().length)),i=o.map(s=>s.slice(n)).map(s=>" ".repeat(this.indent*2)+s);for(let s of i)this.content.push(s)}compile(){let e=Function,r=this?.args,n=[...(this?.content??[""]).map(i=>`  ${i}`)];return new e(...r,n.join(`
`))}}});var qv,Wv=E(()=>{qv={major:4,minor:1,patch:13}});function Bv(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}function PI(t){if(!yd.test(t))return!1;let e=t.replace(/[-_]/g,o=>o==="-"?"+":"/"),r=e.padEnd(Math.ceil(e.length/4)*4,"=");return Bv(r)}function CI(t,e=null){try{let r=t.split(".");if(r.length!==3)return!1;let[o]=r;if(!o)return!1;let n=JSON.parse(atob(o));return!("typ"in n&&n?.typ!=="JWT"||!n.alg||e&&(!("alg"in n)||n.alg!==e))}catch{return!1}}function _I(t,e,r){t.issues.length&&e.issues.push(...xr(r,t.issues)),e.value[r]=t.value}function Id(t,e,r,o){t.issues.length&&e.issues.push(...xr(r,t.issues)),t.value===void 0?r in o&&(e.value[r]=void 0):e.value[r]=t.value}function AI(t){let e=Object.keys(t.shape);for(let o of e)if(!t.shape?.[o]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${o}": expected a Zod schema`);let r=Wy(t.shape);return{...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(r)}}function OI(t,e,r,o,n,i){let s=[],a=n.keySet,c=n.catchall._zod,u=c.def.type;for(let l in e){if(a.has(l))continue;if(u==="never"){s.push(l);continue}let p=c.run({value:e[l],issues:[]},o);p instanceof Promise?t.push(p.then(g=>Id(g,r,l,e))):Id(p,r,l,e)}return s.length&&r.issues.push({code:"unrecognized_keys",keys:s,input:e,inst:i}),t.length?Promise.all(t).then(()=>r):r}function wI(t,e,r,o){for(let i of t)if(i.issues.length===0)return e.value=i.value,e;let n=t.filter(i=>!ho(i));return n.length===1?(e.value=n[0].value,n[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:r,errors:t.map(i=>i.issues.map(s=>Sr(s,o,dt())))}),e)}function Zv(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(mo(t)&&mo(e)){let r=Object.keys(e),o=Object.keys(t).filter(i=>r.indexOf(i)!==-1),n={...t,...e};for(let i of o){let s=Zv(t[i],e[i]);if(!s.valid)return{valid:!1,mergeErrorPath:[i,...s.mergeErrorPath]};n[i]=s.data}return{valid:!0,data:n}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};let r=[];for(let o=0;o<t.length;o++){let n=t[o],i=e[o],s=Zv(n,i);if(!s.valid)return{valid:!1,mergeErrorPath:[o,...s.mergeErrorPath]};r.push(s.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function xI(t,e,r){if(e.issues.length&&t.issues.push(...e.issues),r.issues.length&&t.issues.push(...r.issues),ho(t))return t;let o=Zv(e.value,r.value);if(!o.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(o.mergeErrorPath)}`);return t.value=o.data,t}function xd(t,e,r){t.issues.length&&e.issues.push(...xr(r,t.issues)),e.value[r]=t.value}function SI(t,e,r,o,n,i,s){t.issues.length&&(cc.has(typeof o)?r.issues.push(...xr(o,t.issues)):r.issues.push({code:"invalid_key",origin:"map",input:n,inst:i,issues:t.issues.map(a=>Sr(a,s,dt()))})),e.issues.length&&(cc.has(typeof o)?r.issues.push(...xr(o,e.issues)):r.issues.push({origin:"map",code:"invalid_element",input:n,inst:i,key:o,issues:e.issues.map(a=>Sr(a,s,dt()))})),r.value.set(t.value,e.value)}function EI(t,e){t.issues.length&&e.issues.push(...t.issues),e.value.add(t.value)}function kI(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}function II(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}function TI(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}function Sd(t,e,r){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},r)}function Ed(t,e,r){if(t.issues.length)return t.aborted=!0,t;if((r.direction||"forward")==="forward"){let n=e.transform(t.value,t);return n instanceof Promise?n.then(i=>kd(t,i,e.out,r)):kd(t,n,e.out,r)}else{let n=e.reverseTransform(t.value,t);return n instanceof Promise?n.then(i=>kd(t,i,e.in,r)):kd(t,n,e.in,r)}}function kd(t,e,r,o){return t.issues.length?(t.aborted=!0,t):r._zod.run({value:e,issues:t.issues},o)}function $I(t){return t.value=Object.freeze(t.value),t}function RI(t,e,r,o){if(!t){let n={code:"custom",input:r,inst:o,path:[...o._zod.def.path??[]],continue:!o._zod.def.abort};o._zod.def.params&&(n.params=o._zod.def.params),e.issues.push(ss(n))}}var fe,vo,Be,Td,$d,Rd,Pd,Cd,Ad,Od,Nd,Dd,Md,zd,jd,Ld,Ud,Fd,qd,Wd,Zd,Bd,Hd,Vd,Gd,Kd,Jd,Yd,hc,Xd,ms,gc,Qd,ep,tp,rp,np,op,ip,sp,ap,cp,up,Hv,yc,lp,dp,vc,pp,fp,mp,hp,gp,yp,vp,bp,_p,wp,xp,Sp,Ep,kp,Ip,Tp,hs,$p,Rp,Pp,Cp,Ap,Op,Vv=E(()=>{wd();ns();Fv();Vy();vd();se();Wv();se();fe=k("$ZodType",(t,e)=>{var r;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=qv;let o=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&o.unshift(t);for(let n of o)for(let i of n._zod.onattach)i(t);if(o.length===0)(r=t._zod).deferred??(r.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{let n=(s,a,c)=>{let u=ho(s),l;for(let p of a){if(p._zod.def.when){if(!p._zod.def.when(s))continue}else if(u)continue;let g=s.issues.length,v=p._zod.check(s);if(v instanceof Promise&&c?.async===!1)throw new Kr;if(l||v instanceof Promise)l=(l??Promise.resolve()).then(async()=>{await v,s.issues.length!==g&&(u||(u=ho(s,g)))});else{if(s.issues.length===g)continue;u||(u=ho(s,g))}}return l?l.then(()=>s):s},i=(s,a,c)=>{if(ho(s))return s.aborted=!0,s;let u=n(a,o,c);if(u instanceof Promise){if(c.async===!1)throw new Kr;return u.then(l=>t._zod.parse(l,c))}return t._zod.parse(u,c)};t._zod.run=(s,a)=>{if(a.skipChecks)return t._zod.parse(s,a);if(a.direction==="backward"){let u=t._zod.parse({value:s.value,issues:[]},{...a,skipChecks:!0});return u instanceof Promise?u.then(l=>i(l,s,a)):i(u,s,a)}let c=t._zod.parse(s,a);if(c instanceof Promise){if(a.async===!1)throw new Kr;return c.then(u=>n(u,o,a))}return n(c,o,a)}}t["~standard"]={validate:n=>{try{let i=go(t,n);return i.success?{value:i.data}:{issues:i.error?.issues}}catch{return yo(t,n).then(s=>s.success?{value:s.data}:{issues:s.error?.issues})}},vendor:"zod",version:1}}),vo=k("$ZodString",(t,e)=>{fe.init(t,e),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??mv(t._zod.bag),t._zod.parse=(r,o)=>{if(e.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:t}),r}}),Be=k("$ZodStringFormat",(t,e)=>{fs.init(t,e),vo.init(t,e)}),Td=k("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=tv),Be.init(t,e)}),$d=k("$ZodUUID",(t,e)=>{if(e.version){let o={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(o===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=ii(o))}else e.pattern??(e.pattern=ii());Be.init(t,e)}),Rd=k("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=rv),Be.init(t,e)}),Pd=k("$ZodURL",(t,e)=>{Be.init(t,e),t._zod.check=r=>{try{let o=r.value.trim(),n=new URL(o);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(n.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:e.hostname.source,input:r.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(n.protocol.endsWith(":")?n.protocol.slice(0,-1):n.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:r.value,inst:t,continue:!e.abort})),e.normalize?r.value=n.href:r.value=o;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:t,continue:!e.abort})}}}),Cd=k("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=nv()),Be.init(t,e)}),Ad=k("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=Qy),Be.init(t,e)}),Od=k("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=Gy),Be.init(t,e)}),Nd=k("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=Ky),Be.init(t,e)}),Dd=k("$ZodULID",(t,e)=>{e.pattern??(e.pattern=Jy),Be.init(t,e)}),Md=k("$ZodXID",(t,e)=>{e.pattern??(e.pattern=Yy),Be.init(t,e)}),zd=k("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=Xy),Be.init(t,e)}),jd=k("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=fv(e)),Be.init(t,e)}),Ld=k("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=dv),Be.init(t,e)}),Ud=k("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=pv(e)),Be.init(t,e)}),Fd=k("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=ev),Be.init(t,e)}),qd=k("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=ov),Be.init(t,e),t._zod.bag.format="ipv4"}),Wd=k("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=iv),Be.init(t,e),t._zod.bag.format="ipv6",t._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:t,continue:!e.abort})}}}),Zd=k("$ZodMAC",(t,e)=>{e.pattern??(e.pattern=sv(e.delimiter)),Be.init(t,e),t._zod.bag.format="mac"}),Bd=k("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=av),Be.init(t,e)}),Hd=k("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=cv),Be.init(t,e),t._zod.check=r=>{let o=r.value.split("/");try{if(o.length!==2)throw new Error;let[n,i]=o;if(!i)throw new Error;let s=Number(i);if(`${s}`!==i)throw new Error;if(s<0||s>128)throw new Error;new URL(`http://[${n}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:t,continue:!e.abort})}}});Vd=k("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=uv),Be.init(t,e),t._zod.bag.contentEncoding="base64",t._zod.check=r=>{Bv(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:t,continue:!e.abort})}});Gd=k("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=yd),Be.init(t,e),t._zod.bag.contentEncoding="base64url",t._zod.check=r=>{PI(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:t,continue:!e.abort})}}),Kd=k("$ZodE164",(t,e)=>{e.pattern??(e.pattern=lv),Be.init(t,e)});Jd=k("$ZodJWT",(t,e)=>{Be.init(t,e),t._zod.check=r=>{CI(r.value,e.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:t,continue:!e.abort})}}),Yd=k("$ZodCustomStringFormat",(t,e)=>{Be.init(t,e),t._zod.check=r=>{e.fn(r.value)||r.issues.push({code:"invalid_format",format:e.format,input:r.value,inst:t,continue:!e.abort})}}),hc=k("$ZodNumber",(t,e)=>{fe.init(t,e),t._zod.pattern=t._zod.bag.pattern??yv,t._zod.parse=(r,o)=>{if(e.coerce)try{r.value=Number(r.value)}catch{}let n=r.value;if(typeof n=="number"&&!Number.isNaN(n)&&Number.isFinite(n))return r;let i=typeof n=="number"?Number.isNaN(n)?"NaN":Number.isFinite(n)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:n,inst:t,...i?{received:i}:{}}),r}}),Xd=k("$ZodNumberFormat",(t,e)=>{Ev.init(t,e),hc.init(t,e)}),ms=k("$ZodBoolean",(t,e)=>{fe.init(t,e),t._zod.pattern=vv,t._zod.parse=(r,o)=>{if(e.coerce)try{r.value=!!r.value}catch{}let n=r.value;return typeof n=="boolean"||r.issues.push({expected:"boolean",code:"invalid_type",input:n,inst:t}),r}}),gc=k("$ZodBigInt",(t,e)=>{fe.init(t,e),t._zod.pattern=hv,t._zod.parse=(r,o)=>{if(e.coerce)try{r.value=BigInt(r.value)}catch{}return typeof r.value=="bigint"||r.issues.push({expected:"bigint",code:"invalid_type",input:r.value,inst:t}),r}}),Qd=k("$ZodBigIntFormat",(t,e)=>{kv.init(t,e),gc.init(t,e)}),ep=k("$ZodSymbol",(t,e)=>{fe.init(t,e),t._zod.parse=(r,o)=>{let n=r.value;return typeof n=="symbol"||r.issues.push({expected:"symbol",code:"invalid_type",input:n,inst:t}),r}}),tp=k("$ZodUndefined",(t,e)=>{fe.init(t,e),t._zod.pattern=_v,t._zod.values=new Set([void 0]),t._zod.optin="optional",t._zod.optout="optional",t._zod.parse=(r,o)=>{let n=r.value;return typeof n>"u"||r.issues.push({expected:"undefined",code:"invalid_type",input:n,inst:t}),r}}),rp=k("$ZodNull",(t,e)=>{fe.init(t,e),t._zod.pattern=bv,t._zod.values=new Set([null]),t._zod.parse=(r,o)=>{let n=r.value;return n===null||r.issues.push({expected:"null",code:"invalid_type",input:n,inst:t}),r}}),np=k("$ZodAny",(t,e)=>{fe.init(t,e),t._zod.parse=r=>r}),op=k("$ZodUnknown",(t,e)=>{fe.init(t,e),t._zod.parse=r=>r}),ip=k("$ZodNever",(t,e)=>{fe.init(t,e),t._zod.parse=(r,o)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:t}),r)}),sp=k("$ZodVoid",(t,e)=>{fe.init(t,e),t._zod.parse=(r,o)=>{let n=r.value;return typeof n>"u"||r.issues.push({expected:"void",code:"invalid_type",input:n,inst:t}),r}}),ap=k("$ZodDate",(t,e)=>{fe.init(t,e),t._zod.parse=(r,o)=>{if(e.coerce)try{r.value=new Date(r.value)}catch{}let n=r.value,i=n instanceof Date;return i&&!Number.isNaN(n.getTime())||r.issues.push({expected:"date",code:"invalid_type",input:n,...i?{received:"Invalid Date"}:{},inst:t}),r}});cp=k("$ZodArray",(t,e)=>{fe.init(t,e),t._zod.parse=(r,o)=>{let n=r.value;if(!Array.isArray(n))return r.issues.push({expected:"array",code:"invalid_type",input:n,inst:t}),r;r.value=Array(n.length);let i=[];for(let s=0;s<n.length;s++){let a=n[s],c=e.element._zod.run({value:a,issues:[]},o);c instanceof Promise?i.push(c.then(u=>_I(u,r,s))):_I(c,r,s)}return i.length?Promise.all(i).then(()=>r):r}});up=k("$ZodObject",(t,e)=>{if(fe.init(t,e),!Object.getOwnPropertyDescriptor(e,"shape")?.get){let a=e.shape;Object.defineProperty(e,"shape",{get:()=>{let c={...a};return Object.defineProperty(e,"shape",{value:c}),c}})}let o=is(()=>AI(e));Ae(t._zod,"propValues",()=>{let a=e.shape,c={};for(let u in a){let l=a[u]._zod;if(l.values){c[u]??(c[u]=new Set);for(let p of l.values)c[u].add(p)}}return c});let n=ri,i=e.catchall,s;t._zod.parse=(a,c)=>{s??(s=o.value);let u=a.value;if(!n(u))return a.issues.push({expected:"object",code:"invalid_type",input:u,inst:t}),a;a.value={};let l=[],p=s.shape;for(let g of s.keys){let h=p[g]._zod.run({value:u[g],issues:[]},c);h instanceof Promise?l.push(h.then(b=>Id(b,a,g,u))):Id(h,a,g,u)}return i?OI(l,u,a,c,o.value,t):l.length?Promise.all(l).then(()=>a):a}}),Hv=k("$ZodObjectJIT",(t,e)=>{up.init(t,e);let r=t._zod.parse,o=is(()=>AI(e)),n=g=>{let v=new mc(["shape","payload","ctx"]),h=o.value,b=P=>{let D=id(P);return`shape[${D}]._zod.run({ value: input[${D}], issues: [] }, ctx)`};v.write("const input = payload.value;");let _=Object.create(null),w=0;for(let P of h.keys)_[P]=`key_${w++}`;v.write("const newResult = {};");for(let P of h.keys){let D=_[P],q=id(P);v.write(`const ${D} = ${b(P)};`),v.write(`
        if (${D}.issues.length) {
          payload.issues = payload.issues.concat(${D}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${q}, ...iss.path] : [${q}]
          })));
        }
        
        
        if (${D}.value === undefined) {
          if (${q} in input) {
            newResult[${q}] = undefined;
          }
        } else {
          newResult[${q}] = ${D}.value;
        }
        
      `)}v.write("payload.value = newResult;"),v.write("return payload;");let T=v.compile();return(P,D)=>T(g,P,D)},i,s=ri,a=!nc.jitless,u=a&&Uy.value,l=e.catchall,p;t._zod.parse=(g,v)=>{p??(p=o.value);let h=g.value;return s(h)?a&&u&&v?.async===!1&&v.jitless!==!0?(i||(i=n(e.shape)),g=i(g,v),l?OI([],h,g,v,p,t):g):r(g,v):(g.issues.push({expected:"object",code:"invalid_type",input:h,inst:t}),g)}});yc=k("$ZodUnion",(t,e)=>{fe.init(t,e),Ae(t._zod,"optin",()=>e.options.some(n=>n._zod.optin==="optional")?"optional":void 0),Ae(t._zod,"optout",()=>e.options.some(n=>n._zod.optout==="optional")?"optional":void 0),Ae(t._zod,"values",()=>{if(e.options.every(n=>n._zod.values))return new Set(e.options.flatMap(n=>Array.from(n._zod.values)))}),Ae(t._zod,"pattern",()=>{if(e.options.every(n=>n._zod.pattern)){let n=e.options.map(i=>i._zod.pattern);return new RegExp(`^(${n.map(i=>ac(i.source)).join("|")})$`)}});let r=e.options.length===1,o=e.options[0]._zod.run;t._zod.parse=(n,i)=>{if(r)return o(n,i);let s=!1,a=[];for(let c of e.options){let u=c._zod.run({value:n.value,issues:[]},i);if(u instanceof Promise)a.push(u),s=!0;else{if(u.issues.length===0)return u;a.push(u)}}return s?Promise.all(a).then(c=>wI(c,n,t,i)):wI(a,n,t,i)}}),lp=k("$ZodDiscriminatedUnion",(t,e)=>{yc.init(t,e);let r=t._zod.parse;Ae(t._zod,"propValues",()=>{let n={};for(let i of e.options){let s=i._zod.propValues;if(!s||Object.keys(s).length===0)throw new Error(`Invalid discriminated union option at index "${e.options.indexOf(i)}"`);for(let[a,c]of Object.entries(s)){n[a]||(n[a]=new Set);for(let u of c)n[a].add(u)}}return n});let o=is(()=>{let n=e.options,i=new Map;for(let s of n){let a=s._zod.propValues?.[e.discriminator];if(!a||a.size===0)throw new Error(`Invalid discriminated union option at index "${e.options.indexOf(s)}"`);for(let c of a){if(i.has(c))throw new Error(`Duplicate discriminator value "${String(c)}"`);i.set(c,s)}}return i});t._zod.parse=(n,i)=>{let s=n.value;if(!ri(s))return n.issues.push({code:"invalid_type",expected:"object",input:s,inst:t}),n;let a=o.value.get(s?.[e.discriminator]);return a?a._zod.run(n,i):e.unionFallback?r(n,i):(n.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:e.discriminator,input:s,path:[e.discriminator],inst:t}),n)}}),dp=k("$ZodIntersection",(t,e)=>{fe.init(t,e),t._zod.parse=(r,o)=>{let n=r.value,i=e.left._zod.run({value:n,issues:[]},o),s=e.right._zod.run({value:n,issues:[]},o);return i instanceof Promise||s instanceof Promise?Promise.all([i,s]).then(([c,u])=>xI(r,c,u)):xI(r,i,s)}});vc=k("$ZodTuple",(t,e)=>{fe.init(t,e);let r=e.items;t._zod.parse=(o,n)=>{let i=o.value;if(!Array.isArray(i))return o.issues.push({input:i,inst:t,expected:"tuple",code:"invalid_type"}),o;o.value=[];let s=[],a=[...r].reverse().findIndex(l=>l._zod.optin!=="optional"),c=a===-1?0:r.length-a;if(!e.rest){let l=i.length>r.length,p=i.length<c-1;if(l||p)return o.issues.push({...l?{code:"too_big",maximum:r.length}:{code:"too_small",minimum:r.length},input:i,inst:t,origin:"array"}),o}let u=-1;for(let l of r){if(u++,u>=i.length&&u>=c)continue;let p=l._zod.run({value:i[u],issues:[]},n);p instanceof Promise?s.push(p.then(g=>xd(g,o,u))):xd(p,o,u)}if(e.rest){let l=i.slice(r.length);for(let p of l){u++;let g=e.rest._zod.run({value:p,issues:[]},n);g instanceof Promise?s.push(g.then(v=>xd(v,o,u))):xd(g,o,u)}}return s.length?Promise.all(s).then(()=>o):o}});pp=k("$ZodRecord",(t,e)=>{fe.init(t,e),t._zod.parse=(r,o)=>{let n=r.value;if(!mo(n))return r.issues.push({expected:"record",code:"invalid_type",input:n,inst:t}),r;let i=[],s=e.keyType._zod.values;if(s){r.value={};let a=new Set;for(let u of s)if(typeof u=="string"||typeof u=="number"||typeof u=="symbol"){a.add(typeof u=="number"?u.toString():u);let l=e.valueType._zod.run({value:n[u],issues:[]},o);l instanceof Promise?i.push(l.then(p=>{p.issues.length&&r.issues.push(...xr(u,p.issues)),r.value[u]=p.value})):(l.issues.length&&r.issues.push(...xr(u,l.issues)),r.value[u]=l.value)}let c;for(let u in n)a.has(u)||(c=c??[],c.push(u));c&&c.length>0&&r.issues.push({code:"unrecognized_keys",input:n,inst:t,keys:c})}else{r.value={};for(let a of Reflect.ownKeys(n)){if(a==="__proto__")continue;let c=e.keyType._zod.run({value:a,issues:[]},o);if(c instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(c.issues.length){r.issues.push({code:"invalid_key",origin:"record",issues:c.issues.map(l=>Sr(l,o,dt())),input:a,path:[a],inst:t}),r.value[c.value]=c.value;continue}let u=e.valueType._zod.run({value:n[a],issues:[]},o);u instanceof Promise?i.push(u.then(l=>{l.issues.length&&r.issues.push(...xr(a,l.issues)),r.value[c.value]=l.value})):(u.issues.length&&r.issues.push(...xr(a,u.issues)),r.value[c.value]=u.value)}}return i.length?Promise.all(i).then(()=>r):r}}),fp=k("$ZodMap",(t,e)=>{fe.init(t,e),t._zod.parse=(r,o)=>{let n=r.value;if(!(n instanceof Map))return r.issues.push({expected:"map",code:"invalid_type",input:n,inst:t}),r;let i=[];r.value=new Map;for(let[s,a]of n){let c=e.keyType._zod.run({value:s,issues:[]},o),u=e.valueType._zod.run({value:a,issues:[]},o);c instanceof Promise||u instanceof Promise?i.push(Promise.all([c,u]).then(([l,p])=>{SI(l,p,r,s,n,t,o)})):SI(c,u,r,s,n,t,o)}return i.length?Promise.all(i).then(()=>r):r}});mp=k("$ZodSet",(t,e)=>{fe.init(t,e),t._zod.parse=(r,o)=>{let n=r.value;if(!(n instanceof Set))return r.issues.push({input:n,inst:t,expected:"set",code:"invalid_type"}),r;let i=[];r.value=new Set;for(let s of n){let a=e.valueType._zod.run({value:s,issues:[]},o);a instanceof Promise?i.push(a.then(c=>EI(c,r))):EI(a,r)}return i.length?Promise.all(i).then(()=>r):r}});hp=k("$ZodEnum",(t,e)=>{fe.init(t,e);let r=sc(e.entries),o=new Set(r);t._zod.values=o,t._zod.pattern=new RegExp(`^(${r.filter(n=>cc.has(typeof n)).map(n=>typeof n=="string"?jr(n):n.toString()).join("|")})$`),t._zod.parse=(n,i)=>{let s=n.value;return o.has(s)||n.issues.push({code:"invalid_value",values:r,input:s,inst:t}),n}}),gp=k("$ZodLiteral",(t,e)=>{if(fe.init(t,e),e.values.length===0)throw new Error("Cannot create literal schema with no valid values");let r=new Set(e.values);t._zod.values=r,t._zod.pattern=new RegExp(`^(${e.values.map(o=>typeof o=="string"?jr(o):o?jr(o.toString()):String(o)).join("|")})$`),t._zod.parse=(o,n)=>{let i=o.value;return r.has(i)||o.issues.push({code:"invalid_value",values:e.values,input:i,inst:t}),o}}),yp=k("$ZodFile",(t,e)=>{fe.init(t,e),t._zod.parse=(r,o)=>{let n=r.value;return n instanceof File||r.issues.push({expected:"file",code:"invalid_type",input:n,inst:t}),r}}),vp=k("$ZodTransform",(t,e)=>{fe.init(t,e),t._zod.parse=(r,o)=>{if(o.direction==="backward")throw new uo(t.constructor.name);let n=e.transform(r.value,r);if(o.async)return(n instanceof Promise?n:Promise.resolve(n)).then(s=>(r.value=s,r));if(n instanceof Promise)throw new Kr;return r.value=n,r}});bp=k("$ZodOptional",(t,e)=>{fe.init(t,e),t._zod.optin="optional",t._zod.optout="optional",Ae(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),Ae(t._zod,"pattern",()=>{let r=e.innerType._zod.pattern;return r?new RegExp(`^(${ac(r.source)})?$`):void 0}),t._zod.parse=(r,o)=>{if(e.innerType._zod.optin==="optional"){let n=e.innerType._zod.run(r,o);return n instanceof Promise?n.then(i=>kI(i,r.value)):kI(n,r.value)}return r.value===void 0?r:e.innerType._zod.run(r,o)}}),_p=k("$ZodNullable",(t,e)=>{fe.init(t,e),Ae(t._zod,"optin",()=>e.innerType._zod.optin),Ae(t._zod,"optout",()=>e.innerType._zod.optout),Ae(t._zod,"pattern",()=>{let r=e.innerType._zod.pattern;return r?new RegExp(`^(${ac(r.source)}|null)$`):void 0}),Ae(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(r,o)=>r.value===null?r:e.innerType._zod.run(r,o)}),wp=k("$ZodDefault",(t,e)=>{fe.init(t,e),t._zod.optin="optional",Ae(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(r,o)=>{if(o.direction==="backward")return e.innerType._zod.run(r,o);if(r.value===void 0)return r.value=e.defaultValue,r;let n=e.innerType._zod.run(r,o);return n instanceof Promise?n.then(i=>II(i,e)):II(n,e)}});xp=k("$ZodPrefault",(t,e)=>{fe.init(t,e),t._zod.optin="optional",Ae(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(r,o)=>(o.direction==="backward"||r.value===void 0&&(r.value=e.defaultValue),e.innerType._zod.run(r,o))}),Sp=k("$ZodNonOptional",(t,e)=>{fe.init(t,e),Ae(t._zod,"values",()=>{let r=e.innerType._zod.values;return r?new Set([...r].filter(o=>o!==void 0)):void 0}),t._zod.parse=(r,o)=>{let n=e.innerType._zod.run(r,o);return n instanceof Promise?n.then(i=>TI(i,t)):TI(n,t)}});Ep=k("$ZodSuccess",(t,e)=>{fe.init(t,e),t._zod.parse=(r,o)=>{if(o.direction==="backward")throw new uo("ZodSuccess");let n=e.innerType._zod.run(r,o);return n instanceof Promise?n.then(i=>(r.value=i.issues.length===0,r)):(r.value=n.issues.length===0,r)}}),kp=k("$ZodCatch",(t,e)=>{fe.init(t,e),Ae(t._zod,"optin",()=>e.innerType._zod.optin),Ae(t._zod,"optout",()=>e.innerType._zod.optout),Ae(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(r,o)=>{if(o.direction==="backward")return e.innerType._zod.run(r,o);let n=e.innerType._zod.run(r,o);return n instanceof Promise?n.then(i=>(r.value=i.value,i.issues.length&&(r.value=e.catchValue({...r,error:{issues:i.issues.map(s=>Sr(s,o,dt()))},input:r.value}),r.issues=[]),r)):(r.value=n.value,n.issues.length&&(r.value=e.catchValue({...r,error:{issues:n.issues.map(i=>Sr(i,o,dt()))},input:r.value}),r.issues=[]),r)}}),Ip=k("$ZodNaN",(t,e)=>{fe.init(t,e),t._zod.parse=(r,o)=>((typeof r.value!="number"||!Number.isNaN(r.value))&&r.issues.push({input:r.value,inst:t,expected:"nan",code:"invalid_type"}),r)}),Tp=k("$ZodPipe",(t,e)=>{fe.init(t,e),Ae(t._zod,"values",()=>e.in._zod.values),Ae(t._zod,"optin",()=>e.in._zod.optin),Ae(t._zod,"optout",()=>e.out._zod.optout),Ae(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(r,o)=>{if(o.direction==="backward"){let i=e.out._zod.run(r,o);return i instanceof Promise?i.then(s=>Sd(s,e.in,o)):Sd(i,e.in,o)}let n=e.in._zod.run(r,o);return n instanceof Promise?n.then(i=>Sd(i,e.out,o)):Sd(n,e.out,o)}});hs=k("$ZodCodec",(t,e)=>{fe.init(t,e),Ae(t._zod,"values",()=>e.in._zod.values),Ae(t._zod,"optin",()=>e.in._zod.optin),Ae(t._zod,"optout",()=>e.out._zod.optout),Ae(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(r,o)=>{if((o.direction||"forward")==="forward"){let i=e.in._zod.run(r,o);return i instanceof Promise?i.then(s=>Ed(s,e,o)):Ed(i,e,o)}else{let i=e.out._zod.run(r,o);return i instanceof Promise?i.then(s=>Ed(s,e,o)):Ed(i,e,o)}}});$p=k("$ZodReadonly",(t,e)=>{fe.init(t,e),Ae(t._zod,"propValues",()=>e.innerType._zod.propValues),Ae(t._zod,"values",()=>e.innerType._zod.values),Ae(t._zod,"optin",()=>e.innerType?._zod?.optin),Ae(t._zod,"optout",()=>e.innerType?._zod?.optout),t._zod.parse=(r,o)=>{if(o.direction==="backward")return e.innerType._zod.run(r,o);let n=e.innerType._zod.run(r,o);return n instanceof Promise?n.then($I):$I(n)}});Rp=k("$ZodTemplateLiteral",(t,e)=>{fe.init(t,e);let r=[];for(let o of e.parts)if(typeof o=="object"&&o!==null){if(!o._zod.pattern)throw new Error(`Invalid template literal part, no pattern found: ${[...o._zod.traits].shift()}`);let n=o._zod.pattern instanceof RegExp?o._zod.pattern.source:o._zod.pattern;if(!n)throw new Error(`Invalid template literal part: ${o._zod.traits}`);let i=n.startsWith("^")?1:0,s=n.endsWith("$")?n.length-1:n.length;r.push(n.slice(i,s))}else if(o===null||qy.has(typeof o))r.push(jr(`${o}`));else throw new Error(`Invalid template literal part: ${o}`);t._zod.pattern=new RegExp(`^${r.join("")}$`),t._zod.parse=(o,n)=>typeof o.value!="string"?(o.issues.push({input:o.value,inst:t,expected:"template_literal",code:"invalid_type"}),o):(t._zod.pattern.lastIndex=0,t._zod.pattern.test(o.value)||o.issues.push({input:o.value,inst:t,code:"invalid_format",format:e.format??"template_literal",pattern:t._zod.pattern.source}),o)}),Pp=k("$ZodFunction",(t,e)=>(fe.init(t,e),t._def=e,t._zod.def=e,t.implement=r=>{if(typeof r!="function")throw new Error("implement() must be called with a function");return function(...o){let n=t._def.input?ni(t._def.input,o):o,i=Reflect.apply(r,this,n);return t._def.output?ni(t._def.output,i):i}},t.implementAsync=r=>{if(typeof r!="function")throw new Error("implementAsync() must be called with a function");return async function(...o){let n=t._def.input?await oi(t._def.input,o):o,i=await Reflect.apply(r,this,n);return t._def.output?await oi(t._def.output,i):i}},t._zod.parse=(r,o)=>typeof r.value!="function"?(r.issues.push({code:"invalid_type",expected:"function",input:r.value,inst:t}),r):(t._def.output&&t._def.output._zod.def.type==="promise"?r.value=t.implementAsync(r.value):r.value=t.implement(r.value),r),t.input=(...r)=>{let o=t.constructor;return Array.isArray(r[0])?new o({type:"function",input:new vc({type:"tuple",items:r[0],rest:r[1]}),output:t._def.output}):new o({type:"function",input:r[0],output:t._def.output})},t.output=r=>{let o=t.constructor;return new o({type:"function",input:t._def.input,output:r})},t)),Cp=k("$ZodPromise",(t,e)=>{fe.init(t,e),t._zod.parse=(r,o)=>Promise.resolve(r.value).then(n=>e.innerType._zod.run({value:n,issues:[]},o))}),Ap=k("$ZodLazy",(t,e)=>{fe.init(t,e),Ae(t._zod,"innerType",()=>e.getter()),Ae(t._zod,"pattern",()=>t._zod.innerType?._zod?.pattern),Ae(t._zod,"propValues",()=>t._zod.innerType?._zod?.propValues),Ae(t._zod,"optin",()=>t._zod.innerType?._zod?.optin??void 0),Ae(t._zod,"optout",()=>t._zod.innerType?._zod?.optout??void 0),t._zod.parse=(r,o)=>t._zod.innerType._zod.run(r,o)}),Op=k("$ZodCustom",(t,e)=>{Ve.init(t,e),fe.init(t,e),t._zod.parse=(r,o)=>r,t._zod.check=r=>{let o=r.value,n=e.fn(o);if(n instanceof Promise)return n.then(i=>RI(i,r,o,t));RI(n,r,o,t)}})});function NI(){return{localeError:$W()}}var $W,DI=E(()=>{se();$W=()=>{let t={string:{unit:"\u062D\u0631\u0641",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"},file:{unit:"\u0628\u0627\u064A\u062A",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"},array:{unit:"\u0639\u0646\u0635\u0631",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"},set:{unit:"\u0639\u0646\u0635\u0631",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"}};function e(n){return t[n]??null}let r=n=>{let i=typeof n;switch(i){case"number":return Number.isNaN(n)?"NaN":"number";case"object":{if(Array.isArray(n))return"array";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return i},o={regex:"\u0645\u062F\u062E\u0644",email:"\u0628\u0631\u064A\u062F \u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A",url:"\u0631\u0627\u0628\u0637",emoji:"\u0625\u064A\u0645\u0648\u062C\u064A",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u062A\u0627\u0631\u064A\u062E \u0648\u0648\u0642\u062A \u0628\u0645\u0639\u064A\u0627\u0631 ISO",date:"\u062A\u0627\u0631\u064A\u062E \u0628\u0645\u0639\u064A\u0627\u0631 ISO",time:"\u0648\u0642\u062A \u0628\u0645\u0639\u064A\u0627\u0631 ISO",duration:"\u0645\u062F\u0629 \u0628\u0645\u0639\u064A\u0627\u0631 ISO",ipv4:"\u0639\u0646\u0648\u0627\u0646 IPv4",ipv6:"\u0639\u0646\u0648\u0627\u0646 IPv6",cidrv4:"\u0645\u062F\u0649 \u0639\u0646\u0627\u0648\u064A\u0646 \u0628\u0635\u064A\u063A\u0629 IPv4",cidrv6:"\u0645\u062F\u0649 \u0639\u0646\u0627\u0648\u064A\u0646 \u0628\u0635\u064A\u063A\u0629 IPv6",base64:"\u0646\u064E\u0635 \u0628\u062A\u0631\u0645\u064A\u0632 base64-encoded",base64url:"\u0646\u064E\u0635 \u0628\u062A\u0631\u0645\u064A\u0632 base64url-encoded",json_string:"\u0646\u064E\u0635 \u0639\u0644\u0649 \u0647\u064A\u0626\u0629 JSON",e164:"\u0631\u0642\u0645 \u0647\u0627\u062A\u0641 \u0628\u0645\u0639\u064A\u0627\u0631 E.164",jwt:"JWT",template_literal:"\u0645\u062F\u062E\u0644"};return n=>{switch(n.code){case"invalid_type":return`\u0645\u062F\u062E\u0644\u0627\u062A \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644\u0629: \u064A\u0641\u062A\u0631\u0636 \u0625\u062F\u062E\u0627\u0644 ${n.expected}\u060C \u0648\u0644\u0643\u0646 \u062A\u0645 \u0625\u062F\u062E\u0627\u0644 ${r(n.input)}`;case"invalid_value":return n.values.length===1?`\u0645\u062F\u062E\u0644\u0627\u062A \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644\u0629: \u064A\u0641\u062A\u0631\u0636 \u0625\u062F\u062E\u0627\u0644 ${L(n.values[0])}`:`\u0627\u062E\u062A\u064A\u0627\u0631 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062A\u0648\u0642\u0639 \u0627\u0646\u062A\u0642\u0627\u0621 \u0623\u062D\u062F \u0647\u0630\u0647 \u0627\u0644\u062E\u064A\u0627\u0631\u0627\u062A: ${C(n.values,"|")}`;case"too_big":{let i=n.inclusive?"<=":"<",s=e(n.origin);return s?` \u0623\u0643\u0628\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0623\u0646 \u062A\u0643\u0648\u0646 ${n.origin??"\u0627\u0644\u0642\u064A\u0645\u0629"} ${i} ${n.maximum.toString()} ${s.unit??"\u0639\u0646\u0635\u0631"}`:`\u0623\u0643\u0628\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0623\u0646 \u062A\u0643\u0648\u0646 ${n.origin??"\u0627\u0644\u0642\u064A\u0645\u0629"} ${i} ${n.maximum.toString()}`}case"too_small":{let i=n.inclusive?">=":">",s=e(n.origin);return s?`\u0623\u0635\u063A\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0644\u0640 ${n.origin} \u0623\u0646 \u064A\u0643\u0648\u0646 ${i} ${n.minimum.toString()} ${s.unit}`:`\u0623\u0635\u063A\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0644\u0640 ${n.origin} \u0623\u0646 \u064A\u0643\u0648\u0646 ${i} ${n.minimum.toString()}`}case"invalid_format":{let i=n;return i.format==="starts_with"?`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0628\u062F\u0623 \u0628\u0640 "${n.prefix}"`:i.format==="ends_with"?`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0646\u062A\u0647\u064A \u0628\u0640 "${i.suffix}"`:i.format==="includes"?`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u062A\u0636\u0645\u0651\u064E\u0646 "${i.includes}"`:i.format==="regex"?`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0637\u0627\u0628\u0642 \u0627\u0644\u0646\u0645\u0637 ${i.pattern}`:`${o[i.format]??n.format} \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644`}case"not_multiple_of":return`\u0631\u0642\u0645 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0643\u0648\u0646 \u0645\u0646 \u0645\u0636\u0627\u0639\u0641\u0627\u062A ${n.divisor}`;case"unrecognized_keys":return`\u0645\u0639\u0631\u0641${n.keys.length>1?"\u0627\u062A":""} \u063A\u0631\u064A\u0628${n.keys.length>1?"\u0629":""}: ${C(n.keys,"\u060C ")}`;case"invalid_key":return`\u0645\u0639\u0631\u0641 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644 \u0641\u064A ${n.origin}`;case"invalid_union":return"\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644";case"invalid_element":return`\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644 \u0641\u064A ${n.origin}`;default:return"\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644"}}}});function MI(){return{localeError:RW()}}var RW,zI=E(()=>{se();RW=()=>{let t={string:{unit:"simvol",verb:"olmal\u0131d\u0131r"},file:{unit:"bayt",verb:"olmal\u0131d\u0131r"},array:{unit:"element",verb:"olmal\u0131d\u0131r"},set:{unit:"element",verb:"olmal\u0131d\u0131r"}};function e(n){return t[n]??null}let r=n=>{let i=typeof n;switch(i){case"number":return Number.isNaN(n)?"NaN":"number";case"object":{if(Array.isArray(n))return"array";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return i},o={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return n=>{switch(n.code){case"invalid_type":return`Yanl\u0131\u015F d\u0259y\u0259r: g\xF6zl\u0259nil\u0259n ${n.expected}, daxil olan ${r(n.input)}`;case"invalid_value":return n.values.length===1?`Yanl\u0131\u015F d\u0259y\u0259r: g\xF6zl\u0259nil\u0259n ${L(n.values[0])}`:`Yanl\u0131\u015F se\xE7im: a\u015Fa\u011F\u0131dak\u0131lardan biri olmal\u0131d\u0131r: ${C(n.values,"|")}`;case"too_big":{let i=n.inclusive?"<=":"<",s=e(n.origin);return s?`\xC7ox b\xF6y\xFCk: g\xF6zl\u0259nil\u0259n ${n.origin??"d\u0259y\u0259r"} ${i}${n.maximum.toString()} ${s.unit??"element"}`:`\xC7ox b\xF6y\xFCk: g\xF6zl\u0259nil\u0259n ${n.origin??"d\u0259y\u0259r"} ${i}${n.maximum.toString()}`}case"too_small":{let i=n.inclusive?">=":">",s=e(n.origin);return s?`\xC7ox ki\xE7ik: g\xF6zl\u0259nil\u0259n ${n.origin} ${i}${n.minimum.toString()} ${s.unit}`:`\xC7ox ki\xE7ik: g\xF6zl\u0259nil\u0259n ${n.origin} ${i}${n.minimum.toString()}`}case"invalid_format":{let i=n;return i.format==="starts_with"?`Yanl\u0131\u015F m\u0259tn: "${i.prefix}" il\u0259 ba\u015Flamal\u0131d\u0131r`:i.format==="ends_with"?`Yanl\u0131\u015F m\u0259tn: "${i.suffix}" il\u0259 bitm\u0259lidir`:i.format==="includes"?`Yanl\u0131\u015F m\u0259tn: "${i.includes}" daxil olmal\u0131d\u0131r`:i.format==="regex"?`Yanl\u0131\u015F m\u0259tn: ${i.pattern} \u015Fablonuna uy\u011Fun olmal\u0131d\u0131r`:`Yanl\u0131\u015F ${o[i.format]??n.format}`}case"not_multiple_of":return`Yanl\u0131\u015F \u0259d\u0259d: ${n.divisor} il\u0259 b\xF6l\xFCn\u0259 bil\u0259n olmal\u0131d\u0131r`;case"unrecognized_keys":return`Tan\u0131nmayan a\xE7ar${n.keys.length>1?"lar":""}: ${C(n.keys,", ")}`;case"invalid_key":return`${n.origin} daxilind\u0259 yanl\u0131\u015F a\xE7ar`;case"invalid_union":return"Yanl\u0131\u015F d\u0259y\u0259r";case"invalid_element":return`${n.origin} daxilind\u0259 yanl\u0131\u015F d\u0259y\u0259r`;default:return"Yanl\u0131\u015F d\u0259y\u0259r"}}}});function jI(t,e,r,o){let n=Math.abs(t),i=n%10,s=n%100;return s>=11&&s<=19?o:i===1?e:i>=2&&i<=4?r:o}function LI(){return{localeError:PW()}}var PW,UI=E(()=>{se();PW=()=>{let t={string:{unit:{one:"\u0441\u0456\u043C\u0432\u0430\u043B",few:"\u0441\u0456\u043C\u0432\u0430\u043B\u044B",many:"\u0441\u0456\u043C\u0432\u0430\u043B\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"},array:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u044B",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"},set:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u044B",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"},file:{unit:{one:"\u0431\u0430\u0439\u0442",few:"\u0431\u0430\u0439\u0442\u044B",many:"\u0431\u0430\u0439\u0442\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"}};function e(n){return t[n]??null}let r=n=>{let i=typeof n;switch(i){case"number":return Number.isNaN(n)?"NaN":"\u043B\u0456\u043A";case"object":{if(Array.isArray(n))return"\u043C\u0430\u0441\u0456\u045E";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return i},o={regex:"\u0443\u0432\u043E\u0434",email:"email \u0430\u0434\u0440\u0430\u0441",url:"URL",emoji:"\u044D\u043C\u043E\u0434\u0437\u0456",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0434\u0430\u0442\u0430 \u0456 \u0447\u0430\u0441",date:"ISO \u0434\u0430\u0442\u0430",time:"ISO \u0447\u0430\u0441",duration:"ISO \u043F\u0440\u0430\u0446\u044F\u0433\u043B\u0430\u0441\u0446\u044C",ipv4:"IPv4 \u0430\u0434\u0440\u0430\u0441",ipv6:"IPv6 \u0430\u0434\u0440\u0430\u0441",cidrv4:"IPv4 \u0434\u044B\u044F\u043F\u0430\u0437\u043E\u043D",cidrv6:"IPv6 \u0434\u044B\u044F\u043F\u0430\u0437\u043E\u043D",base64:"\u0440\u0430\u0434\u043E\u043A \u0443 \u0444\u0430\u0440\u043C\u0430\u0446\u0435 base64",base64url:"\u0440\u0430\u0434\u043E\u043A \u0443 \u0444\u0430\u0440\u043C\u0430\u0446\u0435 base64url",json_string:"JSON \u0440\u0430\u0434\u043E\u043A",e164:"\u043D\u0443\u043C\u0430\u0440 E.164",jwt:"JWT",template_literal:"\u0443\u0432\u043E\u0434"};return n=>{switch(n.code){case"invalid_type":return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434: \u0447\u0430\u043A\u0430\u045E\u0441\u044F ${n.expected}, \u0430\u0442\u0440\u044B\u043C\u0430\u043D\u0430 ${r(n.input)}`;case"invalid_value":return n.values.length===1?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F ${L(n.values[0])}`:`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0432\u0430\u0440\u044B\u044F\u043D\u0442: \u0447\u0430\u043A\u0430\u045E\u0441\u044F \u0430\u0434\u0437\u0456\u043D \u0437 ${C(n.values,"|")}`;case"too_big":{let i=n.inclusive?"<=":"<",s=e(n.origin);if(s){let a=Number(n.maximum),c=jI(a,s.unit.one,s.unit.few,s.unit.many);return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u0432\u044F\u043B\u0456\u043A\u0456: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${n.origin??"\u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435"} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 ${s.verb} ${i}${n.maximum.toString()} ${c}`}return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u0432\u044F\u043B\u0456\u043A\u0456: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${n.origin??"\u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435"} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 \u0431\u044B\u0446\u044C ${i}${n.maximum.toString()}`}case"too_small":{let i=n.inclusive?">=":">",s=e(n.origin);if(s){let a=Number(n.minimum),c=jI(a,s.unit.one,s.unit.few,s.unit.many);return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u043C\u0430\u043B\u044B: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${n.origin} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 ${s.verb} ${i}${n.minimum.toString()} ${c}`}return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u043C\u0430\u043B\u044B: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${n.origin} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 \u0431\u044B\u0446\u044C ${i}${n.minimum.toString()}`}case"invalid_format":{let i=n;return i.format==="starts_with"?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u043F\u0430\u0447\u044B\u043D\u0430\u0446\u0446\u0430 \u0437 "${i.prefix}"`:i.format==="ends_with"?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0437\u0430\u043A\u0430\u043D\u0447\u0432\u0430\u0446\u0446\u0430 \u043D\u0430 "${i.suffix}"`:i.format==="includes"?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0437\u043C\u044F\u0448\u0447\u0430\u0446\u044C "${i.includes}"`:i.format==="regex"?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0430\u0434\u043F\u0430\u0432\u044F\u0434\u0430\u0446\u044C \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${i.pattern}`:`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B ${o[i.format]??n.format}`}case"not_multiple_of":return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u043B\u0456\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0431\u044B\u0446\u044C \u043A\u0440\u0430\u0442\u043D\u044B\u043C ${n.divisor}`;case"unrecognized_keys":return`\u041D\u0435\u0440\u0430\u0441\u043F\u0430\u0437\u043D\u0430\u043D\u044B ${n.keys.length>1?"\u043A\u043B\u044E\u0447\u044B":"\u043A\u043B\u044E\u0447"}: ${C(n.keys,", ")}`;case"invalid_key":return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u043A\u043B\u044E\u0447 \u0443 ${n.origin}`;case"invalid_union":return"\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434";case"invalid_element":return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u0430\u0435 \u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435 \u045E ${n.origin}`;default:return"\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434"}}}});function FI(){return{localeError:AW()}}var CW,AW,qI=E(()=>{se();CW=t=>{let e=typeof t;switch(e){case"number":return Number.isNaN(t)?"NaN":"\u0447\u0438\u0441\u043B\u043E";case"object":{if(Array.isArray(t))return"\u043C\u0430\u0441\u0438\u0432";if(t===null)return"null";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name}}return e},AW=()=>{let t={string:{unit:"\u0441\u0438\u043C\u0432\u043E\u043B\u0430",verb:"\u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430"},file:{unit:"\u0431\u0430\u0439\u0442\u0430",verb:"\u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430"},array:{unit:"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0430",verb:"\u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430"},set:{unit:"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0430",verb:"\u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430"}};function e(o){return t[o]??null}let r={regex:"\u0432\u0445\u043E\u0434",email:"\u0438\u043C\u0435\u0439\u043B \u0430\u0434\u0440\u0435\u0441",url:"URL",emoji:"\u0435\u043C\u043E\u0434\u0436\u0438",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0432\u0440\u0435\u043C\u0435",date:"ISO \u0434\u0430\u0442\u0430",time:"ISO \u0432\u0440\u0435\u043C\u0435",duration:"ISO \u043F\u0440\u043E\u0434\u044A\u043B\u0436\u0438\u0442\u0435\u043B\u043D\u043E\u0441\u0442",ipv4:"IPv4 \u0430\u0434\u0440\u0435\u0441",ipv6:"IPv6 \u0430\u0434\u0440\u0435\u0441",cidrv4:"IPv4 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",cidrv6:"IPv6 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",base64:"base64-\u043A\u043E\u0434\u0438\u0440\u0430\u043D \u043D\u0438\u0437",base64url:"base64url-\u043A\u043E\u0434\u0438\u0440\u0430\u043D \u043D\u0438\u0437",json_string:"JSON \u043D\u0438\u0437",e164:"E.164 \u043D\u043E\u043C\u0435\u0440",jwt:"JWT",template_literal:"\u0432\u0445\u043E\u0434"};return o=>{switch(o.code){case"invalid_type":return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u0432\u0445\u043E\u0434: \u043E\u0447\u0430\u043A\u0432\u0430\u043D ${o.expected}, \u043F\u043E\u043B\u0443\u0447\u0435\u043D ${CW(o.input)}`;case"invalid_value":return o.values.length===1?`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u0432\u0445\u043E\u0434: \u043E\u0447\u0430\u043A\u0432\u0430\u043D ${L(o.values[0])}`:`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u0430 \u043E\u043F\u0446\u0438\u044F: \u043E\u0447\u0430\u043A\u0432\u0430\u043D\u043E \u0435\u0434\u043D\u043E \u043E\u0442 ${C(o.values,"|")}`;case"too_big":{let n=o.inclusive?"<=":"<",i=e(o.origin);return i?`\u0422\u0432\u044A\u0440\u0434\u0435 \u0433\u043E\u043B\u044F\u043C\u043E: \u043E\u0447\u0430\u043A\u0432\u0430 \u0441\u0435 ${o.origin??"\u0441\u0442\u043E\u0439\u043D\u043E\u0441\u0442"} \u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430 ${n}${o.maximum.toString()} ${i.unit??"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0430"}`:`\u0422\u0432\u044A\u0440\u0434\u0435 \u0433\u043E\u043B\u044F\u043C\u043E: \u043E\u0447\u0430\u043A\u0432\u0430 \u0441\u0435 ${o.origin??"\u0441\u0442\u043E\u0439\u043D\u043E\u0441\u0442"} \u0434\u0430 \u0431\u044A\u0434\u0435 ${n}${o.maximum.toString()}`}case"too_small":{let n=o.inclusive?">=":">",i=e(o.origin);return i?`\u0422\u0432\u044A\u0440\u0434\u0435 \u043C\u0430\u043B\u043A\u043E: \u043E\u0447\u0430\u043A\u0432\u0430 \u0441\u0435 ${o.origin} \u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430 ${n}${o.minimum.toString()} ${i.unit}`:`\u0422\u0432\u044A\u0440\u0434\u0435 \u043C\u0430\u043B\u043A\u043E: \u043E\u0447\u0430\u043A\u0432\u0430 \u0441\u0435 ${o.origin} \u0434\u0430 \u0431\u044A\u0434\u0435 ${n}${o.minimum.toString()}`}case"invalid_format":{let n=o;if(n.format==="starts_with")return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043D\u0438\u0437: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0437\u0430\u043F\u043E\u0447\u0432\u0430 \u0441 "${n.prefix}"`;if(n.format==="ends_with")return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043D\u0438\u0437: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0437\u0430\u0432\u044A\u0440\u0448\u0432\u0430 \u0441 "${n.suffix}"`;if(n.format==="includes")return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043D\u0438\u0437: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0432\u043A\u043B\u044E\u0447\u0432\u0430 "${n.includes}"`;if(n.format==="regex")return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043D\u0438\u0437: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0441\u044A\u0432\u043F\u0430\u0434\u0430 \u0441 ${n.pattern}`;let i="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D";return n.format==="emoji"&&(i="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u043E"),n.format==="datetime"&&(i="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u043E"),n.format==="date"&&(i="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u0430"),n.format==="time"&&(i="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u043E"),n.format==="duration"&&(i="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u0430"),`${i} ${r[n.format]??o.format}`}case"not_multiple_of":return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u043E \u0447\u0438\u0441\u043B\u043E: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0431\u044A\u0434\u0435 \u043A\u0440\u0430\u0442\u043D\u043E \u043D\u0430 ${o.divisor}`;case"unrecognized_keys":return`\u041D\u0435\u0440\u0430\u0437\u043F\u043E\u0437\u043D\u0430\u0442${o.keys.length>1?"\u0438":""} \u043A\u043B\u044E\u0447${o.keys.length>1?"\u043E\u0432\u0435":""}: ${C(o.keys,", ")}`;case"invalid_key":return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043A\u043B\u044E\u0447 \u0432 ${o.origin}`;case"invalid_union":return"\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u0432\u0445\u043E\u0434";case"invalid_element":return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u0430 \u0441\u0442\u043E\u0439\u043D\u043E\u0441\u0442 \u0432 ${o.origin}`;default:return"\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u0432\u0445\u043E\u0434"}}}});function WI(){return{localeError:OW()}}var OW,ZI=E(()=>{se();OW=()=>{let t={string:{unit:"car\xE0cters",verb:"contenir"},file:{unit:"bytes",verb:"contenir"},array:{unit:"elements",verb:"contenir"},set:{unit:"elements",verb:"contenir"}};function e(n){return t[n]??null}let r=n=>{let i=typeof n;switch(i){case"number":return Number.isNaN(n)?"NaN":"number";case"object":{if(Array.isArray(n))return"array";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return i},o={regex:"entrada",email:"adre\xE7a electr\xF2nica",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i hora ISO",date:"data ISO",time:"hora ISO",duration:"durada ISO",ipv4:"adre\xE7a IPv4",ipv6:"adre\xE7a IPv6",cidrv4:"rang IPv4",cidrv6:"rang IPv6",base64:"cadena codificada en base64",base64url:"cadena codificada en base64url",json_string:"cadena JSON",e164:"n\xFAmero E.164",jwt:"JWT",template_literal:"entrada"};return n=>{switch(n.code){case"invalid_type":return`Tipus inv\xE0lid: s'esperava ${n.expected}, s'ha rebut ${r(n.input)}`;case"invalid_value":return n.values.length===1?`Valor inv\xE0lid: s'esperava ${L(n.values[0])}`:`Opci\xF3 inv\xE0lida: s'esperava una de ${C(n.values," o ")}`;case"too_big":{let i=n.inclusive?"com a m\xE0xim":"menys de",s=e(n.origin);return s?`Massa gran: s'esperava que ${n.origin??"el valor"} contingu\xE9s ${i} ${n.maximum.toString()} ${s.unit??"elements"}`:`Massa gran: s'esperava que ${n.origin??"el valor"} fos ${i} ${n.maximum.toString()}`}case"too_small":{let i=n.inclusive?"com a m\xEDnim":"m\xE9s de",s=e(n.origin);return s?`Massa petit: s'esperava que ${n.origin} contingu\xE9s ${i} ${n.minimum.toString()} ${s.unit}`:`Massa petit: s'esperava que ${n.origin} fos ${i} ${n.minimum.toString()}`}case"invalid_format":{let i=n;return i.format==="starts_with"?`Format inv\xE0lid: ha de comen\xE7ar amb "${i.prefix}"`:i.format==="ends_with"?`Format inv\xE0lid: ha d'acabar amb "${i.suffix}"`:i.format==="includes"?`Format inv\xE0lid: ha d'incloure "${i.includes}"`:i.format==="regex"?`Format inv\xE0lid: ha de coincidir amb el patr\xF3 ${i.pattern}`:`Format inv\xE0lid per a ${o[i.format]??n.format}`}case"not_multiple_of":return`N\xFAmero inv\xE0lid: ha de ser m\xFAltiple de ${n.divisor}`;case"unrecognized_keys":return`Clau${n.keys.length>1?"s":""} no reconeguda${n.keys.length>1?"s":""}: ${C(n.keys,", ")}`;case"invalid_key":return`Clau inv\xE0lida a ${n.origin}`;case"invalid_union":return"Entrada inv\xE0lida";case"invalid_element":return`Element inv\xE0lid a ${n.origin}`;default:return"Entrada inv\xE0lida"}}}});function BI(){return{localeError:NW()}}var NW,HI=E(()=>{se();NW=()=>{let t={string:{unit:"znak\u016F",verb:"m\xEDt"},file:{unit:"bajt\u016F",verb:"m\xEDt"},array:{unit:"prvk\u016F",verb:"m\xEDt"},set:{unit:"prvk\u016F",verb:"m\xEDt"}};function e(n){return t[n]??null}let r=n=>{let i=typeof n;switch(i){case"number":return Number.isNaN(n)?"NaN":"\u010D\xEDslo";case"string":return"\u0159et\u011Bzec";case"boolean":return"boolean";case"bigint":return"bigint";case"function":return"funkce";case"symbol":return"symbol";case"undefined":return"undefined";case"object":{if(Array.isArray(n))return"pole";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return i},o={regex:"regul\xE1rn\xED v\xFDraz",email:"e-mailov\xE1 adresa",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"datum a \u010Das ve form\xE1tu ISO",date:"datum ve form\xE1tu ISO",time:"\u010Das ve form\xE1tu ISO",duration:"doba trv\xE1n\xED ISO",ipv4:"IPv4 adresa",ipv6:"IPv6 adresa",cidrv4:"rozsah IPv4",cidrv6:"rozsah IPv6",base64:"\u0159et\u011Bzec zak\xF3dovan\xFD ve form\xE1tu base64",base64url:"\u0159et\u011Bzec zak\xF3dovan\xFD ve form\xE1tu base64url",json_string:"\u0159et\u011Bzec ve form\xE1tu JSON",e164:"\u010D\xEDslo E.164",jwt:"JWT",template_literal:"vstup"};return n=>{switch(n.code){case"invalid_type":return`Neplatn\xFD vstup: o\u010Dek\xE1v\xE1no ${n.expected}, obdr\u017Eeno ${r(n.input)}`;case"invalid_value":return n.values.length===1?`Neplatn\xFD vstup: o\u010Dek\xE1v\xE1no ${L(n.values[0])}`:`Neplatn\xE1 mo\u017Enost: o\u010Dek\xE1v\xE1na jedna z hodnot ${C(n.values,"|")}`;case"too_big":{let i=n.inclusive?"<=":"<",s=e(n.origin);return s?`Hodnota je p\u0159\xEDli\u0161 velk\xE1: ${n.origin??"hodnota"} mus\xED m\xEDt ${i}${n.maximum.toString()} ${s.unit??"prvk\u016F"}`:`Hodnota je p\u0159\xEDli\u0161 velk\xE1: ${n.origin??"hodnota"} mus\xED b\xFDt ${i}${n.maximum.toString()}`}case"too_small":{let i=n.inclusive?">=":">",s=e(n.origin);return s?`Hodnota je p\u0159\xEDli\u0161 mal\xE1: ${n.origin??"hodnota"} mus\xED m\xEDt ${i}${n.minimum.toString()} ${s.unit??"prvk\u016F"}`:`Hodnota je p\u0159\xEDli\u0161 mal\xE1: ${n.origin??"hodnota"} mus\xED b\xFDt ${i}${n.minimum.toString()}`}case"invalid_format":{let i=n;return i.format==="starts_with"?`Neplatn\xFD \u0159et\u011Bzec: mus\xED za\u010D\xEDnat na "${i.prefix}"`:i.format==="ends_with"?`Neplatn\xFD \u0159et\u011Bzec: mus\xED kon\u010Dit na "${i.suffix}"`:i.format==="includes"?`Neplatn\xFD \u0159et\u011Bzec: mus\xED obsahovat "${i.includes}"`:i.format==="regex"?`Neplatn\xFD \u0159et\u011Bzec: mus\xED odpov\xEDdat vzoru ${i.pattern}`:`Neplatn\xFD form\xE1t ${o[i.format]??n.format}`}case"not_multiple_of":return`Neplatn\xE9 \u010D\xEDslo: mus\xED b\xFDt n\xE1sobkem ${n.divisor}`;case"unrecognized_keys":return`Nezn\xE1m\xE9 kl\xED\u010De: ${C(n.keys,", ")}`;case"invalid_key":return`Neplatn\xFD kl\xED\u010D v ${n.origin}`;case"invalid_union":return"Neplatn\xFD vstup";case"invalid_element":return`Neplatn\xE1 hodnota v ${n.origin}`;default:return"Neplatn\xFD vstup"}}}});function VI(){return{localeError:DW()}}var DW,GI=E(()=>{se();DW=()=>{let t={string:{unit:"tegn",verb:"havde"},file:{unit:"bytes",verb:"havde"},array:{unit:"elementer",verb:"indeholdt"},set:{unit:"elementer",verb:"indeholdt"}},e={string:"streng",number:"tal",boolean:"boolean",array:"liste",object:"objekt",set:"s\xE6t",file:"fil"};function r(s){return t[s]??null}function o(s){return e[s]??s}let n=s=>{let a=typeof s;switch(a){case"number":return Number.isNaN(s)?"NaN":"tal";case"object":return Array.isArray(s)?"liste":s===null?"null":Object.getPrototypeOf(s)!==Object.prototype&&s.constructor?s.constructor.name:"objekt"}return a},i={regex:"input",email:"e-mailadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkesl\xE6t",date:"ISO-dato",time:"ISO-klokkesl\xE6t",duration:"ISO-varighed",ipv4:"IPv4-omr\xE5de",ipv6:"IPv6-omr\xE5de",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodet streng",base64url:"base64url-kodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"};return s=>{switch(s.code){case"invalid_type":return`Ugyldigt input: forventede ${o(s.expected)}, fik ${o(n(s.input))}`;case"invalid_value":return s.values.length===1?`Ugyldig v\xE6rdi: forventede ${L(s.values[0])}`:`Ugyldigt valg: forventede en af f\xF8lgende ${C(s.values,"|")}`;case"too_big":{let a=s.inclusive?"<=":"<",c=r(s.origin),u=o(s.origin);return c?`For stor: forventede ${u??"value"} ${c.verb} ${a} ${s.maximum.toString()} ${c.unit??"elementer"}`:`For stor: forventede ${u??"value"} havde ${a} ${s.maximum.toString()}`}case"too_small":{let a=s.inclusive?">=":">",c=r(s.origin),u=o(s.origin);return c?`For lille: forventede ${u} ${c.verb} ${a} ${s.minimum.toString()} ${c.unit}`:`For lille: forventede ${u} havde ${a} ${s.minimum.toString()}`}case"invalid_format":{let a=s;return a.format==="starts_with"?`Ugyldig streng: skal starte med "${a.prefix}"`:a.format==="ends_with"?`Ugyldig streng: skal ende med "${a.suffix}"`:a.format==="includes"?`Ugyldig streng: skal indeholde "${a.includes}"`:a.format==="regex"?`Ugyldig streng: skal matche m\xF8nsteret ${a.pattern}`:`Ugyldig ${i[a.format]??s.format}`}case"not_multiple_of":return`Ugyldigt tal: skal v\xE6re deleligt med ${s.divisor}`;case"unrecognized_keys":return`${s.keys.length>1?"Ukendte n\xF8gler":"Ukendt n\xF8gle"}: ${C(s.keys,", ")}`;case"invalid_key":return`Ugyldig n\xF8gle i ${s.origin}`;case"invalid_union":return"Ugyldigt input: matcher ingen af de tilladte typer";case"invalid_element":return`Ugyldig v\xE6rdi i ${s.origin}`;default:return"Ugyldigt input"}}}});function KI(){return{localeError:MW()}}var MW,JI=E(()=>{se();MW=()=>{let t={string:{unit:"Zeichen",verb:"zu haben"},file:{unit:"Bytes",verb:"zu haben"},array:{unit:"Elemente",verb:"zu haben"},set:{unit:"Elemente",verb:"zu haben"}};function e(n){return t[n]??null}let r=n=>{let i=typeof n;switch(i){case"number":return Number.isNaN(n)?"NaN":"Zahl";case"object":{if(Array.isArray(n))return"Array";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return i},o={regex:"Eingabe",email:"E-Mail-Adresse",url:"URL",emoji:"Emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-Datum und -Uhrzeit",date:"ISO-Datum",time:"ISO-Uhrzeit",duration:"ISO-Dauer",ipv4:"IPv4-Adresse",ipv6:"IPv6-Adresse",cidrv4:"IPv4-Bereich",cidrv6:"IPv6-Bereich",base64:"Base64-codierter String",base64url:"Base64-URL-codierter String",json_string:"JSON-String",e164:"E.164-Nummer",jwt:"JWT",template_literal:"Eingabe"};return n=>{switch(n.code){case"invalid_type":return`Ung\xFCltige Eingabe: erwartet ${n.expected}, erhalten ${r(n.input)}`;case"invalid_value":return n.values.length===1?`Ung\xFCltige Eingabe: erwartet ${L(n.values[0])}`:`Ung\xFCltige Option: erwartet eine von ${C(n.values,"|")}`;case"too_big":{let i=n.inclusive?"<=":"<",s=e(n.origin);return s?`Zu gro\xDF: erwartet, dass ${n.origin??"Wert"} ${i}${n.maximum.toString()} ${s.unit??"Elemente"} hat`:`Zu gro\xDF: erwartet, dass ${n.origin??"Wert"} ${i}${n.maximum.toString()} ist`}case"too_small":{let i=n.inclusive?">=":">",s=e(n.origin);return s?`Zu klein: erwartet, dass ${n.origin} ${i}${n.minimum.toString()} ${s.unit} hat`:`Zu klein: erwartet, dass ${n.origin} ${i}${n.minimum.toString()} ist`}case"invalid_format":{let i=n;return i.format==="starts_with"?`Ung\xFCltiger String: muss mit "${i.prefix}" beginnen`:i.format==="ends_with"?`Ung\xFCltiger String: muss mit "${i.suffix}" enden`:i.format==="includes"?`Ung\xFCltiger String: muss "${i.includes}" enthalten`:i.format==="regex"?`Ung\xFCltiger String: muss dem Muster ${i.pattern} entsprechen`:`Ung\xFCltig: ${o[i.format]??n.format}`}case"not_multiple_of":return`Ung\xFCltige Zahl: muss ein Vielfaches von ${n.divisor} sein`;case"unrecognized_keys":return`${n.keys.length>1?"Unbekannte Schl\xFCssel":"Unbekannter Schl\xFCssel"}: ${C(n.keys,", ")}`;case"invalid_key":return`Ung\xFCltiger Schl\xFCssel in ${n.origin}`;case"invalid_union":return"Ung\xFCltige Eingabe";case"invalid_element":return`Ung\xFCltiger Wert in ${n.origin}`;default:return"Ung\xFCltige Eingabe"}}}});function Np(){return{localeError:jW()}}var zW,jW,Gv=E(()=>{se();zW=t=>{let e=typeof t;switch(e){case"number":return Number.isNaN(t)?"NaN":"number";case"object":{if(Array.isArray(t))return"array";if(t===null)return"null";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name}}return e},jW=()=>{let t={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"}};function e(o){return t[o]??null}let r={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",mac:"MAC address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return o=>{switch(o.code){case"invalid_type":return`Invalid input: expected ${o.expected}, received ${zW(o.input)}`;case"invalid_value":return o.values.length===1?`Invalid input: expected ${L(o.values[0])}`:`Invalid option: expected one of ${C(o.values,"|")}`;case"too_big":{let n=o.inclusive?"<=":"<",i=e(o.origin);return i?`Too big: expected ${o.origin??"value"} to have ${n}${o.maximum.toString()} ${i.unit??"elements"}`:`Too big: expected ${o.origin??"value"} to be ${n}${o.maximum.toString()}`}case"too_small":{let n=o.inclusive?">=":">",i=e(o.origin);return i?`Too small: expected ${o.origin} to have ${n}${o.minimum.toString()} ${i.unit}`:`Too small: expected ${o.origin} to be ${n}${o.minimum.toString()}`}case"invalid_format":{let n=o;return n.format==="starts_with"?`Invalid string: must start with "${n.prefix}"`:n.format==="ends_with"?`Invalid string: must end with "${n.suffix}"`:n.format==="includes"?`Invalid string: must include "${n.includes}"`:n.format==="regex"?`Invalid string: must match pattern ${n.pattern}`:`Invalid ${r[n.format]??o.format}`}case"not_multiple_of":return`Invalid number: must be a multiple of ${o.divisor}`;case"unrecognized_keys":return`Unrecognized key${o.keys.length>1?"s":""}: ${C(o.keys,", ")}`;case"invalid_key":return`Invalid key in ${o.origin}`;case"invalid_union":return"Invalid input";case"invalid_element":return`Invalid value in ${o.origin}`;default:return"Invalid input"}}}});function YI(){return{localeError:UW()}}var LW,UW,XI=E(()=>{se();LW=t=>{let e=typeof t;switch(e){case"number":return Number.isNaN(t)?"NaN":"nombro";case"object":{if(Array.isArray(t))return"tabelo";if(t===null)return"senvalora";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name}}return e},UW=()=>{let t={string:{unit:"karaktrojn",verb:"havi"},file:{unit:"bajtojn",verb:"havi"},array:{unit:"elementojn",verb:"havi"},set:{unit:"elementojn",verb:"havi"}};function e(o){return t[o]??null}let r={regex:"enigo",email:"retadreso",url:"URL",emoji:"emo\u011Dio",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datotempo",date:"ISO-dato",time:"ISO-tempo",duration:"ISO-da\u016Dro",ipv4:"IPv4-adreso",ipv6:"IPv6-adreso",cidrv4:"IPv4-rango",cidrv6:"IPv6-rango",base64:"64-ume kodita karaktraro",base64url:"URL-64-ume kodita karaktraro",json_string:"JSON-karaktraro",e164:"E.164-nombro",jwt:"JWT",template_literal:"enigo"};return o=>{switch(o.code){case"invalid_type":return`Nevalida enigo: atendi\u011Dis ${o.expected}, ricevi\u011Dis ${LW(o.input)}`;case"invalid_value":return o.values.length===1?`Nevalida enigo: atendi\u011Dis ${L(o.values[0])}`:`Nevalida opcio: atendi\u011Dis unu el ${C(o.values,"|")}`;case"too_big":{let n=o.inclusive?"<=":"<",i=e(o.origin);return i?`Tro granda: atendi\u011Dis ke ${o.origin??"valoro"} havu ${n}${o.maximum.toString()} ${i.unit??"elementojn"}`:`Tro granda: atendi\u011Dis ke ${o.origin??"valoro"} havu ${n}${o.maximum.toString()}`}case"too_small":{let n=o.inclusive?">=":">",i=e(o.origin);return i?`Tro malgranda: atendi\u011Dis ke ${o.origin} havu ${n}${o.minimum.toString()} ${i.unit}`:`Tro malgranda: atendi\u011Dis ke ${o.origin} estu ${n}${o.minimum.toString()}`}case"invalid_format":{let n=o;return n.format==="starts_with"?`Nevalida karaktraro: devas komenci\u011Di per "${n.prefix}"`:n.format==="ends_with"?`Nevalida karaktraro: devas fini\u011Di per "${n.suffix}"`:n.format==="includes"?`Nevalida karaktraro: devas inkluzivi "${n.includes}"`:n.format==="regex"?`Nevalida karaktraro: devas kongrui kun la modelo ${n.pattern}`:`Nevalida ${r[n.format]??o.format}`}case"not_multiple_of":return`Nevalida nombro: devas esti oblo de ${o.divisor}`;case"unrecognized_keys":return`Nekonata${o.keys.length>1?"j":""} \u015Dlosilo${o.keys.length>1?"j":""}: ${C(o.keys,", ")}`;case"invalid_key":return`Nevalida \u015Dlosilo en ${o.origin}`;case"invalid_union":return"Nevalida enigo";case"invalid_element":return`Nevalida valoro en ${o.origin}`;default:return"Nevalida enigo"}}}});function QI(){return{localeError:FW()}}var FW,eT=E(()=>{se();FW=()=>{let t={string:{unit:"caracteres",verb:"tener"},file:{unit:"bytes",verb:"tener"},array:{unit:"elementos",verb:"tener"},set:{unit:"elementos",verb:"tener"}},e={string:"texto",number:"n\xFAmero",boolean:"booleano",array:"arreglo",object:"objeto",set:"conjunto",file:"archivo",date:"fecha",bigint:"n\xFAmero grande",symbol:"s\xEDmbolo",undefined:"indefinido",null:"nulo",function:"funci\xF3n",map:"mapa",record:"registro",tuple:"tupla",enum:"enumeraci\xF3n",union:"uni\xF3n",literal:"literal",promise:"promesa",void:"vac\xEDo",never:"nunca",unknown:"desconocido",any:"cualquiera"};function r(s){return t[s]??null}function o(s){return e[s]??s}let n=s=>{let a=typeof s;switch(a){case"number":return Number.isNaN(s)?"NaN":"number";case"object":return Array.isArray(s)?"array":s===null?"null":Object.getPrototypeOf(s)!==Object.prototype?s.constructor.name:"object"}return a},i={regex:"entrada",email:"direcci\xF3n de correo electr\xF3nico",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"fecha y hora ISO",date:"fecha ISO",time:"hora ISO",duration:"duraci\xF3n ISO",ipv4:"direcci\xF3n IPv4",ipv6:"direcci\xF3n IPv6",cidrv4:"rango IPv4",cidrv6:"rango IPv6",base64:"cadena codificada en base64",base64url:"URL codificada en base64",json_string:"cadena JSON",e164:"n\xFAmero E.164",jwt:"JWT",template_literal:"entrada"};return s=>{switch(s.code){case"invalid_type":return`Entrada inv\xE1lida: se esperaba ${o(s.expected)}, recibido ${o(n(s.input))}`;case"invalid_value":return s.values.length===1?`Entrada inv\xE1lida: se esperaba ${L(s.values[0])}`:`Opci\xF3n inv\xE1lida: se esperaba una de ${C(s.values,"|")}`;case"too_big":{let a=s.inclusive?"<=":"<",c=r(s.origin),u=o(s.origin);return c?`Demasiado grande: se esperaba que ${u??"valor"} tuviera ${a}${s.maximum.toString()} ${c.unit??"elementos"}`:`Demasiado grande: se esperaba que ${u??"valor"} fuera ${a}${s.maximum.toString()}`}case"too_small":{let a=s.inclusive?">=":">",c=r(s.origin),u=o(s.origin);return c?`Demasiado peque\xF1o: se esperaba que ${u} tuviera ${a}${s.minimum.toString()} ${c.unit}`:`Demasiado peque\xF1o: se esperaba que ${u} fuera ${a}${s.minimum.toString()}`}case"invalid_format":{let a=s;return a.format==="starts_with"?`Cadena inv\xE1lida: debe comenzar con "${a.prefix}"`:a.format==="ends_with"?`Cadena inv\xE1lida: debe terminar en "${a.suffix}"`:a.format==="includes"?`Cadena inv\xE1lida: debe incluir "${a.includes}"`:a.format==="regex"?`Cadena inv\xE1lida: debe coincidir con el patr\xF3n ${a.pattern}`:`Inv\xE1lido ${i[a.format]??s.format}`}case"not_multiple_of":return`N\xFAmero inv\xE1lido: debe ser m\xFAltiplo de ${s.divisor}`;case"unrecognized_keys":return`Llave${s.keys.length>1?"s":""} desconocida${s.keys.length>1?"s":""}: ${C(s.keys,", ")}`;case"invalid_key":return`Llave inv\xE1lida en ${o(s.origin)}`;case"invalid_union":return"Entrada inv\xE1lida";case"invalid_element":return`Valor inv\xE1lido en ${o(s.origin)}`;default:return"Entrada inv\xE1lida"}}}});function tT(){return{localeError:qW()}}var qW,rT=E(()=>{se();qW=()=>{let t={string:{unit:"\u06A9\u0627\u0631\u0627\u06A9\u062A\u0631",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"},file:{unit:"\u0628\u0627\u06CC\u062A",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"},array:{unit:"\u0622\u06CC\u062A\u0645",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"},set:{unit:"\u0622\u06CC\u062A\u0645",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"}};function e(n){return t[n]??null}let r=n=>{let i=typeof n;switch(i){case"number":return Number.isNaN(n)?"NaN":"\u0639\u062F\u062F";case"object":{if(Array.isArray(n))return"\u0622\u0631\u0627\u06CC\u0647";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return i},o={regex:"\u0648\u0631\u0648\u062F\u06CC",email:"\u0622\u062F\u0631\u0633 \u0627\u06CC\u0645\u06CC\u0644",url:"URL",emoji:"\u0627\u06CC\u0645\u0648\u062C\u06CC",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u062A\u0627\u0631\u06CC\u062E \u0648 \u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648",date:"\u062A\u0627\u0631\u06CC\u062E \u0627\u06CC\u0632\u0648",time:"\u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648",duration:"\u0645\u062F\u062A \u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648",ipv4:"IPv4 \u0622\u062F\u0631\u0633",ipv6:"IPv6 \u0622\u062F\u0631\u0633",cidrv4:"IPv4 \u062F\u0627\u0645\u0646\u0647",cidrv6:"IPv6 \u062F\u0627\u0645\u0646\u0647",base64:"base64-encoded \u0631\u0634\u062A\u0647",base64url:"base64url-encoded \u0631\u0634\u062A\u0647",json_string:"JSON \u0631\u0634\u062A\u0647",e164:"E.164 \u0639\u062F\u062F",jwt:"JWT",template_literal:"\u0648\u0631\u0648\u062F\u06CC"};return n=>{switch(n.code){case"invalid_type":return`\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A ${n.expected} \u0645\u06CC\u200C\u0628\u0648\u062F\u060C ${r(n.input)} \u062F\u0631\u06CC\u0627\u0641\u062A \u0634\u062F`;case"invalid_value":return n.values.length===1?`\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A ${L(n.values[0])} \u0645\u06CC\u200C\u0628\u0648\u062F`:`\u06AF\u0632\u06CC\u0646\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A \u06CC\u06A9\u06CC \u0627\u0632 ${C(n.values,"|")} \u0645\u06CC\u200C\u0628\u0648\u062F`;case"too_big":{let i=n.inclusive?"<=":"<",s=e(n.origin);return s?`\u062E\u06CC\u0644\u06CC \u0628\u0632\u0631\u06AF: ${n.origin??"\u0645\u0642\u062F\u0627\u0631"} \u0628\u0627\u06CC\u062F ${i}${n.maximum.toString()} ${s.unit??"\u0639\u0646\u0635\u0631"} \u0628\u0627\u0634\u062F`:`\u062E\u06CC\u0644\u06CC \u0628\u0632\u0631\u06AF: ${n.origin??"\u0645\u0642\u062F\u0627\u0631"} \u0628\u0627\u06CC\u062F ${i}${n.maximum.toString()} \u0628\u0627\u0634\u062F`}case"too_small":{let i=n.inclusive?">=":">",s=e(n.origin);return s?`\u062E\u06CC\u0644\u06CC \u06A9\u0648\u0686\u06A9: ${n.origin} \u0628\u0627\u06CC\u062F ${i}${n.minimum.toString()} ${s.unit} \u0628\u0627\u0634\u062F`:`\u062E\u06CC\u0644\u06CC \u06A9\u0648\u0686\u06A9: ${n.origin} \u0628\u0627\u06CC\u062F ${i}${n.minimum.toString()} \u0628\u0627\u0634\u062F`}case"invalid_format":{let i=n;return i.format==="starts_with"?`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 "${i.prefix}" \u0634\u0631\u0648\u0639 \u0634\u0648\u062F`:i.format==="ends_with"?`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 "${i.suffix}" \u062A\u0645\u0627\u0645 \u0634\u0648\u062F`:i.format==="includes"?`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0634\u0627\u0645\u0644 "${i.includes}" \u0628\u0627\u0634\u062F`:i.format==="regex"?`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 \u0627\u0644\u06AF\u0648\u06CC ${i.pattern} \u0645\u0637\u0627\u0628\u0642\u062A \u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F`:`${o[i.format]??n.format} \u0646\u0627\u0645\u0639\u062A\u0628\u0631`}case"not_multiple_of":return`\u0639\u062F\u062F \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0645\u0636\u0631\u0628 ${n.divisor} \u0628\u0627\u0634\u062F`;case"unrecognized_keys":return`\u06A9\u0644\u06CC\u062F${n.keys.length>1?"\u0647\u0627\u06CC":""} \u0646\u0627\u0634\u0646\u0627\u0633: ${C(n.keys,", ")}`;case"invalid_key":return`\u06A9\u0644\u06CC\u062F \u0646\u0627\u0634\u0646\u0627\u0633 \u062F\u0631 ${n.origin}`;case"invalid_union":return"\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631";case"invalid_element":return`\u0645\u0642\u062F\u0627\u0631 \u0646\u0627\u0645\u0639\u062A\u0628\u0631 \u062F\u0631 ${n.origin}`;default:return"\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631"}}}});function nT(){return{localeError:WW()}}var WW,oT=E(()=>{se();WW=()=>{let t={string:{unit:"merkki\xE4",subject:"merkkijonon"},file:{unit:"tavua",subject:"tiedoston"},array:{unit:"alkiota",subject:"listan"},set:{unit:"alkiota",subject:"joukon"},number:{unit:"",subject:"luvun"},bigint:{unit:"",subject:"suuren kokonaisluvun"},int:{unit:"",subject:"kokonaisluvun"},date:{unit:"",subject:"p\xE4iv\xE4m\xE4\xE4r\xE4n"}};function e(n){return t[n]??null}let r=n=>{let i=typeof n;switch(i){case"number":return Number.isNaN(n)?"NaN":"number";case"object":{if(Array.isArray(n))return"array";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return i},o={regex:"s\xE4\xE4nn\xF6llinen lauseke",email:"s\xE4hk\xF6postiosoite",url:"URL-osoite",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-aikaleima",date:"ISO-p\xE4iv\xE4m\xE4\xE4r\xE4",time:"ISO-aika",duration:"ISO-kesto",ipv4:"IPv4-osoite",ipv6:"IPv6-osoite",cidrv4:"IPv4-alue",cidrv6:"IPv6-alue",base64:"base64-koodattu merkkijono",base64url:"base64url-koodattu merkkijono",json_string:"JSON-merkkijono",e164:"E.164-luku",jwt:"JWT",template_literal:"templaattimerkkijono"};return n=>{switch(n.code){case"invalid_type":return`Virheellinen tyyppi: odotettiin ${n.expected}, oli ${r(n.input)}`;case"invalid_value":return n.values.length===1?`Virheellinen sy\xF6te: t\xE4ytyy olla ${L(n.values[0])}`:`Virheellinen valinta: t\xE4ytyy olla yksi seuraavista: ${C(n.values,"|")}`;case"too_big":{let i=n.inclusive?"<=":"<",s=e(n.origin);return s?`Liian suuri: ${s.subject} t\xE4ytyy olla ${i}${n.maximum.toString()} ${s.unit}`.trim():`Liian suuri: arvon t\xE4ytyy olla ${i}${n.maximum.toString()}`}case"too_small":{let i=n.inclusive?">=":">",s=e(n.origin);return s?`Liian pieni: ${s.subject} t\xE4ytyy olla ${i}${n.minimum.toString()} ${s.unit}`.trim():`Liian pieni: arvon t\xE4ytyy olla ${i}${n.minimum.toString()}`}case"invalid_format":{let i=n;return i.format==="starts_with"?`Virheellinen sy\xF6te: t\xE4ytyy alkaa "${i.prefix}"`:i.format==="ends_with"?`Virheellinen sy\xF6te: t\xE4ytyy loppua "${i.suffix}"`:i.format==="includes"?`Virheellinen sy\xF6te: t\xE4ytyy sis\xE4lt\xE4\xE4 "${i.includes}"`:i.format==="regex"?`Virheellinen sy\xF6te: t\xE4ytyy vastata s\xE4\xE4nn\xF6llist\xE4 lauseketta ${i.pattern}`:`Virheellinen ${o[i.format]??n.format}`}case"not_multiple_of":return`Virheellinen luku: t\xE4ytyy olla luvun ${n.divisor} monikerta`;case"unrecognized_keys":return`${n.keys.length>1?"Tuntemattomat avaimet":"Tuntematon avain"}: ${C(n.keys,", ")}`;case"invalid_key":return"Virheellinen avain tietueessa";case"invalid_union":return"Virheellinen unioni";case"invalid_element":return"Virheellinen arvo joukossa";default:return"Virheellinen sy\xF6te"}}}});function iT(){return{localeError:ZW()}}var ZW,sT=E(()=>{se();ZW=()=>{let t={string:{unit:"caract\xE8res",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"\xE9l\xE9ments",verb:"avoir"},set:{unit:"\xE9l\xE9ments",verb:"avoir"}};function e(n){return t[n]??null}let r=n=>{let i=typeof n;switch(i){case"number":return Number.isNaN(n)?"NaN":"nombre";case"object":{if(Array.isArray(n))return"tableau";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return i},o={regex:"entr\xE9e",email:"adresse e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date et heure ISO",date:"date ISO",time:"heure ISO",duration:"dur\xE9e ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"cha\xEEne encod\xE9e en base64",base64url:"cha\xEEne encod\xE9e en base64url",json_string:"cha\xEEne JSON",e164:"num\xE9ro E.164",jwt:"JWT",template_literal:"entr\xE9e"};return n=>{switch(n.code){case"invalid_type":return`Entr\xE9e invalide : ${n.expected} attendu, ${r(n.input)} re\xE7u`;case"invalid_value":return n.values.length===1?`Entr\xE9e invalide : ${L(n.values[0])} attendu`:`Option invalide : une valeur parmi ${C(n.values,"|")} attendue`;case"too_big":{let i=n.inclusive?"<=":"<",s=e(n.origin);return s?`Trop grand : ${n.origin??"valeur"} doit ${s.verb} ${i}${n.maximum.toString()} ${s.unit??"\xE9l\xE9ment(s)"}`:`Trop grand : ${n.origin??"valeur"} doit \xEAtre ${i}${n.maximum.toString()}`}case"too_small":{let i=n.inclusive?">=":">",s=e(n.origin);return s?`Trop petit : ${n.origin} doit ${s.verb} ${i}${n.minimum.toString()} ${s.unit}`:`Trop petit : ${n.origin} doit \xEAtre ${i}${n.minimum.toString()}`}case"invalid_format":{let i=n;return i.format==="starts_with"?`Cha\xEEne invalide : doit commencer par "${i.prefix}"`:i.format==="ends_with"?`Cha\xEEne invalide : doit se terminer par "${i.suffix}"`:i.format==="includes"?`Cha\xEEne invalide : doit inclure "${i.includes}"`:i.format==="regex"?`Cha\xEEne invalide : doit correspondre au mod\xE8le ${i.pattern}`:`${o[i.format]??n.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit \xEAtre un multiple de ${n.divisor}`;case"unrecognized_keys":return`Cl\xE9${n.keys.length>1?"s":""} non reconnue${n.keys.length>1?"s":""} : ${C(n.keys,", ")}`;case"invalid_key":return`Cl\xE9 invalide dans ${n.origin}`;case"invalid_union":return"Entr\xE9e invalide";case"invalid_element":return`Valeur invalide dans ${n.origin}`;default:return"Entr\xE9e invalide"}}}});function aT(){return{localeError:BW()}}var BW,cT=E(()=>{se();BW=()=>{let t={string:{unit:"caract\xE8res",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"\xE9l\xE9ments",verb:"avoir"},set:{unit:"\xE9l\xE9ments",verb:"avoir"}};function e(n){return t[n]??null}let r=n=>{let i=typeof n;switch(i){case"number":return Number.isNaN(n)?"NaN":"number";case"object":{if(Array.isArray(n))return"array";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return i},o={regex:"entr\xE9e",email:"adresse courriel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date-heure ISO",date:"date ISO",time:"heure ISO",duration:"dur\xE9e ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"cha\xEEne encod\xE9e en base64",base64url:"cha\xEEne encod\xE9e en base64url",json_string:"cha\xEEne JSON",e164:"num\xE9ro E.164",jwt:"JWT",template_literal:"entr\xE9e"};return n=>{switch(n.code){case"invalid_type":return`Entr\xE9e invalide : attendu ${n.expected}, re\xE7u ${r(n.input)}`;case"invalid_value":return n.values.length===1?`Entr\xE9e invalide : attendu ${L(n.values[0])}`:`Option invalide : attendu l'une des valeurs suivantes ${C(n.values,"|")}`;case"too_big":{let i=n.inclusive?"\u2264":"<",s=e(n.origin);return s?`Trop grand : attendu que ${n.origin??"la valeur"} ait ${i}${n.maximum.toString()} ${s.unit}`:`Trop grand : attendu que ${n.origin??"la valeur"} soit ${i}${n.maximum.toString()}`}case"too_small":{let i=n.inclusive?"\u2265":">",s=e(n.origin);return s?`Trop petit : attendu que ${n.origin} ait ${i}${n.minimum.toString()} ${s.unit}`:`Trop petit : attendu que ${n.origin} soit ${i}${n.minimum.toString()}`}case"invalid_format":{let i=n;return i.format==="starts_with"?`Cha\xEEne invalide : doit commencer par "${i.prefix}"`:i.format==="ends_with"?`Cha\xEEne invalide : doit se terminer par "${i.suffix}"`:i.format==="includes"?`Cha\xEEne invalide : doit inclure "${i.includes}"`:i.format==="regex"?`Cha\xEEne invalide : doit correspondre au motif ${i.pattern}`:`${o[i.format]??n.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit \xEAtre un multiple de ${n.divisor}`;case"unrecognized_keys":return`Cl\xE9${n.keys.length>1?"s":""} non reconnue${n.keys.length>1?"s":""} : ${C(n.keys,", ")}`;case"invalid_key":return`Cl\xE9 invalide dans ${n.origin}`;case"invalid_union":return"Entr\xE9e invalide";case"invalid_element":return`Valeur invalide dans ${n.origin}`;default:return"Entr\xE9e invalide"}}}});function uT(){return{localeError:HW()}}var HW,lT=E(()=>{se();HW=()=>{let t={string:{label:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA",gender:"f"},number:{label:"\u05DE\u05E1\u05E4\u05E8",gender:"m"},boolean:{label:"\u05E2\u05E8\u05DA \u05D1\u05D5\u05DC\u05D9\u05D0\u05E0\u05D9",gender:"m"},bigint:{label:"BigInt",gender:"m"},date:{label:"\u05EA\u05D0\u05E8\u05D9\u05DA",gender:"m"},array:{label:"\u05DE\u05E2\u05E8\u05DA",gender:"m"},object:{label:"\u05D0\u05D5\u05D1\u05D9\u05D9\u05E7\u05D8",gender:"m"},null:{label:"\u05E2\u05E8\u05DA \u05E8\u05D9\u05E7 (null)",gender:"m"},undefined:{label:"\u05E2\u05E8\u05DA \u05DC\u05D0 \u05DE\u05D5\u05D2\u05D3\u05E8 (undefined)",gender:"m"},symbol:{label:"\u05E1\u05D9\u05DE\u05D1\u05D5\u05DC (Symbol)",gender:"m"},function:{label:"\u05E4\u05D5\u05E0\u05E7\u05E6\u05D9\u05D4",gender:"f"},map:{label:"\u05DE\u05E4\u05D4 (Map)",gender:"f"},set:{label:"\u05E7\u05D1\u05D5\u05E6\u05D4 (Set)",gender:"f"},file:{label:"\u05E7\u05D5\u05D1\u05E5",gender:"m"},promise:{label:"Promise",gender:"m"},NaN:{label:"NaN",gender:"m"},unknown:{label:"\u05E2\u05E8\u05DA \u05DC\u05D0 \u05D9\u05D3\u05D5\u05E2",gender:"m"},value:{label:"\u05E2\u05E8\u05DA",gender:"m"}},e={string:{unit:"\u05EA\u05D5\u05D5\u05D9\u05DD",shortLabel:"\u05E7\u05E6\u05E8",longLabel:"\u05D0\u05E8\u05D5\u05DA"},file:{unit:"\u05D1\u05D9\u05D9\u05D8\u05D9\u05DD",shortLabel:"\u05E7\u05D8\u05DF",longLabel:"\u05D2\u05D3\u05D5\u05DC"},array:{unit:"\u05E4\u05E8\u05D9\u05D8\u05D9\u05DD",shortLabel:"\u05E7\u05D8\u05DF",longLabel:"\u05D2\u05D3\u05D5\u05DC"},set:{unit:"\u05E4\u05E8\u05D9\u05D8\u05D9\u05DD",shortLabel:"\u05E7\u05D8\u05DF",longLabel:"\u05D2\u05D3\u05D5\u05DC"},number:{unit:"",shortLabel:"\u05E7\u05D8\u05DF",longLabel:"\u05D2\u05D3\u05D5\u05DC"}},r=u=>u?t[u]:void 0,o=u=>{let l=r(u);return l?l.label:u??t.unknown.label},n=u=>`\u05D4${o(u)}`,i=u=>(r(u)?.gender??"m")==="f"?"\u05E6\u05E8\u05D9\u05DB\u05D4 \u05DC\u05D4\u05D9\u05D5\u05EA":"\u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA",s=u=>u?e[u]??null:null,a=u=>{let l=typeof u;switch(l){case"number":return Number.isNaN(u)?"NaN":"number";case"object":return Array.isArray(u)?"array":u===null?"null":Object.getPrototypeOf(u)!==Object.prototype&&u.constructor?u.constructor.name:"object";default:return l}},c={regex:{label:"\u05E7\u05DC\u05D8",gender:"m"},email:{label:"\u05DB\u05EA\u05D5\u05D1\u05EA \u05D0\u05D9\u05DE\u05D9\u05D9\u05DC",gender:"f"},url:{label:"\u05DB\u05EA\u05D5\u05D1\u05EA \u05E8\u05E9\u05EA",gender:"f"},emoji:{label:"\u05D0\u05D9\u05DE\u05D5\u05D2'\u05D9",gender:"m"},uuid:{label:"UUID",gender:"m"},nanoid:{label:"nanoid",gender:"m"},guid:{label:"GUID",gender:"m"},cuid:{label:"cuid",gender:"m"},cuid2:{label:"cuid2",gender:"m"},ulid:{label:"ULID",gender:"m"},xid:{label:"XID",gender:"m"},ksuid:{label:"KSUID",gender:"m"},datetime:{label:"\u05EA\u05D0\u05E8\u05D9\u05DA \u05D5\u05D6\u05DE\u05DF ISO",gender:"m"},date:{label:"\u05EA\u05D0\u05E8\u05D9\u05DA ISO",gender:"m"},time:{label:"\u05D6\u05DE\u05DF ISO",gender:"m"},duration:{label:"\u05DE\u05E9\u05DA \u05D6\u05DE\u05DF ISO",gender:"m"},ipv4:{label:"\u05DB\u05EA\u05D5\u05D1\u05EA IPv4",gender:"f"},ipv6:{label:"\u05DB\u05EA\u05D5\u05D1\u05EA IPv6",gender:"f"},cidrv4:{label:"\u05D8\u05D5\u05D5\u05D7 IPv4",gender:"m"},cidrv6:{label:"\u05D8\u05D5\u05D5\u05D7 IPv6",gender:"m"},base64:{label:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D1\u05D1\u05E1\u05D9\u05E1 64",gender:"f"},base64url:{label:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D1\u05D1\u05E1\u05D9\u05E1 64 \u05DC\u05DB\u05EA\u05D5\u05D1\u05D5\u05EA \u05E8\u05E9\u05EA",gender:"f"},json_string:{label:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA JSON",gender:"f"},e164:{label:"\u05DE\u05E1\u05E4\u05E8 E.164",gender:"m"},jwt:{label:"JWT",gender:"m"},ends_with:{label:"\u05E7\u05DC\u05D8",gender:"m"},includes:{label:"\u05E7\u05DC\u05D8",gender:"m"},lowercase:{label:"\u05E7\u05DC\u05D8",gender:"m"},starts_with:{label:"\u05E7\u05DC\u05D8",gender:"m"},uppercase:{label:"\u05E7\u05DC\u05D8",gender:"m"}};return u=>{switch(u.code){case"invalid_type":{let l=u.expected,p=o(l),g=a(u.input),v=t[g]?.label??g;return`\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${p}, \u05D4\u05EA\u05E7\u05D1\u05DC ${v}`}case"invalid_value":{if(u.values.length===1)return`\u05E2\u05E8\u05DA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05D4\u05E2\u05E8\u05DA \u05D7\u05D9\u05D9\u05D1 \u05DC\u05D4\u05D9\u05D5\u05EA ${L(u.values[0])}`;let l=u.values.map(v=>L(v));if(u.values.length===2)return`\u05E2\u05E8\u05DA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05D4\u05D0\u05E4\u05E9\u05E8\u05D5\u05D9\u05D5\u05EA \u05D4\u05DE\u05EA\u05D0\u05D9\u05DE\u05D5\u05EA \u05D4\u05DF ${l[0]} \u05D0\u05D5 ${l[1]}`;let p=l[l.length-1];return`\u05E2\u05E8\u05DA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05D4\u05D0\u05E4\u05E9\u05E8\u05D5\u05D9\u05D5\u05EA \u05D4\u05DE\u05EA\u05D0\u05D9\u05DE\u05D5\u05EA \u05D4\u05DF ${l.slice(0,-1).join(", ")} \u05D0\u05D5 ${p}`}case"too_big":{let l=s(u.origin),p=n(u.origin??"value");if(u.origin==="string")return`${l?.longLabel??"\u05D0\u05E8\u05D5\u05DA"} \u05DE\u05D3\u05D9: ${p} \u05E6\u05E8\u05D9\u05DB\u05D4 \u05DC\u05D4\u05DB\u05D9\u05DC ${u.maximum.toString()} ${l?.unit??""} ${u.inclusive?"\u05D0\u05D5 \u05E4\u05D7\u05D5\u05EA":"\u05DC\u05DB\u05DC \u05D4\u05D9\u05D5\u05EA\u05E8"}`.trim();if(u.origin==="number"){let h=u.inclusive?`\u05E7\u05D8\u05DF \u05D0\u05D5 \u05E9\u05D5\u05D5\u05D4 \u05DC-${u.maximum}`:`\u05E7\u05D8\u05DF \u05DE-${u.maximum}`;return`\u05D2\u05D3\u05D5\u05DC \u05DE\u05D3\u05D9: ${p} \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${h}`}if(u.origin==="array"||u.origin==="set"){let h=u.origin==="set"?"\u05E6\u05E8\u05D9\u05DB\u05D4":"\u05E6\u05E8\u05D9\u05DA",b=u.inclusive?`${u.maximum} ${l?.unit??""} \u05D0\u05D5 \u05E4\u05D7\u05D5\u05EA`:`\u05E4\u05D7\u05D5\u05EA \u05DE-${u.maximum} ${l?.unit??""}`;return`\u05D2\u05D3\u05D5\u05DC \u05DE\u05D3\u05D9: ${p} ${h} \u05DC\u05D4\u05DB\u05D9\u05DC ${b}`.trim()}let g=u.inclusive?"<=":"<",v=i(u.origin??"value");return l?.unit?`${l.longLabel} \u05DE\u05D3\u05D9: ${p} ${v} ${g}${u.maximum.toString()} ${l.unit}`:`${l?.longLabel??"\u05D2\u05D3\u05D5\u05DC"} \u05DE\u05D3\u05D9: ${p} ${v} ${g}${u.maximum.toString()}`}case"too_small":{let l=s(u.origin),p=n(u.origin??"value");if(u.origin==="string")return`${l?.shortLabel??"\u05E7\u05E6\u05E8"} \u05DE\u05D3\u05D9: ${p} \u05E6\u05E8\u05D9\u05DB\u05D4 \u05DC\u05D4\u05DB\u05D9\u05DC ${u.minimum.toString()} ${l?.unit??""} ${u.inclusive?"\u05D0\u05D5 \u05D9\u05D5\u05EA\u05E8":"\u05DC\u05E4\u05D7\u05D5\u05EA"}`.trim();if(u.origin==="number"){let h=u.inclusive?`\u05D2\u05D3\u05D5\u05DC \u05D0\u05D5 \u05E9\u05D5\u05D5\u05D4 \u05DC-${u.minimum}`:`\u05D2\u05D3\u05D5\u05DC \u05DE-${u.minimum}`;return`\u05E7\u05D8\u05DF \u05DE\u05D3\u05D9: ${p} \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${h}`}if(u.origin==="array"||u.origin==="set"){let h=u.origin==="set"?"\u05E6\u05E8\u05D9\u05DB\u05D4":"\u05E6\u05E8\u05D9\u05DA";if(u.minimum===1&&u.inclusive){let _=(u.origin==="set","\u05DC\u05E4\u05D7\u05D5\u05EA \u05E4\u05E8\u05D9\u05D8 \u05D0\u05D7\u05D3");return`\u05E7\u05D8\u05DF \u05DE\u05D3\u05D9: ${p} ${h} \u05DC\u05D4\u05DB\u05D9\u05DC ${_}`}let b=u.inclusive?`${u.minimum} ${l?.unit??""} \u05D0\u05D5 \u05D9\u05D5\u05EA\u05E8`:`\u05D9\u05D5\u05EA\u05E8 \u05DE-${u.minimum} ${l?.unit??""}`;return`\u05E7\u05D8\u05DF \u05DE\u05D3\u05D9: ${p} ${h} \u05DC\u05D4\u05DB\u05D9\u05DC ${b}`.trim()}let g=u.inclusive?">=":">",v=i(u.origin??"value");return l?.unit?`${l.shortLabel} \u05DE\u05D3\u05D9: ${p} ${v} ${g}${u.minimum.toString()} ${l.unit}`:`${l?.shortLabel??"\u05E7\u05D8\u05DF"} \u05DE\u05D3\u05D9: ${p} ${v} ${g}${u.minimum.toString()}`}case"invalid_format":{let l=u;if(l.format==="starts_with")return`\u05D4\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05EA\u05D7\u05D9\u05DC \u05D1 "${l.prefix}"`;if(l.format==="ends_with")return`\u05D4\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05E1\u05EA\u05D9\u05D9\u05DD \u05D1 "${l.suffix}"`;if(l.format==="includes")return`\u05D4\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05DB\u05DC\u05D5\u05DC "${l.includes}"`;if(l.format==="regex")return`\u05D4\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05EA\u05D0\u05D9\u05DD \u05DC\u05EA\u05D1\u05E0\u05D9\u05EA ${l.pattern}`;let p=c[l.format],g=p?.label??l.format,h=(p?.gender??"m")==="f"?"\u05EA\u05E7\u05D9\u05E0\u05D4":"\u05EA\u05E7\u05D9\u05DF";return`${g} \u05DC\u05D0 ${h}`}case"not_multiple_of":return`\u05DE\u05E1\u05E4\u05E8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05D7\u05D9\u05D9\u05D1 \u05DC\u05D4\u05D9\u05D5\u05EA \u05DE\u05DB\u05E4\u05DC\u05D4 \u05E9\u05DC ${u.divisor}`;case"unrecognized_keys":return`\u05DE\u05E4\u05EA\u05D7${u.keys.length>1?"\u05D5\u05EA":""} \u05DC\u05D0 \u05DE\u05D6\u05D5\u05D4${u.keys.length>1?"\u05D9\u05DD":"\u05D4"}: ${C(u.keys,", ")}`;case"invalid_key":return"\u05E9\u05D3\u05D4 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF \u05D1\u05D0\u05D5\u05D1\u05D9\u05D9\u05E7\u05D8";case"invalid_union":return"\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF";case"invalid_element":return`\u05E2\u05E8\u05DA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF \u05D1${n(u.origin??"array")}`;default:return"\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF"}}}});function dT(){return{localeError:VW()}}var VW,pT=E(()=>{se();VW=()=>{let t={string:{unit:"karakter",verb:"legyen"},file:{unit:"byte",verb:"legyen"},array:{unit:"elem",verb:"legyen"},set:{unit:"elem",verb:"legyen"}};function e(n){return t[n]??null}let r=n=>{let i=typeof n;switch(i){case"number":return Number.isNaN(n)?"NaN":"sz\xE1m";case"object":{if(Array.isArray(n))return"t\xF6mb";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return i},o={regex:"bemenet",email:"email c\xEDm",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO id\u0151b\xE9lyeg",date:"ISO d\xE1tum",time:"ISO id\u0151",duration:"ISO id\u0151intervallum",ipv4:"IPv4 c\xEDm",ipv6:"IPv6 c\xEDm",cidrv4:"IPv4 tartom\xE1ny",cidrv6:"IPv6 tartom\xE1ny",base64:"base64-k\xF3dolt string",base64url:"base64url-k\xF3dolt string",json_string:"JSON string",e164:"E.164 sz\xE1m",jwt:"JWT",template_literal:"bemenet"};return n=>{switch(n.code){case"invalid_type":return`\xC9rv\xE9nytelen bemenet: a v\xE1rt \xE9rt\xE9k ${n.expected}, a kapott \xE9rt\xE9k ${r(n.input)}`;case"invalid_value":return n.values.length===1?`\xC9rv\xE9nytelen bemenet: a v\xE1rt \xE9rt\xE9k ${L(n.values[0])}`:`\xC9rv\xE9nytelen opci\xF3: valamelyik \xE9rt\xE9k v\xE1rt ${C(n.values,"|")}`;case"too_big":{let i=n.inclusive?"<=":"<",s=e(n.origin);return s?`T\xFAl nagy: ${n.origin??"\xE9rt\xE9k"} m\xE9rete t\xFAl nagy ${i}${n.maximum.toString()} ${s.unit??"elem"}`:`T\xFAl nagy: a bemeneti \xE9rt\xE9k ${n.origin??"\xE9rt\xE9k"} t\xFAl nagy: ${i}${n.maximum.toString()}`}case"too_small":{let i=n.inclusive?">=":">",s=e(n.origin);return s?`T\xFAl kicsi: a bemeneti \xE9rt\xE9k ${n.origin} m\xE9rete t\xFAl kicsi ${i}${n.minimum.toString()} ${s.unit}`:`T\xFAl kicsi: a bemeneti \xE9rt\xE9k ${n.origin} t\xFAl kicsi ${i}${n.minimum.toString()}`}case"invalid_format":{let i=n;return i.format==="starts_with"?`\xC9rv\xE9nytelen string: "${i.prefix}" \xE9rt\xE9kkel kell kezd\u0151dnie`:i.format==="ends_with"?`\xC9rv\xE9nytelen string: "${i.suffix}" \xE9rt\xE9kkel kell v\xE9gz\u0151dnie`:i.format==="includes"?`\xC9rv\xE9nytelen string: "${i.includes}" \xE9rt\xE9ket kell tartalmaznia`:i.format==="regex"?`\xC9rv\xE9nytelen string: ${i.pattern} mint\xE1nak kell megfelelnie`:`\xC9rv\xE9nytelen ${o[i.format]??n.format}`}case"not_multiple_of":return`\xC9rv\xE9nytelen sz\xE1m: ${n.divisor} t\xF6bbsz\xF6r\xF6s\xE9nek kell lennie`;case"unrecognized_keys":return`Ismeretlen kulcs${n.keys.length>1?"s":""}: ${C(n.keys,", ")}`;case"invalid_key":return`\xC9rv\xE9nytelen kulcs ${n.origin}`;case"invalid_union":return"\xC9rv\xE9nytelen bemenet";case"invalid_element":return`\xC9rv\xE9nytelen \xE9rt\xE9k: ${n.origin}`;default:return"\xC9rv\xE9nytelen bemenet"}}}});function fT(){return{localeError:GW()}}var GW,mT=E(()=>{se();GW=()=>{let t={string:{unit:"karakter",verb:"memiliki"},file:{unit:"byte",verb:"memiliki"},array:{unit:"item",verb:"memiliki"},set:{unit:"item",verb:"memiliki"}};function e(n){return t[n]??null}let r=n=>{let i=typeof n;switch(i){case"number":return Number.isNaN(n)?"NaN":"number";case"object":{if(Array.isArray(n))return"array";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return i},o={regex:"input",email:"alamat email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tanggal dan waktu format ISO",date:"tanggal format ISO",time:"jam format ISO",duration:"durasi format ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"rentang alamat IPv4",cidrv6:"rentang alamat IPv6",base64:"string dengan enkode base64",base64url:"string dengan enkode base64url",json_string:"string JSON",e164:"angka E.164",jwt:"JWT",template_literal:"input"};return n=>{switch(n.code){case"invalid_type":return`Input tidak valid: diharapkan ${n.expected}, diterima ${r(n.input)}`;case"invalid_value":return n.values.length===1?`Input tidak valid: diharapkan ${L(n.values[0])}`:`Pilihan tidak valid: diharapkan salah satu dari ${C(n.values,"|")}`;case"too_big":{let i=n.inclusive?"<=":"<",s=e(n.origin);return s?`Terlalu besar: diharapkan ${n.origin??"value"} memiliki ${i}${n.maximum.toString()} ${s.unit??"elemen"}`:`Terlalu besar: diharapkan ${n.origin??"value"} menjadi ${i}${n.maximum.toString()}`}case"too_small":{let i=n.inclusive?">=":">",s=e(n.origin);return s?`Terlalu kecil: diharapkan ${n.origin} memiliki ${i}${n.minimum.toString()} ${s.unit}`:`Terlalu kecil: diharapkan ${n.origin} menjadi ${i}${n.minimum.toString()}`}case"invalid_format":{let i=n;return i.format==="starts_with"?`String tidak valid: harus dimulai dengan "${i.prefix}"`:i.format==="ends_with"?`String tidak valid: harus berakhir dengan "${i.suffix}"`:i.format==="includes"?`String tidak valid: harus menyertakan "${i.includes}"`:i.format==="regex"?`String tidak valid: harus sesuai pola ${i.pattern}`:`${o[i.format]??n.format} tidak valid`}case"not_multiple_of":return`Angka tidak valid: harus kelipatan dari ${n.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali ${n.keys.length>1?"s":""}: ${C(n.keys,", ")}`;case"invalid_key":return`Kunci tidak valid di ${n.origin}`;case"invalid_union":return"Input tidak valid";case"invalid_element":return`Nilai tidak valid di ${n.origin}`;default:return"Input tidak valid"}}}});function hT(){return{localeError:JW()}}var KW,JW,gT=E(()=>{se();KW=t=>{let e=typeof t;switch(e){case"number":return Number.isNaN(t)?"NaN":"n\xFAmer";case"object":{if(Array.isArray(t))return"fylki";if(t===null)return"null";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name}}return e},JW=()=>{let t={string:{unit:"stafi",verb:"a\xF0 hafa"},file:{unit:"b\xE6ti",verb:"a\xF0 hafa"},array:{unit:"hluti",verb:"a\xF0 hafa"},set:{unit:"hluti",verb:"a\xF0 hafa"}};function e(o){return t[o]??null}let r={regex:"gildi",email:"netfang",url:"vefsl\xF3\xF0",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dagsetning og t\xEDmi",date:"ISO dagsetning",time:"ISO t\xEDmi",duration:"ISO t\xEDmalengd",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded strengur",base64url:"base64url-encoded strengur",json_string:"JSON strengur",e164:"E.164 t\xF6lugildi",jwt:"JWT",template_literal:"gildi"};return o=>{switch(o.code){case"invalid_type":return`Rangt gildi: \xDE\xFA sl\xF3st inn ${KW(o.input)} \xFEar sem \xE1 a\xF0 vera ${o.expected}`;case"invalid_value":return o.values.length===1?`Rangt gildi: gert r\xE1\xF0 fyrir ${L(o.values[0])}`:`\xD3gilt val: m\xE1 vera eitt af eftirfarandi ${C(o.values,"|")}`;case"too_big":{let n=o.inclusive?"<=":"<",i=e(o.origin);return i?`Of st\xF3rt: gert er r\xE1\xF0 fyrir a\xF0 ${o.origin??"gildi"} hafi ${n}${o.maximum.toString()} ${i.unit??"hluti"}`:`Of st\xF3rt: gert er r\xE1\xF0 fyrir a\xF0 ${o.origin??"gildi"} s\xE9 ${n}${o.maximum.toString()}`}case"too_small":{let n=o.inclusive?">=":">",i=e(o.origin);return i?`Of l\xEDti\xF0: gert er r\xE1\xF0 fyrir a\xF0 ${o.origin} hafi ${n}${o.minimum.toString()} ${i.unit}`:`Of l\xEDti\xF0: gert er r\xE1\xF0 fyrir a\xF0 ${o.origin} s\xE9 ${n}${o.minimum.toString()}`}case"invalid_format":{let n=o;return n.format==="starts_with"?`\xD3gildur strengur: ver\xF0ur a\xF0 byrja \xE1 "${n.prefix}"`:n.format==="ends_with"?`\xD3gildur strengur: ver\xF0ur a\xF0 enda \xE1 "${n.suffix}"`:n.format==="includes"?`\xD3gildur strengur: ver\xF0ur a\xF0 innihalda "${n.includes}"`:n.format==="regex"?`\xD3gildur strengur: ver\xF0ur a\xF0 fylgja mynstri ${n.pattern}`:`Rangt ${r[n.format]??o.format}`}case"not_multiple_of":return`R\xF6ng tala: ver\xF0ur a\xF0 vera margfeldi af ${o.divisor}`;case"unrecognized_keys":return`\xD3\xFEekkt ${o.keys.length>1?"ir lyklar":"ur lykill"}: ${C(o.keys,", ")}`;case"invalid_key":return`Rangur lykill \xED ${o.origin}`;case"invalid_union":return"Rangt gildi";case"invalid_element":return`Rangt gildi \xED ${o.origin}`;default:return"Rangt gildi"}}}});function yT(){return{localeError:YW()}}var YW,vT=E(()=>{se();YW=()=>{let t={string:{unit:"caratteri",verb:"avere"},file:{unit:"byte",verb:"avere"},array:{unit:"elementi",verb:"avere"},set:{unit:"elementi",verb:"avere"}};function e(n){return t[n]??null}let r=n=>{let i=typeof n;switch(i){case"number":return Number.isNaN(n)?"NaN":"numero";case"object":{if(Array.isArray(n))return"vettore";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return i},o={regex:"input",email:"indirizzo email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e ora ISO",date:"data ISO",time:"ora ISO",duration:"durata ISO",ipv4:"indirizzo IPv4",ipv6:"indirizzo IPv6",cidrv4:"intervallo IPv4",cidrv6:"intervallo IPv6",base64:"stringa codificata in base64",base64url:"URL codificata in base64",json_string:"stringa JSON",e164:"numero E.164",jwt:"JWT",template_literal:"input"};return n=>{switch(n.code){case"invalid_type":return`Input non valido: atteso ${n.expected}, ricevuto ${r(n.input)}`;case"invalid_value":return n.values.length===1?`Input non valido: atteso ${L(n.values[0])}`:`Opzione non valida: atteso uno tra ${C(n.values,"|")}`;case"too_big":{let i=n.inclusive?"<=":"<",s=e(n.origin);return s?`Troppo grande: ${n.origin??"valore"} deve avere ${i}${n.maximum.toString()} ${s.unit??"elementi"}`:`Troppo grande: ${n.origin??"valore"} deve essere ${i}${n.maximum.toString()}`}case"too_small":{let i=n.inclusive?">=":">",s=e(n.origin);return s?`Troppo piccolo: ${n.origin} deve avere ${i}${n.minimum.toString()} ${s.unit}`:`Troppo piccolo: ${n.origin} deve essere ${i}${n.minimum.toString()}`}case"invalid_format":{let i=n;return i.format==="starts_with"?`Stringa non valida: deve iniziare con "${i.prefix}"`:i.format==="ends_with"?`Stringa non valida: deve terminare con "${i.suffix}"`:i.format==="includes"?`Stringa non valida: deve includere "${i.includes}"`:i.format==="regex"?`Stringa non valida: deve corrispondere al pattern ${i.pattern}`:`Invalid ${o[i.format]??n.format}`}case"not_multiple_of":return`Numero non valido: deve essere un multiplo di ${n.divisor}`;case"unrecognized_keys":return`Chiav${n.keys.length>1?"i":"e"} non riconosciut${n.keys.length>1?"e":"a"}: ${C(n.keys,", ")}`;case"invalid_key":return`Chiave non valida in ${n.origin}`;case"invalid_union":return"Input non valido";case"invalid_element":return`Valore non valido in ${n.origin}`;default:return"Input non valido"}}}});function bT(){return{localeError:XW()}}var XW,_T=E(()=>{se();XW=()=>{let t={string:{unit:"\u6587\u5B57",verb:"\u3067\u3042\u308B"},file:{unit:"\u30D0\u30A4\u30C8",verb:"\u3067\u3042\u308B"},array:{unit:"\u8981\u7D20",verb:"\u3067\u3042\u308B"},set:{unit:"\u8981\u7D20",verb:"\u3067\u3042\u308B"}};function e(n){return t[n]??null}let r=n=>{let i=typeof n;switch(i){case"number":return Number.isNaN(n)?"NaN":"\u6570\u5024";case"object":{if(Array.isArray(n))return"\u914D\u5217";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return i},o={regex:"\u5165\u529B\u5024",email:"\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9",url:"URL",emoji:"\u7D75\u6587\u5B57",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO\u65E5\u6642",date:"ISO\u65E5\u4ED8",time:"ISO\u6642\u523B",duration:"ISO\u671F\u9593",ipv4:"IPv4\u30A2\u30C9\u30EC\u30B9",ipv6:"IPv6\u30A2\u30C9\u30EC\u30B9",cidrv4:"IPv4\u7BC4\u56F2",cidrv6:"IPv6\u7BC4\u56F2",base64:"base64\u30A8\u30F3\u30B3\u30FC\u30C9\u6587\u5B57\u5217",base64url:"base64url\u30A8\u30F3\u30B3\u30FC\u30C9\u6587\u5B57\u5217",json_string:"JSON\u6587\u5B57\u5217",e164:"E.164\u756A\u53F7",jwt:"JWT",template_literal:"\u5165\u529B\u5024"};return n=>{switch(n.code){case"invalid_type":return`\u7121\u52B9\u306A\u5165\u529B: ${n.expected}\u304C\u671F\u5F85\u3055\u308C\u307E\u3057\u305F\u304C\u3001${r(n.input)}\u304C\u5165\u529B\u3055\u308C\u307E\u3057\u305F`;case"invalid_value":return n.values.length===1?`\u7121\u52B9\u306A\u5165\u529B: ${L(n.values[0])}\u304C\u671F\u5F85\u3055\u308C\u307E\u3057\u305F`:`\u7121\u52B9\u306A\u9078\u629E: ${C(n.values,"\u3001")}\u306E\u3044\u305A\u308C\u304B\u3067\u3042\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;case"too_big":{let i=n.inclusive?"\u4EE5\u4E0B\u3067\u3042\u308B":"\u3088\u308A\u5C0F\u3055\u3044",s=e(n.origin);return s?`\u5927\u304D\u3059\u304E\u308B\u5024: ${n.origin??"\u5024"}\u306F${n.maximum.toString()}${s.unit??"\u8981\u7D20"}${i}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:`\u5927\u304D\u3059\u304E\u308B\u5024: ${n.origin??"\u5024"}\u306F${n.maximum.toString()}${i}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`}case"too_small":{let i=n.inclusive?"\u4EE5\u4E0A\u3067\u3042\u308B":"\u3088\u308A\u5927\u304D\u3044",s=e(n.origin);return s?`\u5C0F\u3055\u3059\u304E\u308B\u5024: ${n.origin}\u306F${n.minimum.toString()}${s.unit}${i}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:`\u5C0F\u3055\u3059\u304E\u308B\u5024: ${n.origin}\u306F${n.minimum.toString()}${i}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`}case"invalid_format":{let i=n;return i.format==="starts_with"?`\u7121\u52B9\u306A\u6587\u5B57\u5217: "${i.prefix}"\u3067\u59CB\u307E\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:i.format==="ends_with"?`\u7121\u52B9\u306A\u6587\u5B57\u5217: "${i.suffix}"\u3067\u7D42\u308F\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:i.format==="includes"?`\u7121\u52B9\u306A\u6587\u5B57\u5217: "${i.includes}"\u3092\u542B\u3080\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:i.format==="regex"?`\u7121\u52B9\u306A\u6587\u5B57\u5217: \u30D1\u30BF\u30FC\u30F3${i.pattern}\u306B\u4E00\u81F4\u3059\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:`\u7121\u52B9\u306A${o[i.format]??n.format}`}case"not_multiple_of":return`\u7121\u52B9\u306A\u6570\u5024: ${n.divisor}\u306E\u500D\u6570\u3067\u3042\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;case"unrecognized_keys":return`\u8A8D\u8B58\u3055\u308C\u3066\u3044\u306A\u3044\u30AD\u30FC${n.keys.length>1?"\u7FA4":""}: ${C(n.keys,"\u3001")}`;case"invalid_key":return`${n.origin}\u5185\u306E\u7121\u52B9\u306A\u30AD\u30FC`;case"invalid_union":return"\u7121\u52B9\u306A\u5165\u529B";case"invalid_element":return`${n.origin}\u5185\u306E\u7121\u52B9\u306A\u5024`;default:return"\u7121\u52B9\u306A\u5165\u529B"}}}});function wT(){return{localeError:eZ()}}var QW,eZ,xT=E(()=>{se();QW=t=>{let e=typeof t;switch(e){case"number":return Number.isNaN(t)?"NaN":"\u10E0\u10D8\u10EA\u10EE\u10D5\u10D8";case"object":{if(Array.isArray(t))return"\u10DB\u10D0\u10E1\u10D8\u10D5\u10D8";if(t===null)return"null";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name}}return{string:"\u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8",boolean:"\u10D1\u10E3\u10DA\u10D4\u10D0\u10DC\u10D8",undefined:"undefined",bigint:"bigint",symbol:"symbol",function:"\u10E4\u10E3\u10DC\u10E5\u10EA\u10D8\u10D0"}[e]??e},eZ=()=>{let t={string:{unit:"\u10E1\u10D8\u10DB\u10D1\u10DD\u10DA\u10DD",verb:"\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1"},file:{unit:"\u10D1\u10D0\u10D8\u10E2\u10D8",verb:"\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1"},array:{unit:"\u10D4\u10DA\u10D4\u10DB\u10D4\u10DC\u10E2\u10D8",verb:"\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1"},set:{unit:"\u10D4\u10DA\u10D4\u10DB\u10D4\u10DC\u10E2\u10D8",verb:"\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1"}};function e(o){return t[o]??null}let r={regex:"\u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0",email:"\u10D4\u10DA-\u10E4\u10DD\u10E1\u10E2\u10D8\u10E1 \u10DB\u10D8\u10E1\u10D0\u10DB\u10D0\u10E0\u10D7\u10D8",url:"URL",emoji:"\u10D4\u10DB\u10DD\u10EF\u10D8",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u10D7\u10D0\u10E0\u10D8\u10E6\u10D8-\u10D3\u10E0\u10DD",date:"\u10D7\u10D0\u10E0\u10D8\u10E6\u10D8",time:"\u10D3\u10E0\u10DD",duration:"\u10EE\u10D0\u10DC\u10D2\u10E0\u10EB\u10DA\u10D8\u10D5\u10DD\u10D1\u10D0",ipv4:"IPv4 \u10DB\u10D8\u10E1\u10D0\u10DB\u10D0\u10E0\u10D7\u10D8",ipv6:"IPv6 \u10DB\u10D8\u10E1\u10D0\u10DB\u10D0\u10E0\u10D7\u10D8",cidrv4:"IPv4 \u10D3\u10D8\u10D0\u10DE\u10D0\u10D6\u10DD\u10DC\u10D8",cidrv6:"IPv6 \u10D3\u10D8\u10D0\u10DE\u10D0\u10D6\u10DD\u10DC\u10D8",base64:"base64-\u10D9\u10DD\u10D3\u10D8\u10E0\u10D4\u10D1\u10E3\u10DA\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8",base64url:"base64url-\u10D9\u10DD\u10D3\u10D8\u10E0\u10D4\u10D1\u10E3\u10DA\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8",json_string:"JSON \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8",e164:"E.164 \u10DC\u10DD\u10DB\u10D4\u10E0\u10D8",jwt:"JWT",template_literal:"\u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0"};return o=>{switch(o.code){case"invalid_type":return`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${o.expected}, \u10DB\u10D8\u10E6\u10D4\u10D1\u10E3\u10DA\u10D8 ${QW(o.input)}`;case"invalid_value":return o.values.length===1?`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${L(o.values[0])}`:`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10D5\u10D0\u10E0\u10D8\u10D0\u10DC\u10E2\u10D8: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8\u10D0 \u10D4\u10E0\u10D7-\u10D4\u10E0\u10D7\u10D8 ${C(o.values,"|")}-\u10D3\u10D0\u10DC`;case"too_big":{let n=o.inclusive?"<=":"<",i=e(o.origin);return i?`\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10D3\u10D8\u10D3\u10D8: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${o.origin??"\u10DB\u10DC\u10D8\u10E8\u10D5\u10DC\u10D4\u10DA\u10DD\u10D1\u10D0"} ${i.verb} ${n}${o.maximum.toString()} ${i.unit}`:`\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10D3\u10D8\u10D3\u10D8: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${o.origin??"\u10DB\u10DC\u10D8\u10E8\u10D5\u10DC\u10D4\u10DA\u10DD\u10D1\u10D0"} \u10D8\u10E7\u10DD\u10E1 ${n}${o.maximum.toString()}`}case"too_small":{let n=o.inclusive?">=":">",i=e(o.origin);return i?`\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10DE\u10D0\u10E2\u10D0\u10E0\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${o.origin} ${i.verb} ${n}${o.minimum.toString()} ${i.unit}`:`\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10DE\u10D0\u10E2\u10D0\u10E0\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${o.origin} \u10D8\u10E7\u10DD\u10E1 ${n}${o.minimum.toString()}`}case"invalid_format":{let n=o;return n.format==="starts_with"?`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10D8\u10EC\u10E7\u10D4\u10D1\u10DD\u10D3\u10D4\u10E1 "${n.prefix}"-\u10D8\u10D7`:n.format==="ends_with"?`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10DB\u10D7\u10D0\u10D5\u10E0\u10D3\u10D4\u10D1\u10DD\u10D3\u10D4\u10E1 "${n.suffix}"-\u10D8\u10D7`:n.format==="includes"?`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1 "${n.includes}"-\u10E1`:n.format==="regex"?`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D4\u10E1\u10D0\u10D1\u10D0\u10DB\u10D4\u10D1\u10DD\u10D3\u10D4\u10E1 \u10E8\u10D0\u10D1\u10DA\u10DD\u10DC\u10E1 ${n.pattern}`:`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 ${r[n.format]??o.format}`}case"not_multiple_of":return`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E0\u10D8\u10EA\u10EE\u10D5\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10D8\u10E7\u10DD\u10E1 ${o.divisor}-\u10D8\u10E1 \u10EF\u10D4\u10E0\u10D0\u10D3\u10D8`;case"unrecognized_keys":return`\u10E3\u10EA\u10DC\u10DD\u10D1\u10D8 \u10D2\u10D0\u10E1\u10D0\u10E6\u10D4\u10D1${o.keys.length>1?"\u10D4\u10D1\u10D8":"\u10D8"}: ${C(o.keys,", ")}`;case"invalid_key":return`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10D2\u10D0\u10E1\u10D0\u10E6\u10D4\u10D1\u10D8 ${o.origin}-\u10E8\u10D8`;case"invalid_union":return"\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0";case"invalid_element":return`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10DB\u10DC\u10D8\u10E8\u10D5\u10DC\u10D4\u10DA\u10DD\u10D1\u10D0 ${o.origin}-\u10E8\u10D8`;default:return"\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0"}}}});function Dp(){return{localeError:tZ()}}var tZ,Kv=E(()=>{se();tZ=()=>{let t={string:{unit:"\u178F\u17BD\u17A2\u1780\u17D2\u179F\u179A",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"},file:{unit:"\u1794\u17C3",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"},array:{unit:"\u1792\u17B6\u178F\u17BB",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"},set:{unit:"\u1792\u17B6\u178F\u17BB",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"}};function e(n){return t[n]??null}let r=n=>{let i=typeof n;switch(i){case"number":return Number.isNaN(n)?"\u1798\u17B7\u1793\u1798\u17C2\u1793\u1787\u17B6\u179B\u17C1\u1781 (NaN)":"\u179B\u17C1\u1781";case"object":{if(Array.isArray(n))return"\u17A2\u17B6\u179A\u17C1 (Array)";if(n===null)return"\u1782\u17D2\u1798\u17B6\u1793\u178F\u1798\u17D2\u179B\u17C3 (null)";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return i},o={regex:"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B",email:"\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793\u17A2\u17CA\u17B8\u1798\u17C2\u179B",url:"URL",emoji:"\u179F\u1789\u17D2\u1789\u17B6\u17A2\u17B6\u179A\u1798\u17D2\u1798\u178E\u17CD",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u1780\u17B6\u179B\u1794\u179A\u17B7\u1785\u17D2\u1786\u17C1\u1791 \u1793\u17B7\u1784\u1798\u17C9\u17C4\u1784 ISO",date:"\u1780\u17B6\u179B\u1794\u179A\u17B7\u1785\u17D2\u1786\u17C1\u1791 ISO",time:"\u1798\u17C9\u17C4\u1784 ISO",duration:"\u179A\u1799\u17C8\u1796\u17C1\u179B ISO",ipv4:"\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv4",ipv6:"\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv6",cidrv4:"\u178A\u17C2\u1793\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv4",cidrv6:"\u178A\u17C2\u1793\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv6",base64:"\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u17A2\u17CA\u17B7\u1780\u17BC\u178A base64",base64url:"\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u17A2\u17CA\u17B7\u1780\u17BC\u178A base64url",json_string:"\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A JSON",e164:"\u179B\u17C1\u1781 E.164",jwt:"JWT",template_literal:"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B"};return n=>{switch(n.code){case"invalid_type":return`\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${n.expected} \u1794\u17C9\u17BB\u1793\u17D2\u178F\u17C2\u1791\u1791\u17BD\u179B\u1794\u17B6\u1793 ${r(n.input)}`;case"invalid_value":return n.values.length===1?`\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${L(n.values[0])}`:`\u1787\u1798\u17D2\u179A\u17BE\u179F\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1787\u17B6\u1798\u17BD\u1799\u1780\u17D2\u1793\u17BB\u1784\u1785\u17C6\u178E\u17C4\u1798 ${C(n.values,"|")}`;case"too_big":{let i=n.inclusive?"<=":"<",s=e(n.origin);return s?`\u1792\u17C6\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${n.origin??"\u178F\u1798\u17D2\u179B\u17C3"} ${i} ${n.maximum.toString()} ${s.unit??"\u1792\u17B6\u178F\u17BB"}`:`\u1792\u17C6\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${n.origin??"\u178F\u1798\u17D2\u179B\u17C3"} ${i} ${n.maximum.toString()}`}case"too_small":{let i=n.inclusive?">=":">",s=e(n.origin);return s?`\u178F\u17BC\u1785\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${n.origin} ${i} ${n.minimum.toString()} ${s.unit}`:`\u178F\u17BC\u1785\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${n.origin} ${i} ${n.minimum.toString()}`}case"invalid_format":{let i=n;return i.format==="starts_with"?`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1785\u17B6\u1794\u17CB\u1795\u17D2\u178F\u17BE\u1798\u178A\u17C4\u1799 "${i.prefix}"`:i.format==="ends_with"?`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1794\u1789\u17D2\u1785\u1794\u17CB\u178A\u17C4\u1799 "${i.suffix}"`:i.format==="includes"?`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1798\u17B6\u1793 "${i.includes}"`:i.format==="regex"?`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u178F\u17C2\u1795\u17D2\u1782\u17BC\u1795\u17D2\u1782\u1784\u1793\u17B9\u1784\u1791\u1798\u17D2\u179A\u1784\u17CB\u178A\u17C2\u179B\u1794\u17B6\u1793\u1780\u17C6\u178E\u178F\u17CB ${i.pattern}`:`\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 ${o[i.format]??n.format}`}case"not_multiple_of":return`\u179B\u17C1\u1781\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u178F\u17C2\u1787\u17B6\u1796\u17A0\u17BB\u1782\u17BB\u178E\u1793\u17C3 ${n.divisor}`;case"unrecognized_keys":return`\u179A\u1780\u1783\u17BE\u1789\u179F\u17C4\u1798\u17B7\u1793\u179F\u17D2\u1782\u17B6\u179B\u17CB\u17D6 ${C(n.keys,", ")}`;case"invalid_key":return`\u179F\u17C4\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u1793\u17C5\u1780\u17D2\u1793\u17BB\u1784 ${n.origin}`;case"invalid_union":return"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C";case"invalid_element":return`\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u1793\u17C5\u1780\u17D2\u1793\u17BB\u1784 ${n.origin}`;default:return"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C"}}}});function ST(){return Dp()}var ET=E(()=>{Kv()});function kT(){return{localeError:rZ()}}var rZ,IT=E(()=>{se();rZ=()=>{let t={string:{unit:"\uBB38\uC790",verb:"to have"},file:{unit:"\uBC14\uC774\uD2B8",verb:"to have"},array:{unit:"\uAC1C",verb:"to have"},set:{unit:"\uAC1C",verb:"to have"}};function e(n){return t[n]??null}let r=n=>{let i=typeof n;switch(i){case"number":return Number.isNaN(n)?"NaN":"number";case"object":{if(Array.isArray(n))return"array";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return i},o={regex:"\uC785\uB825",email:"\uC774\uBA54\uC77C \uC8FC\uC18C",url:"URL",emoji:"\uC774\uBAA8\uC9C0",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \uB0A0\uC9DC\uC2DC\uAC04",date:"ISO \uB0A0\uC9DC",time:"ISO \uC2DC\uAC04",duration:"ISO \uAE30\uAC04",ipv4:"IPv4 \uC8FC\uC18C",ipv6:"IPv6 \uC8FC\uC18C",cidrv4:"IPv4 \uBC94\uC704",cidrv6:"IPv6 \uBC94\uC704",base64:"base64 \uC778\uCF54\uB529 \uBB38\uC790\uC5F4",base64url:"base64url \uC778\uCF54\uB529 \uBB38\uC790\uC5F4",json_string:"JSON \uBB38\uC790\uC5F4",e164:"E.164 \uBC88\uD638",jwt:"JWT",template_literal:"\uC785\uB825"};return n=>{switch(n.code){case"invalid_type":return`\uC798\uBABB\uB41C \uC785\uB825: \uC608\uC0C1 \uD0C0\uC785\uC740 ${n.expected}, \uBC1B\uC740 \uD0C0\uC785\uC740 ${r(n.input)}\uC785\uB2C8\uB2E4`;case"invalid_value":return n.values.length===1?`\uC798\uBABB\uB41C \uC785\uB825: \uAC12\uC740 ${L(n.values[0])} \uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4`:`\uC798\uBABB\uB41C \uC635\uC158: ${C(n.values,"\uB610\uB294 ")} \uC911 \uD558\uB098\uC5EC\uC57C \uD569\uB2C8\uB2E4`;case"too_big":{let i=n.inclusive?"\uC774\uD558":"\uBBF8\uB9CC",s=i==="\uBBF8\uB9CC"?"\uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4":"\uC5EC\uC57C \uD569\uB2C8\uB2E4",a=e(n.origin),c=a?.unit??"\uC694\uC18C";return a?`${n.origin??"\uAC12"}\uC774 \uB108\uBB34 \uD07D\uB2C8\uB2E4: ${n.maximum.toString()}${c} ${i}${s}`:`${n.origin??"\uAC12"}\uC774 \uB108\uBB34 \uD07D\uB2C8\uB2E4: ${n.maximum.toString()} ${i}${s}`}case"too_small":{let i=n.inclusive?"\uC774\uC0C1":"\uCD08\uACFC",s=i==="\uC774\uC0C1"?"\uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4":"\uC5EC\uC57C \uD569\uB2C8\uB2E4",a=e(n.origin),c=a?.unit??"\uC694\uC18C";return a?`${n.origin??"\uAC12"}\uC774 \uB108\uBB34 \uC791\uC2B5\uB2C8\uB2E4: ${n.minimum.toString()}${c} ${i}${s}`:`${n.origin??"\uAC12"}\uC774 \uB108\uBB34 \uC791\uC2B5\uB2C8\uB2E4: ${n.minimum.toString()} ${i}${s}`}case"invalid_format":{let i=n;return i.format==="starts_with"?`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: "${i.prefix}"(\uC73C)\uB85C \uC2DC\uC791\uD574\uC57C \uD569\uB2C8\uB2E4`:i.format==="ends_with"?`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: "${i.suffix}"(\uC73C)\uB85C \uB05D\uB098\uC57C \uD569\uB2C8\uB2E4`:i.format==="includes"?`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: "${i.includes}"\uC744(\uB97C) \uD3EC\uD568\uD574\uC57C \uD569\uB2C8\uB2E4`:i.format==="regex"?`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: \uC815\uADDC\uC2DD ${i.pattern} \uD328\uD134\uACFC \uC77C\uCE58\uD574\uC57C \uD569\uB2C8\uB2E4`:`\uC798\uBABB\uB41C ${o[i.format]??n.format}`}case"not_multiple_of":return`\uC798\uBABB\uB41C \uC22B\uC790: ${n.divisor}\uC758 \uBC30\uC218\uC5EC\uC57C \uD569\uB2C8\uB2E4`;case"unrecognized_keys":return`\uC778\uC2DD\uD560 \uC218 \uC5C6\uB294 \uD0A4: ${C(n.keys,", ")}`;case"invalid_key":return`\uC798\uBABB\uB41C \uD0A4: ${n.origin}`;case"invalid_union":return"\uC798\uBABB\uB41C \uC785\uB825";case"invalid_element":return`\uC798\uBABB\uB41C \uAC12: ${n.origin}`;default:return"\uC798\uBABB\uB41C \uC785\uB825"}}}});function TT(t){let e=Math.abs(t),r=e%10,o=e%100;return o>=11&&o<=19||r===0?"many":r===1?"one":"few"}function $T(){return{localeError:oZ()}}var nZ,_c,bc,oZ,RT=E(()=>{se();nZ=t=>_c(typeof t,t),_c=(t,e=void 0)=>{switch(t){case"number":return Number.isNaN(e)?"NaN":"skai\u010Dius";case"bigint":return"sveikasis skai\u010Dius";case"string":return"eilut\u0117";case"boolean":return"login\u0117 reik\u0161m\u0117";case"undefined":case"void":return"neapibr\u0117\u017Eta reik\u0161m\u0117";case"function":return"funkcija";case"symbol":return"simbolis";case"object":return e===void 0?"ne\u017Einomas objektas":e===null?"nulin\u0117 reik\u0161m\u0117":Array.isArray(e)?"masyvas":Object.getPrototypeOf(e)!==Object.prototype&&e.constructor?e.constructor.name:"objektas";case"null":return"nulin\u0117 reik\u0161m\u0117"}return t},bc=t=>t.charAt(0).toUpperCase()+t.slice(1);oZ=()=>{let t={string:{unit:{one:"simbolis",few:"simboliai",many:"simboli\u0173"},verb:{smaller:{inclusive:"turi b\u016Bti ne ilgesn\u0117 kaip",notInclusive:"turi b\u016Bti trumpesn\u0117 kaip"},bigger:{inclusive:"turi b\u016Bti ne trumpesn\u0117 kaip",notInclusive:"turi b\u016Bti ilgesn\u0117 kaip"}}},file:{unit:{one:"baitas",few:"baitai",many:"bait\u0173"},verb:{smaller:{inclusive:"turi b\u016Bti ne didesnis kaip",notInclusive:"turi b\u016Bti ma\u017Eesnis kaip"},bigger:{inclusive:"turi b\u016Bti ne ma\u017Eesnis kaip",notInclusive:"turi b\u016Bti didesnis kaip"}}},array:{unit:{one:"element\u0105",few:"elementus",many:"element\u0173"},verb:{smaller:{inclusive:"turi tur\u0117ti ne daugiau kaip",notInclusive:"turi tur\u0117ti ma\u017Eiau kaip"},bigger:{inclusive:"turi tur\u0117ti ne ma\u017Eiau kaip",notInclusive:"turi tur\u0117ti daugiau kaip"}}},set:{unit:{one:"element\u0105",few:"elementus",many:"element\u0173"},verb:{smaller:{inclusive:"turi tur\u0117ti ne daugiau kaip",notInclusive:"turi tur\u0117ti ma\u017Eiau kaip"},bigger:{inclusive:"turi tur\u0117ti ne ma\u017Eiau kaip",notInclusive:"turi tur\u0117ti daugiau kaip"}}}};function e(o,n,i,s){let a=t[o]??null;return a===null?a:{unit:a.unit[n],verb:a.verb[s][i?"inclusive":"notInclusive"]}}let r={regex:"\u012Fvestis",email:"el. pa\u0161to adresas",url:"URL",emoji:"jaustukas",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO data ir laikas",date:"ISO data",time:"ISO laikas",duration:"ISO trukm\u0117",ipv4:"IPv4 adresas",ipv6:"IPv6 adresas",cidrv4:"IPv4 tinklo prefiksas (CIDR)",cidrv6:"IPv6 tinklo prefiksas (CIDR)",base64:"base64 u\u017Ekoduota eilut\u0117",base64url:"base64url u\u017Ekoduota eilut\u0117",json_string:"JSON eilut\u0117",e164:"E.164 numeris",jwt:"JWT",template_literal:"\u012Fvestis"};return o=>{switch(o.code){case"invalid_type":return`Gautas tipas ${nZ(o.input)}, o tik\u0117tasi - ${_c(o.expected)}`;case"invalid_value":return o.values.length===1?`Privalo b\u016Bti ${L(o.values[0])}`:`Privalo b\u016Bti vienas i\u0161 ${C(o.values,"|")} pasirinkim\u0173`;case"too_big":{let n=_c(o.origin),i=e(o.origin,TT(Number(o.maximum)),o.inclusive??!1,"smaller");if(i?.verb)return`${bc(n??o.origin??"reik\u0161m\u0117")} ${i.verb} ${o.maximum.toString()} ${i.unit??"element\u0173"}`;let s=o.inclusive?"ne didesnis kaip":"ma\u017Eesnis kaip";return`${bc(n??o.origin??"reik\u0161m\u0117")} turi b\u016Bti ${s} ${o.maximum.toString()} ${i?.unit}`}case"too_small":{let n=_c(o.origin),i=e(o.origin,TT(Number(o.minimum)),o.inclusive??!1,"bigger");if(i?.verb)return`${bc(n??o.origin??"reik\u0161m\u0117")} ${i.verb} ${o.minimum.toString()} ${i.unit??"element\u0173"}`;let s=o.inclusive?"ne ma\u017Eesnis kaip":"didesnis kaip";return`${bc(n??o.origin??"reik\u0161m\u0117")} turi b\u016Bti ${s} ${o.minimum.toString()} ${i?.unit}`}case"invalid_format":{let n=o;return n.format==="starts_with"?`Eilut\u0117 privalo prasid\u0117ti "${n.prefix}"`:n.format==="ends_with"?`Eilut\u0117 privalo pasibaigti "${n.suffix}"`:n.format==="includes"?`Eilut\u0117 privalo \u012Ftraukti "${n.includes}"`:n.format==="regex"?`Eilut\u0117 privalo atitikti ${n.pattern}`:`Neteisingas ${r[n.format]??o.format}`}case"not_multiple_of":return`Skai\u010Dius privalo b\u016Bti ${o.divisor} kartotinis.`;case"unrecognized_keys":return`Neatpa\u017Eint${o.keys.length>1?"i":"as"} rakt${o.keys.length>1?"ai":"as"}: ${C(o.keys,", ")}`;case"invalid_key":return"Rastas klaidingas raktas";case"invalid_union":return"Klaidinga \u012Fvestis";case"invalid_element":{let n=_c(o.origin);return`${bc(n??o.origin??"reik\u0161m\u0117")} turi klaiding\u0105 \u012Fvest\u012F`}default:return"Klaidinga \u012Fvestis"}}}});function PT(){return{localeError:iZ()}}var iZ,CT=E(()=>{se();iZ=()=>{let t={string:{unit:"\u0437\u043D\u0430\u0446\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"},file:{unit:"\u0431\u0430\u0458\u0442\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"},array:{unit:"\u0441\u0442\u0430\u0432\u043A\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"},set:{unit:"\u0441\u0442\u0430\u0432\u043A\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"}};function e(n){return t[n]??null}let r=n=>{let i=typeof n;switch(i){case"number":return Number.isNaN(n)?"NaN":"\u0431\u0440\u043E\u0458";case"object":{if(Array.isArray(n))return"\u043D\u0438\u0437\u0430";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return i},o={regex:"\u0432\u043D\u0435\u0441",email:"\u0430\u0434\u0440\u0435\u0441\u0430 \u043D\u0430 \u0435-\u043F\u043E\u0448\u0442\u0430",url:"URL",emoji:"\u0435\u043C\u043E\u045F\u0438",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0434\u0430\u0442\u0443\u043C \u0438 \u0432\u0440\u0435\u043C\u0435",date:"ISO \u0434\u0430\u0442\u0443\u043C",time:"ISO \u0432\u0440\u0435\u043C\u0435",duration:"ISO \u0432\u0440\u0435\u043C\u0435\u0442\u0440\u0430\u0435\u045A\u0435",ipv4:"IPv4 \u0430\u0434\u0440\u0435\u0441\u0430",ipv6:"IPv6 \u0430\u0434\u0440\u0435\u0441\u0430",cidrv4:"IPv4 \u043E\u043F\u0441\u0435\u0433",cidrv6:"IPv6 \u043E\u043F\u0441\u0435\u0433",base64:"base64-\u0435\u043D\u043A\u043E\u0434\u0438\u0440\u0430\u043D\u0430 \u043D\u0438\u0437\u0430",base64url:"base64url-\u0435\u043D\u043A\u043E\u0434\u0438\u0440\u0430\u043D\u0430 \u043D\u0438\u0437\u0430",json_string:"JSON \u043D\u0438\u0437\u0430",e164:"E.164 \u0431\u0440\u043E\u0458",jwt:"JWT",template_literal:"\u0432\u043D\u0435\u0441"};return n=>{switch(n.code){case"invalid_type":return`\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${n.expected}, \u043F\u0440\u0438\u043C\u0435\u043D\u043E ${r(n.input)}`;case"invalid_value":return n.values.length===1?`Invalid input: expected ${L(n.values[0])}`:`\u0413\u0440\u0435\u0448\u0430\u043D\u0430 \u043E\u043F\u0446\u0438\u0458\u0430: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 \u0435\u0434\u043D\u0430 ${C(n.values,"|")}`;case"too_big":{let i=n.inclusive?"<=":"<",s=e(n.origin);return s?`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u0433\u043E\u043B\u0435\u043C: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${n.origin??"\u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442\u0430"} \u0434\u0430 \u0438\u043C\u0430 ${i}${n.maximum.toString()} ${s.unit??"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0438"}`:`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u0433\u043E\u043B\u0435\u043C: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${n.origin??"\u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442\u0430"} \u0434\u0430 \u0431\u0438\u0434\u0435 ${i}${n.maximum.toString()}`}case"too_small":{let i=n.inclusive?">=":">",s=e(n.origin);return s?`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u043C\u0430\u043B: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${n.origin} \u0434\u0430 \u0438\u043C\u0430 ${i}${n.minimum.toString()} ${s.unit}`:`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u043C\u0430\u043B: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${n.origin} \u0434\u0430 \u0431\u0438\u0434\u0435 ${i}${n.minimum.toString()}`}case"invalid_format":{let i=n;return i.format==="starts_with"?`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0437\u0430\u043F\u043E\u0447\u043D\u0443\u0432\u0430 \u0441\u043E "${i.prefix}"`:i.format==="ends_with"?`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0437\u0430\u0432\u0440\u0448\u0443\u0432\u0430 \u0441\u043E "${i.suffix}"`:i.format==="includes"?`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0432\u043A\u043B\u0443\u0447\u0443\u0432\u0430 "${i.includes}"`:i.format==="regex"?`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u043E\u0434\u0433\u043E\u0430\u0440\u0430 \u043D\u0430 \u043F\u0430\u0442\u0435\u0440\u043D\u043E\u0442 ${i.pattern}`:`Invalid ${o[i.format]??n.format}`}case"not_multiple_of":return`\u0413\u0440\u0435\u0448\u0435\u043D \u0431\u0440\u043E\u0458: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0431\u0438\u0434\u0435 \u0434\u0435\u043B\u0438\u0432 \u0441\u043E ${n.divisor}`;case"unrecognized_keys":return`${n.keys.length>1?"\u041D\u0435\u043F\u0440\u0435\u043F\u043E\u0437\u043D\u0430\u0435\u043D\u0438 \u043A\u043B\u0443\u0447\u0435\u0432\u0438":"\u041D\u0435\u043F\u0440\u0435\u043F\u043E\u0437\u043D\u0430\u0435\u043D \u043A\u043B\u0443\u0447"}: ${C(n.keys,", ")}`;case"invalid_key":return`\u0413\u0440\u0435\u0448\u0435\u043D \u043A\u043B\u0443\u0447 \u0432\u043E ${n.origin}`;case"invalid_union":return"\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441";case"invalid_element":return`\u0413\u0440\u0435\u0448\u043D\u0430 \u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442 \u0432\u043E ${n.origin}`;default:return"\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441"}}}});function AT(){return{localeError:sZ()}}var sZ,OT=E(()=>{se();sZ=()=>{let t={string:{unit:"aksara",verb:"mempunyai"},file:{unit:"bait",verb:"mempunyai"},array:{unit:"elemen",verb:"mempunyai"},set:{unit:"elemen",verb:"mempunyai"}};function e(n){return t[n]??null}let r=n=>{let i=typeof n;switch(i){case"number":return Number.isNaN(n)?"NaN":"nombor";case"object":{if(Array.isArray(n))return"array";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return i},o={regex:"input",email:"alamat e-mel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tarikh masa ISO",date:"tarikh ISO",time:"masa ISO",duration:"tempoh ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"julat IPv4",cidrv6:"julat IPv6",base64:"string dikodkan base64",base64url:"string dikodkan base64url",json_string:"string JSON",e164:"nombor E.164",jwt:"JWT",template_literal:"input"};return n=>{switch(n.code){case"invalid_type":return`Input tidak sah: dijangka ${n.expected}, diterima ${r(n.input)}`;case"invalid_value":return n.values.length===1?`Input tidak sah: dijangka ${L(n.values[0])}`:`Pilihan tidak sah: dijangka salah satu daripada ${C(n.values,"|")}`;case"too_big":{let i=n.inclusive?"<=":"<",s=e(n.origin);return s?`Terlalu besar: dijangka ${n.origin??"nilai"} ${s.verb} ${i}${n.maximum.toString()} ${s.unit??"elemen"}`:`Terlalu besar: dijangka ${n.origin??"nilai"} adalah ${i}${n.maximum.toString()}`}case"too_small":{let i=n.inclusive?">=":">",s=e(n.origin);return s?`Terlalu kecil: dijangka ${n.origin} ${s.verb} ${i}${n.minimum.toString()} ${s.unit}`:`Terlalu kecil: dijangka ${n.origin} adalah ${i}${n.minimum.toString()}`}case"invalid_format":{let i=n;return i.format==="starts_with"?`String tidak sah: mesti bermula dengan "${i.prefix}"`:i.format==="ends_with"?`String tidak sah: mesti berakhir dengan "${i.suffix}"`:i.format==="includes"?`String tidak sah: mesti mengandungi "${i.includes}"`:i.format==="regex"?`String tidak sah: mesti sepadan dengan corak ${i.pattern}`:`${o[i.format]??n.format} tidak sah`}case"not_multiple_of":return`Nombor tidak sah: perlu gandaan ${n.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali: ${C(n.keys,", ")}`;case"invalid_key":return`Kunci tidak sah dalam ${n.origin}`;case"invalid_union":return"Input tidak sah";case"invalid_element":return`Nilai tidak sah dalam ${n.origin}`;default:return"Input tidak sah"}}}});function NT(){return{localeError:aZ()}}var aZ,DT=E(()=>{se();aZ=()=>{let t={string:{unit:"tekens",verb:"te hebben"},file:{unit:"bytes",verb:"te hebben"},array:{unit:"elementen",verb:"te hebben"},set:{unit:"elementen",verb:"te hebben"}};function e(n){return t[n]??null}let r=n=>{let i=typeof n;switch(i){case"number":return Number.isNaN(n)?"NaN":"getal";case"object":{if(Array.isArray(n))return"array";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return i},o={regex:"invoer",email:"emailadres",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum en tijd",date:"ISO datum",time:"ISO tijd",duration:"ISO duur",ipv4:"IPv4-adres",ipv6:"IPv6-adres",cidrv4:"IPv4-bereik",cidrv6:"IPv6-bereik",base64:"base64-gecodeerde tekst",base64url:"base64 URL-gecodeerde tekst",json_string:"JSON string",e164:"E.164-nummer",jwt:"JWT",template_literal:"invoer"};return n=>{switch(n.code){case"invalid_type":return`Ongeldige invoer: verwacht ${n.expected}, ontving ${r(n.input)}`;case"invalid_value":return n.values.length===1?`Ongeldige invoer: verwacht ${L(n.values[0])}`:`Ongeldige optie: verwacht \xE9\xE9n van ${C(n.values,"|")}`;case"too_big":{let i=n.inclusive?"<=":"<",s=e(n.origin);return s?`Te groot: verwacht dat ${n.origin??"waarde"} ${s.verb} ${i}${n.maximum.toString()} ${s.unit??"elementen"}`:`Te groot: verwacht dat ${n.origin??"waarde"} ${i}${n.maximum.toString()} is`}case"too_small":{let i=n.inclusive?">=":">",s=e(n.origin);return s?`Te klein: verwacht dat ${n.origin} ${s.verb} ${i}${n.minimum.toString()} ${s.unit}`:`Te klein: verwacht dat ${n.origin} ${i}${n.minimum.toString()} is`}case"invalid_format":{let i=n;return i.format==="starts_with"?`Ongeldige tekst: moet met "${i.prefix}" beginnen`:i.format==="ends_with"?`Ongeldige tekst: moet op "${i.suffix}" eindigen`:i.format==="includes"?`Ongeldige tekst: moet "${i.includes}" bevatten`:i.format==="regex"?`Ongeldige tekst: moet overeenkomen met patroon ${i.pattern}`:`Ongeldig: ${o[i.format]??n.format}`}case"not_multiple_of":return`Ongeldig getal: moet een veelvoud van ${n.divisor} zijn`;case"unrecognized_keys":return`Onbekende key${n.keys.length>1?"s":""}: ${C(n.keys,", ")}`;case"invalid_key":return`Ongeldige key in ${n.origin}`;case"invalid_union":return"Ongeldige invoer";case"invalid_element":return`Ongeldige waarde in ${n.origin}`;default:return"Ongeldige invoer"}}}});function MT(){return{localeError:cZ()}}var cZ,zT=E(()=>{se();cZ=()=>{let t={string:{unit:"tegn",verb:"\xE5 ha"},file:{unit:"bytes",verb:"\xE5 ha"},array:{unit:"elementer",verb:"\xE5 inneholde"},set:{unit:"elementer",verb:"\xE5 inneholde"}};function e(n){return t[n]??null}let r=n=>{let i=typeof n;switch(i){case"number":return Number.isNaN(n)?"NaN":"tall";case"object":{if(Array.isArray(n))return"liste";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return i},o={regex:"input",email:"e-postadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslett",date:"ISO-dato",time:"ISO-klokkeslett",duration:"ISO-varighet",ipv4:"IPv4-omr\xE5de",ipv6:"IPv6-omr\xE5de",cidrv4:"IPv4-spekter",cidrv6:"IPv6-spekter",base64:"base64-enkodet streng",base64url:"base64url-enkodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"};return n=>{switch(n.code){case"invalid_type":return`Ugyldig input: forventet ${n.expected}, fikk ${r(n.input)}`;case"invalid_value":return n.values.length===1?`Ugyldig verdi: forventet ${L(n.values[0])}`:`Ugyldig valg: forventet en av ${C(n.values,"|")}`;case"too_big":{let i=n.inclusive?"<=":"<",s=e(n.origin);return s?`For stor(t): forventet ${n.origin??"value"} til \xE5 ha ${i}${n.maximum.toString()} ${s.unit??"elementer"}`:`For stor(t): forventet ${n.origin??"value"} til \xE5 ha ${i}${n.maximum.toString()}`}case"too_small":{let i=n.inclusive?">=":">",s=e(n.origin);return s?`For lite(n): forventet ${n.origin} til \xE5 ha ${i}${n.minimum.toString()} ${s.unit}`:`For lite(n): forventet ${n.origin} til \xE5 ha ${i}${n.minimum.toString()}`}case"invalid_format":{let i=n;return i.format==="starts_with"?`Ugyldig streng: m\xE5 starte med "${i.prefix}"`:i.format==="ends_with"?`Ugyldig streng: m\xE5 ende med "${i.suffix}"`:i.format==="includes"?`Ugyldig streng: m\xE5 inneholde "${i.includes}"`:i.format==="regex"?`Ugyldig streng: m\xE5 matche m\xF8nsteret ${i.pattern}`:`Ugyldig ${o[i.format]??n.format}`}case"not_multiple_of":return`Ugyldig tall: m\xE5 v\xE6re et multiplum av ${n.divisor}`;case"unrecognized_keys":return`${n.keys.length>1?"Ukjente n\xF8kler":"Ukjent n\xF8kkel"}: ${C(n.keys,", ")}`;case"invalid_key":return`Ugyldig n\xF8kkel i ${n.origin}`;case"invalid_union":return"Ugyldig input";case"invalid_element":return`Ugyldig verdi i ${n.origin}`;default:return"Ugyldig input"}}}});function jT(){return{localeError:uZ()}}var uZ,LT=E(()=>{se();uZ=()=>{let t={string:{unit:"harf",verb:"olmal\u0131d\u0131r"},file:{unit:"bayt",verb:"olmal\u0131d\u0131r"},array:{unit:"unsur",verb:"olmal\u0131d\u0131r"},set:{unit:"unsur",verb:"olmal\u0131d\u0131r"}};function e(n){return t[n]??null}let r=n=>{let i=typeof n;switch(i){case"number":return Number.isNaN(n)?"NaN":"numara";case"object":{if(Array.isArray(n))return"saf";if(n===null)return"gayb";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return i},o={regex:"giren",email:"epostag\xE2h",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO heng\xE2m\u0131",date:"ISO tarihi",time:"ISO zaman\u0131",duration:"ISO m\xFCddeti",ipv4:"IPv4 ni\u015F\xE2n\u0131",ipv6:"IPv6 ni\u015F\xE2n\u0131",cidrv4:"IPv4 menzili",cidrv6:"IPv6 menzili",base64:"base64-\u015Fifreli metin",base64url:"base64url-\u015Fifreli metin",json_string:"JSON metin",e164:"E.164 say\u0131s\u0131",jwt:"JWT",template_literal:"giren"};return n=>{switch(n.code){case"invalid_type":return`F\xE2sit giren: umulan ${n.expected}, al\u0131nan ${r(n.input)}`;case"invalid_value":return n.values.length===1?`F\xE2sit giren: umulan ${L(n.values[0])}`:`F\xE2sit tercih: m\xFBteberler ${C(n.values,"|")}`;case"too_big":{let i=n.inclusive?"<=":"<",s=e(n.origin);return s?`Fazla b\xFCy\xFCk: ${n.origin??"value"}, ${i}${n.maximum.toString()} ${s.unit??"elements"} sahip olmal\u0131yd\u0131.`:`Fazla b\xFCy\xFCk: ${n.origin??"value"}, ${i}${n.maximum.toString()} olmal\u0131yd\u0131.`}case"too_small":{let i=n.inclusive?">=":">",s=e(n.origin);return s?`Fazla k\xFC\xE7\xFCk: ${n.origin}, ${i}${n.minimum.toString()} ${s.unit} sahip olmal\u0131yd\u0131.`:`Fazla k\xFC\xE7\xFCk: ${n.origin}, ${i}${n.minimum.toString()} olmal\u0131yd\u0131.`}case"invalid_format":{let i=n;return i.format==="starts_with"?`F\xE2sit metin: "${i.prefix}" ile ba\u015Flamal\u0131.`:i.format==="ends_with"?`F\xE2sit metin: "${i.suffix}" ile bitmeli.`:i.format==="includes"?`F\xE2sit metin: "${i.includes}" ihtiv\xE2 etmeli.`:i.format==="regex"?`F\xE2sit metin: ${i.pattern} nak\u015F\u0131na uymal\u0131.`:`F\xE2sit ${o[i.format]??n.format}`}case"not_multiple_of":return`F\xE2sit say\u0131: ${n.divisor} kat\u0131 olmal\u0131yd\u0131.`;case"unrecognized_keys":return`Tan\u0131nmayan anahtar ${n.keys.length>1?"s":""}: ${C(n.keys,", ")}`;case"invalid_key":return`${n.origin} i\xE7in tan\u0131nmayan anahtar var.`;case"invalid_union":return"Giren tan\u0131namad\u0131.";case"invalid_element":return`${n.origin} i\xE7in tan\u0131nmayan k\u0131ymet var.`;default:return"K\u0131ymet tan\u0131namad\u0131."}}}});function UT(){return{localeError:lZ()}}var lZ,FT=E(()=>{se();lZ=()=>{let t={string:{unit:"\u062A\u0648\u06A9\u064A",verb:"\u0648\u0644\u0631\u064A"},file:{unit:"\u0628\u0627\u06CC\u067C\u0633",verb:"\u0648\u0644\u0631\u064A"},array:{unit:"\u062A\u0648\u06A9\u064A",verb:"\u0648\u0644\u0631\u064A"},set:{unit:"\u062A\u0648\u06A9\u064A",verb:"\u0648\u0644\u0631\u064A"}};function e(n){return t[n]??null}let r=n=>{let i=typeof n;switch(i){case"number":return Number.isNaN(n)?"NaN":"\u0639\u062F\u062F";case"object":{if(Array.isArray(n))return"\u0627\u0631\u06D0";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return i},o={regex:"\u0648\u0631\u0648\u062F\u064A",email:"\u0628\u0631\u06CC\u069A\u0646\u0627\u0644\u06CC\u06A9",url:"\u06CC\u0648 \u0622\u0631 \u0627\u0644",emoji:"\u0627\u06CC\u0645\u0648\u062C\u064A",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u0646\u06CC\u067C\u0647 \u0627\u0648 \u0648\u062E\u062A",date:"\u0646\u06D0\u067C\u0647",time:"\u0648\u062E\u062A",duration:"\u0645\u0648\u062F\u0647",ipv4:"\u062F IPv4 \u067E\u062A\u0647",ipv6:"\u062F IPv6 \u067E\u062A\u0647",cidrv4:"\u062F IPv4 \u0633\u0627\u062D\u0647",cidrv6:"\u062F IPv6 \u0633\u0627\u062D\u0647",base64:"base64-encoded \u0645\u062A\u0646",base64url:"base64url-encoded \u0645\u062A\u0646",json_string:"JSON \u0645\u062A\u0646",e164:"\u062F E.164 \u0634\u0645\u06D0\u0631\u0647",jwt:"JWT",template_literal:"\u0648\u0631\u0648\u062F\u064A"};return n=>{switch(n.code){case"invalid_type":return`\u0646\u0627\u0633\u0645 \u0648\u0631\u0648\u062F\u064A: \u0628\u0627\u06CC\u062F ${n.expected} \u0648\u0627\u06CC, \u0645\u06AB\u0631 ${r(n.input)} \u062A\u0631\u0644\u0627\u0633\u0647 \u0634\u0648`;case"invalid_value":return n.values.length===1?`\u0646\u0627\u0633\u0645 \u0648\u0631\u0648\u062F\u064A: \u0628\u0627\u06CC\u062F ${L(n.values[0])} \u0648\u0627\u06CC`:`\u0646\u0627\u0633\u0645 \u0627\u0646\u062A\u062E\u0627\u0628: \u0628\u0627\u06CC\u062F \u06CC\u0648 \u0644\u0647 ${C(n.values,"|")} \u0685\u062E\u0647 \u0648\u0627\u06CC`;case"too_big":{let i=n.inclusive?"<=":"<",s=e(n.origin);return s?`\u0689\u06CC\u0631 \u0644\u0648\u06CC: ${n.origin??"\u0627\u0631\u0632\u069A\u062A"} \u0628\u0627\u06CC\u062F ${i}${n.maximum.toString()} ${s.unit??"\u0639\u0646\u0635\u0631\u0648\u0646\u0647"} \u0648\u0644\u0631\u064A`:`\u0689\u06CC\u0631 \u0644\u0648\u06CC: ${n.origin??"\u0627\u0631\u0632\u069A\u062A"} \u0628\u0627\u06CC\u062F ${i}${n.maximum.toString()} \u0648\u064A`}case"too_small":{let i=n.inclusive?">=":">",s=e(n.origin);return s?`\u0689\u06CC\u0631 \u06A9\u0648\u0686\u0646\u06CC: ${n.origin} \u0628\u0627\u06CC\u062F ${i}${n.minimum.toString()} ${s.unit} \u0648\u0644\u0631\u064A`:`\u0689\u06CC\u0631 \u06A9\u0648\u0686\u0646\u06CC: ${n.origin} \u0628\u0627\u06CC\u062F ${i}${n.minimum.toString()} \u0648\u064A`}case"invalid_format":{let i=n;return i.format==="starts_with"?`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F "${i.prefix}" \u0633\u0631\u0647 \u067E\u06CC\u0644 \u0634\u064A`:i.format==="ends_with"?`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F "${i.suffix}" \u0633\u0631\u0647 \u067E\u0627\u06CC \u062A\u0647 \u0648\u0631\u0633\u064A\u0696\u064A`:i.format==="includes"?`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F "${i.includes}" \u0648\u0644\u0631\u064A`:i.format==="regex"?`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F ${i.pattern} \u0633\u0631\u0647 \u0645\u0637\u0627\u0628\u0642\u062A \u0648\u0644\u0631\u064A`:`${o[i.format]??n.format} \u0646\u0627\u0633\u0645 \u062F\u06CC`}case"not_multiple_of":return`\u0646\u0627\u0633\u0645 \u0639\u062F\u062F: \u0628\u0627\u06CC\u062F \u062F ${n.divisor} \u0645\u0636\u0631\u0628 \u0648\u064A`;case"unrecognized_keys":return`\u0646\u0627\u0633\u0645 ${n.keys.length>1?"\u06A9\u0644\u06CC\u0689\u0648\u0646\u0647":"\u06A9\u0644\u06CC\u0689"}: ${C(n.keys,", ")}`;case"invalid_key":return`\u0646\u0627\u0633\u0645 \u06A9\u0644\u06CC\u0689 \u067E\u0647 ${n.origin} \u06A9\u06D0`;case"invalid_union":return"\u0646\u0627\u0633\u0645\u0647 \u0648\u0631\u0648\u062F\u064A";case"invalid_element":return`\u0646\u0627\u0633\u0645 \u0639\u0646\u0635\u0631 \u067E\u0647 ${n.origin} \u06A9\u06D0`;default:return"\u0646\u0627\u0633\u0645\u0647 \u0648\u0631\u0648\u062F\u064A"}}}});function qT(){return{localeError:dZ()}}var dZ,WT=E(()=>{se();dZ=()=>{let t={string:{unit:"znak\xF3w",verb:"mie\u0107"},file:{unit:"bajt\xF3w",verb:"mie\u0107"},array:{unit:"element\xF3w",verb:"mie\u0107"},set:{unit:"element\xF3w",verb:"mie\u0107"}};function e(n){return t[n]??null}let r=n=>{let i=typeof n;switch(i){case"number":return Number.isNaN(n)?"NaN":"liczba";case"object":{if(Array.isArray(n))return"tablica";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return i},o={regex:"wyra\u017Cenie",email:"adres email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i godzina w formacie ISO",date:"data w formacie ISO",time:"godzina w formacie ISO",duration:"czas trwania ISO",ipv4:"adres IPv4",ipv6:"adres IPv6",cidrv4:"zakres IPv4",cidrv6:"zakres IPv6",base64:"ci\u0105g znak\xF3w zakodowany w formacie base64",base64url:"ci\u0105g znak\xF3w zakodowany w formacie base64url",json_string:"ci\u0105g znak\xF3w w formacie JSON",e164:"liczba E.164",jwt:"JWT",template_literal:"wej\u015Bcie"};return n=>{switch(n.code){case"invalid_type":return`Nieprawid\u0142owe dane wej\u015Bciowe: oczekiwano ${n.expected}, otrzymano ${r(n.input)}`;case"invalid_value":return n.values.length===1?`Nieprawid\u0142owe dane wej\u015Bciowe: oczekiwano ${L(n.values[0])}`:`Nieprawid\u0142owa opcja: oczekiwano jednej z warto\u015Bci ${C(n.values,"|")}`;case"too_big":{let i=n.inclusive?"<=":"<",s=e(n.origin);return s?`Za du\u017Ca warto\u015B\u0107: oczekiwano, \u017Ce ${n.origin??"warto\u015B\u0107"} b\u0119dzie mie\u0107 ${i}${n.maximum.toString()} ${s.unit??"element\xF3w"}`:`Zbyt du\u017C(y/a/e): oczekiwano, \u017Ce ${n.origin??"warto\u015B\u0107"} b\u0119dzie wynosi\u0107 ${i}${n.maximum.toString()}`}case"too_small":{let i=n.inclusive?">=":">",s=e(n.origin);return s?`Za ma\u0142a warto\u015B\u0107: oczekiwano, \u017Ce ${n.origin??"warto\u015B\u0107"} b\u0119dzie mie\u0107 ${i}${n.minimum.toString()} ${s.unit??"element\xF3w"}`:`Zbyt ma\u0142(y/a/e): oczekiwano, \u017Ce ${n.origin??"warto\u015B\u0107"} b\u0119dzie wynosi\u0107 ${i}${n.minimum.toString()}`}case"invalid_format":{let i=n;return i.format==="starts_with"?`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi zaczyna\u0107 si\u0119 od "${i.prefix}"`:i.format==="ends_with"?`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi ko\u0144czy\u0107 si\u0119 na "${i.suffix}"`:i.format==="includes"?`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi zawiera\u0107 "${i.includes}"`:i.format==="regex"?`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi odpowiada\u0107 wzorcowi ${i.pattern}`:`Nieprawid\u0142ow(y/a/e) ${o[i.format]??n.format}`}case"not_multiple_of":return`Nieprawid\u0142owa liczba: musi by\u0107 wielokrotno\u015Bci\u0105 ${n.divisor}`;case"unrecognized_keys":return`Nierozpoznane klucze${n.keys.length>1?"s":""}: ${C(n.keys,", ")}`;case"invalid_key":return`Nieprawid\u0142owy klucz w ${n.origin}`;case"invalid_union":return"Nieprawid\u0142owe dane wej\u015Bciowe";case"invalid_element":return`Nieprawid\u0142owa warto\u015B\u0107 w ${n.origin}`;default:return"Nieprawid\u0142owe dane wej\u015Bciowe"}}}});function ZT(){return{localeError:pZ()}}var pZ,BT=E(()=>{se();pZ=()=>{let t={string:{unit:"caracteres",verb:"ter"},file:{unit:"bytes",verb:"ter"},array:{unit:"itens",verb:"ter"},set:{unit:"itens",verb:"ter"}};function e(n){return t[n]??null}let r=n=>{let i=typeof n;switch(i){case"number":return Number.isNaN(n)?"NaN":"n\xFAmero";case"object":{if(Array.isArray(n))return"array";if(n===null)return"nulo";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return i},o={regex:"padr\xE3o",email:"endere\xE7o de e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e hora ISO",date:"data ISO",time:"hora ISO",duration:"dura\xE7\xE3o ISO",ipv4:"endere\xE7o IPv4",ipv6:"endere\xE7o IPv6",cidrv4:"faixa de IPv4",cidrv6:"faixa de IPv6",base64:"texto codificado em base64",base64url:"URL codificada em base64",json_string:"texto JSON",e164:"n\xFAmero E.164",jwt:"JWT",template_literal:"entrada"};return n=>{switch(n.code){case"invalid_type":return`Tipo inv\xE1lido: esperado ${n.expected}, recebido ${r(n.input)}`;case"invalid_value":return n.values.length===1?`Entrada inv\xE1lida: esperado ${L(n.values[0])}`:`Op\xE7\xE3o inv\xE1lida: esperada uma das ${C(n.values,"|")}`;case"too_big":{let i=n.inclusive?"<=":"<",s=e(n.origin);return s?`Muito grande: esperado que ${n.origin??"valor"} tivesse ${i}${n.maximum.toString()} ${s.unit??"elementos"}`:`Muito grande: esperado que ${n.origin??"valor"} fosse ${i}${n.maximum.toString()}`}case"too_small":{let i=n.inclusive?">=":">",s=e(n.origin);return s?`Muito pequeno: esperado que ${n.origin} tivesse ${i}${n.minimum.toString()} ${s.unit}`:`Muito pequeno: esperado que ${n.origin} fosse ${i}${n.minimum.toString()}`}case"invalid_format":{let i=n;return i.format==="starts_with"?`Texto inv\xE1lido: deve come\xE7ar com "${i.prefix}"`:i.format==="ends_with"?`Texto inv\xE1lido: deve terminar com "${i.suffix}"`:i.format==="includes"?`Texto inv\xE1lido: deve incluir "${i.includes}"`:i.format==="regex"?`Texto inv\xE1lido: deve corresponder ao padr\xE3o ${i.pattern}`:`${o[i.format]??n.format} inv\xE1lido`}case"not_multiple_of":return`N\xFAmero inv\xE1lido: deve ser m\xFAltiplo de ${n.divisor}`;case"unrecognized_keys":return`Chave${n.keys.length>1?"s":""} desconhecida${n.keys.length>1?"s":""}: ${C(n.keys,", ")}`;case"invalid_key":return`Chave inv\xE1lida em ${n.origin}`;case"invalid_union":return"Entrada inv\xE1lida";case"invalid_element":return`Valor inv\xE1lido em ${n.origin}`;default:return"Campo inv\xE1lido"}}}});function HT(t,e,r,o){let n=Math.abs(t),i=n%10,s=n%100;return s>=11&&s<=19?o:i===1?e:i>=2&&i<=4?r:o}function VT(){return{localeError:fZ()}}var fZ,GT=E(()=>{se();fZ=()=>{let t={string:{unit:{one:"\u0441\u0438\u043C\u0432\u043E\u043B",few:"\u0441\u0438\u043C\u0432\u043E\u043B\u0430",many:"\u0441\u0438\u043C\u0432\u043E\u043B\u043E\u0432"},verb:"\u0438\u043C\u0435\u0442\u044C"},file:{unit:{one:"\u0431\u0430\u0439\u0442",few:"\u0431\u0430\u0439\u0442\u0430",many:"\u0431\u0430\u0439\u0442"},verb:"\u0438\u043C\u0435\u0442\u044C"},array:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u043E\u0432"},verb:"\u0438\u043C\u0435\u0442\u044C"},set:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u043E\u0432"},verb:"\u0438\u043C\u0435\u0442\u044C"}};function e(n){return t[n]??null}let r=n=>{let i=typeof n;switch(i){case"number":return Number.isNaN(n)?"NaN":"\u0447\u0438\u0441\u043B\u043E";case"object":{if(Array.isArray(n))return"\u043C\u0430\u0441\u0441\u0438\u0432";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return i},o={regex:"\u0432\u0432\u043E\u0434",email:"email \u0430\u0434\u0440\u0435\u0441",url:"URL",emoji:"\u044D\u043C\u043E\u0434\u0437\u0438",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0434\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043C\u044F",date:"ISO \u0434\u0430\u0442\u0430",time:"ISO \u0432\u0440\u0435\u043C\u044F",duration:"ISO \u0434\u043B\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C",ipv4:"IPv4 \u0430\u0434\u0440\u0435\u0441",ipv6:"IPv6 \u0430\u0434\u0440\u0435\u0441",cidrv4:"IPv4 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",cidrv6:"IPv6 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",base64:"\u0441\u0442\u0440\u043E\u043A\u0430 \u0432 \u0444\u043E\u0440\u043C\u0430\u0442\u0435 base64",base64url:"\u0441\u0442\u0440\u043E\u043A\u0430 \u0432 \u0444\u043E\u0440\u043C\u0430\u0442\u0435 base64url",json_string:"JSON \u0441\u0442\u0440\u043E\u043A\u0430",e164:"\u043D\u043E\u043C\u0435\u0440 E.164",jwt:"JWT",template_literal:"\u0432\u0432\u043E\u0434"};return n=>{switch(n.code){case"invalid_type":return`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0432\u043E\u0434: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C ${n.expected}, \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u043E ${r(n.input)}`;case"invalid_value":return n.values.length===1?`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0432\u043E\u0434: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C ${L(n.values[0])}`:`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0430\u0440\u0438\u0430\u043D\u0442: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C \u043E\u0434\u043D\u043E \u0438\u0437 ${C(n.values,"|")}`;case"too_big":{let i=n.inclusive?"<=":"<",s=e(n.origin);if(s){let a=Number(n.maximum),c=HT(a,s.unit.one,s.unit.few,s.unit.many);return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u0431\u043E\u043B\u044C\u0448\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${n.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435"} \u0431\u0443\u0434\u0435\u0442 \u0438\u043C\u0435\u0442\u044C ${i}${n.maximum.toString()} ${c}`}return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u0431\u043E\u043B\u044C\u0448\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${n.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435"} \u0431\u0443\u0434\u0435\u0442 ${i}${n.maximum.toString()}`}case"too_small":{let i=n.inclusive?">=":">",s=e(n.origin);if(s){let a=Number(n.minimum),c=HT(a,s.unit.one,s.unit.few,s.unit.many);return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u043C\u0430\u043B\u0435\u043D\u044C\u043A\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${n.origin} \u0431\u0443\u0434\u0435\u0442 \u0438\u043C\u0435\u0442\u044C ${i}${n.minimum.toString()} ${c}`}return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u043C\u0430\u043B\u0435\u043D\u044C\u043A\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${n.origin} \u0431\u0443\u0434\u0435\u0442 ${i}${n.minimum.toString()}`}case"invalid_format":{let i=n;return i.format==="starts_with"?`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u043D\u0430\u0447\u0438\u043D\u0430\u0442\u044C\u0441\u044F \u0441 "${i.prefix}"`:i.format==="ends_with"?`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0437\u0430\u043A\u0430\u043D\u0447\u0438\u0432\u0430\u0442\u044C\u0441\u044F \u043D\u0430 "${i.suffix}"`:i.format==="includes"?`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0441\u043E\u0434\u0435\u0440\u0436\u0430\u0442\u044C "${i.includes}"`:i.format==="regex"?`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0441\u043E\u043E\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u043E\u0432\u0430\u0442\u044C \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${i.pattern}`:`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 ${o[i.format]??n.format}`}case"not_multiple_of":return`\u041D\u0435\u0432\u0435\u0440\u043D\u043E\u0435 \u0447\u0438\u0441\u043B\u043E: \u0434\u043E\u043B\u0436\u043D\u043E \u0431\u044B\u0442\u044C \u043A\u0440\u0430\u0442\u043D\u044B\u043C ${n.divisor}`;case"unrecognized_keys":return`\u041D\u0435\u0440\u0430\u0441\u043F\u043E\u0437\u043D\u0430\u043D\u043D${n.keys.length>1?"\u044B\u0435":"\u044B\u0439"} \u043A\u043B\u044E\u0447${n.keys.length>1?"\u0438":""}: ${C(n.keys,", ")}`;case"invalid_key":return`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u043A\u043B\u044E\u0447 \u0432 ${n.origin}`;case"invalid_union":return"\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0435 \u0432\u0445\u043E\u0434\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435";case"invalid_element":return`\u041D\u0435\u0432\u0435\u0440\u043D\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u0432 ${n.origin}`;default:return"\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0435 \u0432\u0445\u043E\u0434\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435"}}}});function KT(){return{localeError:mZ()}}var mZ,JT=E(()=>{se();mZ=()=>{let t={string:{unit:"znakov",verb:"imeti"},file:{unit:"bajtov",verb:"imeti"},array:{unit:"elementov",verb:"imeti"},set:{unit:"elementov",verb:"imeti"}};function e(n){return t[n]??null}let r=n=>{let i=typeof n;switch(i){case"number":return Number.isNaN(n)?"NaN":"\u0161tevilo";case"object":{if(Array.isArray(n))return"tabela";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return i},o={regex:"vnos",email:"e-po\u0161tni naslov",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum in \u010Das",date:"ISO datum",time:"ISO \u010Das",duration:"ISO trajanje",ipv4:"IPv4 naslov",ipv6:"IPv6 naslov",cidrv4:"obseg IPv4",cidrv6:"obseg IPv6",base64:"base64 kodiran niz",base64url:"base64url kodiran niz",json_string:"JSON niz",e164:"E.164 \u0161tevilka",jwt:"JWT",template_literal:"vnos"};return n=>{switch(n.code){case"invalid_type":return`Neveljaven vnos: pri\u010Dakovano ${n.expected}, prejeto ${r(n.input)}`;case"invalid_value":return n.values.length===1?`Neveljaven vnos: pri\u010Dakovano ${L(n.values[0])}`:`Neveljavna mo\u017Enost: pri\u010Dakovano eno izmed ${C(n.values,"|")}`;case"too_big":{let i=n.inclusive?"<=":"<",s=e(n.origin);return s?`Preveliko: pri\u010Dakovano, da bo ${n.origin??"vrednost"} imelo ${i}${n.maximum.toString()} ${s.unit??"elementov"}`:`Preveliko: pri\u010Dakovano, da bo ${n.origin??"vrednost"} ${i}${n.maximum.toString()}`}case"too_small":{let i=n.inclusive?">=":">",s=e(n.origin);return s?`Premajhno: pri\u010Dakovano, da bo ${n.origin} imelo ${i}${n.minimum.toString()} ${s.unit}`:`Premajhno: pri\u010Dakovano, da bo ${n.origin} ${i}${n.minimum.toString()}`}case"invalid_format":{let i=n;return i.format==="starts_with"?`Neveljaven niz: mora se za\u010Deti z "${i.prefix}"`:i.format==="ends_with"?`Neveljaven niz: mora se kon\u010Dati z "${i.suffix}"`:i.format==="includes"?`Neveljaven niz: mora vsebovati "${i.includes}"`:i.format==="regex"?`Neveljaven niz: mora ustrezati vzorcu ${i.pattern}`:`Neveljaven ${o[i.format]??n.format}`}case"not_multiple_of":return`Neveljavno \u0161tevilo: mora biti ve\u010Dkratnik ${n.divisor}`;case"unrecognized_keys":return`Neprepoznan${n.keys.length>1?"i klju\u010Di":" klju\u010D"}: ${C(n.keys,", ")}`;case"invalid_key":return`Neveljaven klju\u010D v ${n.origin}`;case"invalid_union":return"Neveljaven vnos";case"invalid_element":return`Neveljavna vrednost v ${n.origin}`;default:return"Neveljaven vnos"}}}});function YT(){return{localeError:hZ()}}var hZ,XT=E(()=>{se();hZ=()=>{let t={string:{unit:"tecken",verb:"att ha"},file:{unit:"bytes",verb:"att ha"},array:{unit:"objekt",verb:"att inneh\xE5lla"},set:{unit:"objekt",verb:"att inneh\xE5lla"}};function e(n){return t[n]??null}let r=n=>{let i=typeof n;switch(i){case"number":return Number.isNaN(n)?"NaN":"antal";case"object":{if(Array.isArray(n))return"lista";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return i},o={regex:"regulj\xE4rt uttryck",email:"e-postadress",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datum och tid",date:"ISO-datum",time:"ISO-tid",duration:"ISO-varaktighet",ipv4:"IPv4-intervall",ipv6:"IPv6-intervall",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodad str\xE4ng",base64url:"base64url-kodad str\xE4ng",json_string:"JSON-str\xE4ng",e164:"E.164-nummer",jwt:"JWT",template_literal:"mall-literal"};return n=>{switch(n.code){case"invalid_type":return`Ogiltig inmatning: f\xF6rv\xE4ntat ${n.expected}, fick ${r(n.input)}`;case"invalid_value":return n.values.length===1?`Ogiltig inmatning: f\xF6rv\xE4ntat ${L(n.values[0])}`:`Ogiltigt val: f\xF6rv\xE4ntade en av ${C(n.values,"|")}`;case"too_big":{let i=n.inclusive?"<=":"<",s=e(n.origin);return s?`F\xF6r stor(t): f\xF6rv\xE4ntade ${n.origin??"v\xE4rdet"} att ha ${i}${n.maximum.toString()} ${s.unit??"element"}`:`F\xF6r stor(t): f\xF6rv\xE4ntat ${n.origin??"v\xE4rdet"} att ha ${i}${n.maximum.toString()}`}case"too_small":{let i=n.inclusive?">=":">",s=e(n.origin);return s?`F\xF6r lite(t): f\xF6rv\xE4ntade ${n.origin??"v\xE4rdet"} att ha ${i}${n.minimum.toString()} ${s.unit}`:`F\xF6r lite(t): f\xF6rv\xE4ntade ${n.origin??"v\xE4rdet"} att ha ${i}${n.minimum.toString()}`}case"invalid_format":{let i=n;return i.format==="starts_with"?`Ogiltig str\xE4ng: m\xE5ste b\xF6rja med "${i.prefix}"`:i.format==="ends_with"?`Ogiltig str\xE4ng: m\xE5ste sluta med "${i.suffix}"`:i.format==="includes"?`Ogiltig str\xE4ng: m\xE5ste inneh\xE5lla "${i.includes}"`:i.format==="regex"?`Ogiltig str\xE4ng: m\xE5ste matcha m\xF6nstret "${i.pattern}"`:`Ogiltig(t) ${o[i.format]??n.format}`}case"not_multiple_of":return`Ogiltigt tal: m\xE5ste vara en multipel av ${n.divisor}`;case"unrecognized_keys":return`${n.keys.length>1?"Ok\xE4nda nycklar":"Ok\xE4nd nyckel"}: ${C(n.keys,", ")}`;case"invalid_key":return`Ogiltig nyckel i ${n.origin??"v\xE4rdet"}`;case"invalid_union":return"Ogiltig input";case"invalid_element":return`Ogiltigt v\xE4rde i ${n.origin??"v\xE4rdet"}`;default:return"Ogiltig input"}}}});function QT(){return{localeError:gZ()}}var gZ,e$=E(()=>{se();gZ=()=>{let t={string:{unit:"\u0B8E\u0BB4\u0BC1\u0BA4\u0BCD\u0BA4\u0BC1\u0B95\u0BCD\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"},file:{unit:"\u0BAA\u0BC8\u0B9F\u0BCD\u0B9F\u0BC1\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"},array:{unit:"\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"},set:{unit:"\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"}};function e(n){return t[n]??null}let r=n=>{let i=typeof n;switch(i){case"number":return Number.isNaN(n)?"\u0B8E\u0BA3\u0BCD \u0B85\u0BB2\u0BCD\u0BB2\u0BBE\u0BA4\u0BA4\u0BC1":"\u0B8E\u0BA3\u0BCD";case"object":{if(Array.isArray(n))return"\u0B85\u0BA3\u0BBF";if(n===null)return"\u0BB5\u0BC6\u0BB1\u0BC1\u0BAE\u0BC8";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return i},o={regex:"\u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1",email:"\u0BAE\u0BBF\u0BA9\u0BCD\u0BA9\u0B9E\u0BCD\u0B9A\u0BB2\u0BCD \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0BA4\u0BC7\u0BA4\u0BBF \u0BA8\u0BC7\u0BB0\u0BAE\u0BCD",date:"ISO \u0BA4\u0BC7\u0BA4\u0BBF",time:"ISO \u0BA8\u0BC7\u0BB0\u0BAE\u0BCD",duration:"ISO \u0B95\u0BBE\u0BB2 \u0B85\u0BB3\u0BB5\u0BC1",ipv4:"IPv4 \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF",ipv6:"IPv6 \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF",cidrv4:"IPv4 \u0BB5\u0BB0\u0BAE\u0BCD\u0BAA\u0BC1",cidrv6:"IPv6 \u0BB5\u0BB0\u0BAE\u0BCD\u0BAA\u0BC1",base64:"base64-encoded \u0B9A\u0BB0\u0BAE\u0BCD",base64url:"base64url-encoded \u0B9A\u0BB0\u0BAE\u0BCD",json_string:"JSON \u0B9A\u0BB0\u0BAE\u0BCD",e164:"E.164 \u0B8E\u0BA3\u0BCD",jwt:"JWT",template_literal:"input"};return n=>{switch(n.code){case"invalid_type":return`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${n.expected}, \u0BAA\u0BC6\u0BB1\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${r(n.input)}`;case"invalid_value":return n.values.length===1?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${L(n.values[0])}`:`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BB5\u0BBF\u0BB0\u0BC1\u0BAA\u0BCD\u0BAA\u0BAE\u0BCD: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${C(n.values,"|")} \u0B87\u0BB2\u0BCD \u0B92\u0BA9\u0BCD\u0BB1\u0BC1`;case"too_big":{let i=n.inclusive?"<=":"<",s=e(n.origin);return s?`\u0BAE\u0BBF\u0B95 \u0BAA\u0BC6\u0BB0\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${n.origin??"\u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1"} ${i}${n.maximum.toString()} ${s.unit??"\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD"} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:`\u0BAE\u0BBF\u0B95 \u0BAA\u0BC6\u0BB0\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${n.origin??"\u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1"} ${i}${n.maximum.toString()} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`}case"too_small":{let i=n.inclusive?">=":">",s=e(n.origin);return s?`\u0BAE\u0BBF\u0B95\u0B9A\u0BCD \u0B9A\u0BBF\u0BB1\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${n.origin} ${i}${n.minimum.toString()} ${s.unit} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:`\u0BAE\u0BBF\u0B95\u0B9A\u0BCD \u0B9A\u0BBF\u0BB1\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${n.origin} ${i}${n.minimum.toString()} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`}case"invalid_format":{let i=n;return i.format==="starts_with"?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: "${i.prefix}" \u0B87\u0BB2\u0BCD \u0BA4\u0BCA\u0B9F\u0B99\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:i.format==="ends_with"?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: "${i.suffix}" \u0B87\u0BB2\u0BCD \u0BAE\u0BC1\u0B9F\u0BBF\u0BB5\u0B9F\u0BC8\u0BAF \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:i.format==="includes"?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: "${i.includes}" \u0B90 \u0B89\u0BB3\u0BCD\u0BB3\u0B9F\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:i.format==="regex"?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: ${i.pattern} \u0BAE\u0BC1\u0BB1\u0BC8\u0BAA\u0BBE\u0B9F\u0BCD\u0B9F\u0BC1\u0B9F\u0BA9\u0BCD \u0BAA\u0BCA\u0BB0\u0BC1\u0BA8\u0BCD\u0BA4 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 ${o[i.format]??n.format}`}case"not_multiple_of":return`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B8E\u0BA3\u0BCD: ${n.divisor} \u0B87\u0BA9\u0BCD \u0BAA\u0BB2\u0BAE\u0BBE\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;case"unrecognized_keys":return`\u0B85\u0B9F\u0BC8\u0BAF\u0BBE\u0BB3\u0BAE\u0BCD \u0BA4\u0BC6\u0BB0\u0BBF\u0BAF\u0BBE\u0BA4 \u0BB5\u0BBF\u0B9A\u0BC8${n.keys.length>1?"\u0B95\u0BB3\u0BCD":""}: ${C(n.keys,", ")}`;case"invalid_key":return`${n.origin} \u0B87\u0BB2\u0BCD \u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BB5\u0BBF\u0B9A\u0BC8`;case"invalid_union":return"\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1";case"invalid_element":return`${n.origin} \u0B87\u0BB2\u0BCD \u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1`;default:return"\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1"}}}});function t$(){return{localeError:yZ()}}var yZ,r$=E(()=>{se();yZ=()=>{let t={string:{unit:"\u0E15\u0E31\u0E27\u0E2D\u0E31\u0E01\u0E29\u0E23",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"},file:{unit:"\u0E44\u0E1A\u0E15\u0E4C",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"},array:{unit:"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"},set:{unit:"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"}};function e(n){return t[n]??null}let r=n=>{let i=typeof n;switch(i){case"number":return Number.isNaN(n)?"\u0E44\u0E21\u0E48\u0E43\u0E0A\u0E48\u0E15\u0E31\u0E27\u0E40\u0E25\u0E02 (NaN)":"\u0E15\u0E31\u0E27\u0E40\u0E25\u0E02";case"object":{if(Array.isArray(n))return"\u0E2D\u0E32\u0E23\u0E4C\u0E40\u0E23\u0E22\u0E4C (Array)";if(n===null)return"\u0E44\u0E21\u0E48\u0E21\u0E35\u0E04\u0E48\u0E32 (null)";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return i},o={regex:"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E17\u0E35\u0E48\u0E1B\u0E49\u0E2D\u0E19",email:"\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48\u0E2D\u0E35\u0E40\u0E21\u0E25",url:"URL",emoji:"\u0E2D\u0E34\u0E42\u0E21\u0E08\u0E34",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO",date:"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E41\u0E1A\u0E1A ISO",time:"\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO",duration:"\u0E0A\u0E48\u0E27\u0E07\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO",ipv4:"\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48 IPv4",ipv6:"\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48 IPv6",cidrv4:"\u0E0A\u0E48\u0E27\u0E07 IP \u0E41\u0E1A\u0E1A IPv4",cidrv6:"\u0E0A\u0E48\u0E27\u0E07 IP \u0E41\u0E1A\u0E1A IPv6",base64:"\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A Base64",base64url:"\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A Base64 \u0E2A\u0E33\u0E2B\u0E23\u0E31\u0E1A URL",json_string:"\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A JSON",e164:"\u0E40\u0E1A\u0E2D\u0E23\u0E4C\u0E42\u0E17\u0E23\u0E28\u0E31\u0E1E\u0E17\u0E4C\u0E23\u0E30\u0E2B\u0E27\u0E48\u0E32\u0E07\u0E1B\u0E23\u0E30\u0E40\u0E17\u0E28 (E.164)",jwt:"\u0E42\u0E17\u0E40\u0E04\u0E19 JWT",template_literal:"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E17\u0E35\u0E48\u0E1B\u0E49\u0E2D\u0E19"};return n=>{switch(n.code){case"invalid_type":return`\u0E1B\u0E23\u0E30\u0E40\u0E20\u0E17\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19 ${n.expected} \u0E41\u0E15\u0E48\u0E44\u0E14\u0E49\u0E23\u0E31\u0E1A ${r(n.input)}`;case"invalid_value":return n.values.length===1?`\u0E04\u0E48\u0E32\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19 ${L(n.values[0])}`:`\u0E15\u0E31\u0E27\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19\u0E2B\u0E19\u0E36\u0E48\u0E07\u0E43\u0E19 ${C(n.values,"|")}`;case"too_big":{let i=n.inclusive?"\u0E44\u0E21\u0E48\u0E40\u0E01\u0E34\u0E19":"\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32",s=e(n.origin);return s?`\u0E40\u0E01\u0E34\u0E19\u0E01\u0E33\u0E2B\u0E19\u0E14: ${n.origin??"\u0E04\u0E48\u0E32"} \u0E04\u0E27\u0E23\u0E21\u0E35${i} ${n.maximum.toString()} ${s.unit??"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23"}`:`\u0E40\u0E01\u0E34\u0E19\u0E01\u0E33\u0E2B\u0E19\u0E14: ${n.origin??"\u0E04\u0E48\u0E32"} \u0E04\u0E27\u0E23\u0E21\u0E35${i} ${n.maximum.toString()}`}case"too_small":{let i=n.inclusive?"\u0E2D\u0E22\u0E48\u0E32\u0E07\u0E19\u0E49\u0E2D\u0E22":"\u0E21\u0E32\u0E01\u0E01\u0E27\u0E48\u0E32",s=e(n.origin);return s?`\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32\u0E01\u0E33\u0E2B\u0E19\u0E14: ${n.origin} \u0E04\u0E27\u0E23\u0E21\u0E35${i} ${n.minimum.toString()} ${s.unit}`:`\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32\u0E01\u0E33\u0E2B\u0E19\u0E14: ${n.origin} \u0E04\u0E27\u0E23\u0E21\u0E35${i} ${n.minimum.toString()}`}case"invalid_format":{let i=n;return i.format==="starts_with"?`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E02\u0E36\u0E49\u0E19\u0E15\u0E49\u0E19\u0E14\u0E49\u0E27\u0E22 "${i.prefix}"`:i.format==="ends_with"?`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E25\u0E07\u0E17\u0E49\u0E32\u0E22\u0E14\u0E49\u0E27\u0E22 "${i.suffix}"`:i.format==="includes"?`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E21\u0E35 "${i.includes}" \u0E2D\u0E22\u0E39\u0E48\u0E43\u0E19\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21`:i.format==="regex"?`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E15\u0E49\u0E2D\u0E07\u0E15\u0E23\u0E07\u0E01\u0E31\u0E1A\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E17\u0E35\u0E48\u0E01\u0E33\u0E2B\u0E19\u0E14 ${i.pattern}`:`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: ${o[i.format]??n.format}`}case"not_multiple_of":return`\u0E15\u0E31\u0E27\u0E40\u0E25\u0E02\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E15\u0E49\u0E2D\u0E07\u0E40\u0E1B\u0E47\u0E19\u0E08\u0E33\u0E19\u0E27\u0E19\u0E17\u0E35\u0E48\u0E2B\u0E32\u0E23\u0E14\u0E49\u0E27\u0E22 ${n.divisor} \u0E44\u0E14\u0E49\u0E25\u0E07\u0E15\u0E31\u0E27`;case"unrecognized_keys":return`\u0E1E\u0E1A\u0E04\u0E35\u0E22\u0E4C\u0E17\u0E35\u0E48\u0E44\u0E21\u0E48\u0E23\u0E39\u0E49\u0E08\u0E31\u0E01: ${C(n.keys,", ")}`;case"invalid_key":return`\u0E04\u0E35\u0E22\u0E4C\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07\u0E43\u0E19 ${n.origin}`;case"invalid_union":return"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E44\u0E21\u0E48\u0E15\u0E23\u0E07\u0E01\u0E31\u0E1A\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E22\u0E39\u0E40\u0E19\u0E35\u0E22\u0E19\u0E17\u0E35\u0E48\u0E01\u0E33\u0E2B\u0E19\u0E14\u0E44\u0E27\u0E49";case"invalid_element":return`\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07\u0E43\u0E19 ${n.origin}`;default:return"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07"}}}});function n$(){return{localeError:bZ()}}var vZ,bZ,o$=E(()=>{se();vZ=t=>{let e=typeof t;switch(e){case"number":return Number.isNaN(t)?"NaN":"number";case"object":{if(Array.isArray(t))return"array";if(t===null)return"null";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name}}return e},bZ=()=>{let t={string:{unit:"karakter",verb:"olmal\u0131"},file:{unit:"bayt",verb:"olmal\u0131"},array:{unit:"\xF6\u011Fe",verb:"olmal\u0131"},set:{unit:"\xF6\u011Fe",verb:"olmal\u0131"}};function e(o){return t[o]??null}let r={regex:"girdi",email:"e-posta adresi",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO tarih ve saat",date:"ISO tarih",time:"ISO saat",duration:"ISO s\xFCre",ipv4:"IPv4 adresi",ipv6:"IPv6 adresi",cidrv4:"IPv4 aral\u0131\u011F\u0131",cidrv6:"IPv6 aral\u0131\u011F\u0131",base64:"base64 ile \u015Fifrelenmi\u015F metin",base64url:"base64url ile \u015Fifrelenmi\u015F metin",json_string:"JSON dizesi",e164:"E.164 say\u0131s\u0131",jwt:"JWT",template_literal:"\u015Eablon dizesi"};return o=>{switch(o.code){case"invalid_type":return`Ge\xE7ersiz de\u011Fer: beklenen ${o.expected}, al\u0131nan ${vZ(o.input)}`;case"invalid_value":return o.values.length===1?`Ge\xE7ersiz de\u011Fer: beklenen ${L(o.values[0])}`:`Ge\xE7ersiz se\xE7enek: a\u015Fa\u011F\u0131dakilerden biri olmal\u0131: ${C(o.values,"|")}`;case"too_big":{let n=o.inclusive?"<=":"<",i=e(o.origin);return i?`\xC7ok b\xFCy\xFCk: beklenen ${o.origin??"de\u011Fer"} ${n}${o.maximum.toString()} ${i.unit??"\xF6\u011Fe"}`:`\xC7ok b\xFCy\xFCk: beklenen ${o.origin??"de\u011Fer"} ${n}${o.maximum.toString()}`}case"too_small":{let n=o.inclusive?">=":">",i=e(o.origin);return i?`\xC7ok k\xFC\xE7\xFCk: beklenen ${o.origin} ${n}${o.minimum.toString()} ${i.unit}`:`\xC7ok k\xFC\xE7\xFCk: beklenen ${o.origin} ${n}${o.minimum.toString()}`}case"invalid_format":{let n=o;return n.format==="starts_with"?`Ge\xE7ersiz metin: "${n.prefix}" ile ba\u015Flamal\u0131`:n.format==="ends_with"?`Ge\xE7ersiz metin: "${n.suffix}" ile bitmeli`:n.format==="includes"?`Ge\xE7ersiz metin: "${n.includes}" i\xE7ermeli`:n.format==="regex"?`Ge\xE7ersiz metin: ${n.pattern} desenine uymal\u0131`:`Ge\xE7ersiz ${r[n.format]??o.format}`}case"not_multiple_of":return`Ge\xE7ersiz say\u0131: ${o.divisor} ile tam b\xF6l\xFCnebilmeli`;case"unrecognized_keys":return`Tan\u0131nmayan anahtar${o.keys.length>1?"lar":""}: ${C(o.keys,", ")}`;case"invalid_key":return`${o.origin} i\xE7inde ge\xE7ersiz anahtar`;case"invalid_union":return"Ge\xE7ersiz de\u011Fer";case"invalid_element":return`${o.origin} i\xE7inde ge\xE7ersiz de\u011Fer`;default:return"Ge\xE7ersiz de\u011Fer"}}}});function Mp(){return{localeError:_Z()}}var _Z,Jv=E(()=>{se();_Z=()=>{let t={string:{unit:"\u0441\u0438\u043C\u0432\u043E\u043B\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"},file:{unit:"\u0431\u0430\u0439\u0442\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"},array:{unit:"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"},set:{unit:"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"}};function e(n){return t[n]??null}let r=n=>{let i=typeof n;switch(i){case"number":return Number.isNaN(n)?"NaN":"\u0447\u0438\u0441\u043B\u043E";case"object":{if(Array.isArray(n))return"\u043C\u0430\u0441\u0438\u0432";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return i},o={regex:"\u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456",email:"\u0430\u0434\u0440\u0435\u0441\u0430 \u0435\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u043E\u0457 \u043F\u043E\u0448\u0442\u0438",url:"URL",emoji:"\u0435\u043C\u043E\u0434\u0437\u0456",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u0434\u0430\u0442\u0430 \u0442\u0430 \u0447\u0430\u0441 ISO",date:"\u0434\u0430\u0442\u0430 ISO",time:"\u0447\u0430\u0441 ISO",duration:"\u0442\u0440\u0438\u0432\u0430\u043B\u0456\u0441\u0442\u044C ISO",ipv4:"\u0430\u0434\u0440\u0435\u0441\u0430 IPv4",ipv6:"\u0430\u0434\u0440\u0435\u0441\u0430 IPv6",cidrv4:"\u0434\u0456\u0430\u043F\u0430\u0437\u043E\u043D IPv4",cidrv6:"\u0434\u0456\u0430\u043F\u0430\u0437\u043E\u043D IPv6",base64:"\u0440\u044F\u0434\u043E\u043A \u0443 \u043A\u043E\u0434\u0443\u0432\u0430\u043D\u043D\u0456 base64",base64url:"\u0440\u044F\u0434\u043E\u043A \u0443 \u043A\u043E\u0434\u0443\u0432\u0430\u043D\u043D\u0456 base64url",json_string:"\u0440\u044F\u0434\u043E\u043A JSON",e164:"\u043D\u043E\u043C\u0435\u0440 E.164",jwt:"JWT",template_literal:"\u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456"};return n=>{switch(n.code){case"invalid_type":return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F ${n.expected}, \u043E\u0442\u0440\u0438\u043C\u0430\u043D\u043E ${r(n.input)}`;case"invalid_value":return n.values.length===1?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F ${L(n.values[0])}`:`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0430 \u043E\u043F\u0446\u0456\u044F: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F \u043E\u0434\u043D\u0435 \u0437 ${C(n.values,"|")}`;case"too_big":{let i=n.inclusive?"<=":"<",s=e(n.origin);return s?`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u0432\u0435\u043B\u0438\u043A\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${n.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F"} ${s.verb} ${i}${n.maximum.toString()} ${s.unit??"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432"}`:`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u0432\u0435\u043B\u0438\u043A\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${n.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F"} \u0431\u0443\u0434\u0435 ${i}${n.maximum.toString()}`}case"too_small":{let i=n.inclusive?">=":">",s=e(n.origin);return s?`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u043C\u0430\u043B\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${n.origin} ${s.verb} ${i}${n.minimum.toString()} ${s.unit}`:`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u043C\u0430\u043B\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${n.origin} \u0431\u0443\u0434\u0435 ${i}${n.minimum.toString()}`}case"invalid_format":{let i=n;return i.format==="starts_with"?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u043F\u043E\u0447\u0438\u043D\u0430\u0442\u0438\u0441\u044F \u0437 "${i.prefix}"`:i.format==="ends_with"?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u0437\u0430\u043A\u0456\u043D\u0447\u0443\u0432\u0430\u0442\u0438\u0441\u044F \u043D\u0430 "${i.suffix}"`:i.format==="includes"?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u043C\u0456\u0441\u0442\u0438\u0442\u0438 "${i.includes}"`:i.format==="regex"?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u0432\u0456\u0434\u043F\u043E\u0432\u0456\u0434\u0430\u0442\u0438 \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${i.pattern}`:`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 ${o[i.format]??n.format}`}case"not_multiple_of":return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0435 \u0447\u0438\u0441\u043B\u043E: \u043F\u043E\u0432\u0438\u043D\u043D\u043E \u0431\u0443\u0442\u0438 \u043A\u0440\u0430\u0442\u043D\u0438\u043C ${n.divisor}`;case"unrecognized_keys":return`\u041D\u0435\u0440\u043E\u0437\u043F\u0456\u0437\u043D\u0430\u043D\u0438\u0439 \u043A\u043B\u044E\u0447${n.keys.length>1?"\u0456":""}: ${C(n.keys,", ")}`;case"invalid_key":return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u043A\u043B\u044E\u0447 \u0443 ${n.origin}`;case"invalid_union":return"\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456";case"invalid_element":return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F \u0443 ${n.origin}`;default:return"\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456"}}}});function i$(){return Mp()}var s$=E(()=>{Jv()});function a$(){return{localeError:wZ()}}var wZ,c$=E(()=>{se();wZ=()=>{let t={string:{unit:"\u062D\u0631\u0648\u0641",verb:"\u06C1\u0648\u0646\u0627"},file:{unit:"\u0628\u0627\u0626\u0679\u0633",verb:"\u06C1\u0648\u0646\u0627"},array:{unit:"\u0622\u0626\u0679\u0645\u0632",verb:"\u06C1\u0648\u0646\u0627"},set:{unit:"\u0622\u0626\u0679\u0645\u0632",verb:"\u06C1\u0648\u0646\u0627"}};function e(n){return t[n]??null}let r=n=>{let i=typeof n;switch(i){case"number":return Number.isNaN(n)?"NaN":"\u0646\u0645\u0628\u0631";case"object":{if(Array.isArray(n))return"\u0622\u0631\u06D2";if(n===null)return"\u0646\u0644";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return i},o={regex:"\u0627\u0646 \u067E\u0679",email:"\u0627\u06CC \u0645\u06CC\u0644 \u0627\u06CC\u0688\u0631\u06CC\u0633",url:"\u06CC\u0648 \u0622\u0631 \u0627\u06CC\u0644",emoji:"\u0627\u06CC\u0645\u0648\u062C\u06CC",uuid:"\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",uuidv4:"\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC \u0648\u06CC 4",uuidv6:"\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC \u0648\u06CC 6",nanoid:"\u0646\u06CC\u0646\u0648 \u0622\u0626\u06CC \u0688\u06CC",guid:"\u062C\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",cuid:"\u0633\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",cuid2:"\u0633\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC 2",ulid:"\u06CC\u0648 \u0627\u06CC\u0644 \u0622\u0626\u06CC \u0688\u06CC",xid:"\u0627\u06CC\u06A9\u0633 \u0622\u0626\u06CC \u0688\u06CC",ksuid:"\u06A9\u06D2 \u0627\u06CC\u0633 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",datetime:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0688\u06CC\u0679 \u0679\u0627\u0626\u0645",date:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u062A\u0627\u0631\u06CC\u062E",time:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0648\u0642\u062A",duration:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0645\u062F\u062A",ipv4:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 4 \u0627\u06CC\u0688\u0631\u06CC\u0633",ipv6:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 6 \u0627\u06CC\u0688\u0631\u06CC\u0633",cidrv4:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 4 \u0631\u06CC\u0646\u062C",cidrv6:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 6 \u0631\u06CC\u0646\u062C",base64:"\u0628\u06CC\u0633 64 \u0627\u0646 \u06A9\u0648\u0688\u0688 \u0633\u0679\u0631\u0646\u06AF",base64url:"\u0628\u06CC\u0633 64 \u06CC\u0648 \u0622\u0631 \u0627\u06CC\u0644 \u0627\u0646 \u06A9\u0648\u0688\u0688 \u0633\u0679\u0631\u0646\u06AF",json_string:"\u062C\u06D2 \u0627\u06CC\u0633 \u0627\u0648 \u0627\u06CC\u0646 \u0633\u0679\u0631\u0646\u06AF",e164:"\u0627\u06CC 164 \u0646\u0645\u0628\u0631",jwt:"\u062C\u06D2 \u0688\u0628\u0644\u06CC\u0648 \u0679\u06CC",template_literal:"\u0627\u0646 \u067E\u0679"};return n=>{switch(n.code){case"invalid_type":return`\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679: ${n.expected} \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627\u060C ${r(n.input)} \u0645\u0648\u0635\u0648\u0644 \u06C1\u0648\u0627`;case"invalid_value":return n.values.length===1?`\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679: ${L(n.values[0])} \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`:`\u063A\u0644\u0637 \u0622\u067E\u0634\u0646: ${C(n.values,"|")} \u0645\u06CC\u06BA \u0633\u06D2 \u0627\u06CC\u06A9 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`;case"too_big":{let i=n.inclusive?"<=":"<",s=e(n.origin);return s?`\u0628\u06C1\u062A \u0628\u0691\u0627: ${n.origin??"\u0648\u06CC\u0644\u06CC\u0648"} \u06A9\u06D2 ${i}${n.maximum.toString()} ${s.unit??"\u0639\u0646\u0627\u0635\u0631"} \u06C1\u0648\u0646\u06D2 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u06D2`:`\u0628\u06C1\u062A \u0628\u0691\u0627: ${n.origin??"\u0648\u06CC\u0644\u06CC\u0648"} \u06A9\u0627 ${i}${n.maximum.toString()} \u06C1\u0648\u0646\u0627 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`}case"too_small":{let i=n.inclusive?">=":">",s=e(n.origin);return s?`\u0628\u06C1\u062A \u0686\u06BE\u0648\u0679\u0627: ${n.origin} \u06A9\u06D2 ${i}${n.minimum.toString()} ${s.unit} \u06C1\u0648\u0646\u06D2 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u06D2`:`\u0628\u06C1\u062A \u0686\u06BE\u0648\u0679\u0627: ${n.origin} \u06A9\u0627 ${i}${n.minimum.toString()} \u06C1\u0648\u0646\u0627 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`}case"invalid_format":{let i=n;return i.format==="starts_with"?`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: "${i.prefix}" \u0633\u06D2 \u0634\u0631\u0648\u0639 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`:i.format==="ends_with"?`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: "${i.suffix}" \u067E\u0631 \u062E\u062A\u0645 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`:i.format==="includes"?`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: "${i.includes}" \u0634\u0627\u0645\u0644 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`:i.format==="regex"?`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: \u067E\u06CC\u0679\u0631\u0646 ${i.pattern} \u0633\u06D2 \u0645\u06CC\u0686 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`:`\u063A\u0644\u0637 ${o[i.format]??n.format}`}case"not_multiple_of":return`\u063A\u0644\u0637 \u0646\u0645\u0628\u0631: ${n.divisor} \u06A9\u0627 \u0645\u0636\u0627\u0639\u0641 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`;case"unrecognized_keys":return`\u063A\u06CC\u0631 \u062A\u0633\u0644\u06CC\u0645 \u0634\u062F\u06C1 \u06A9\u06CC${n.keys.length>1?"\u0632":""}: ${C(n.keys,"\u060C ")}`;case"invalid_key":return`${n.origin} \u0645\u06CC\u06BA \u063A\u0644\u0637 \u06A9\u06CC`;case"invalid_union":return"\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679";case"invalid_element":return`${n.origin} \u0645\u06CC\u06BA \u063A\u0644\u0637 \u0648\u06CC\u0644\u06CC\u0648`;default:return"\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679"}}}});function u$(){return{localeError:xZ()}}var xZ,l$=E(()=>{se();xZ=()=>{let t={string:{unit:"k\xFD t\u1EF1",verb:"c\xF3"},file:{unit:"byte",verb:"c\xF3"},array:{unit:"ph\u1EA7n t\u1EED",verb:"c\xF3"},set:{unit:"ph\u1EA7n t\u1EED",verb:"c\xF3"}};function e(n){return t[n]??null}let r=n=>{let i=typeof n;switch(i){case"number":return Number.isNaN(n)?"NaN":"s\u1ED1";case"object":{if(Array.isArray(n))return"m\u1EA3ng";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return i},o={regex:"\u0111\u1EA7u v\xE0o",email:"\u0111\u1ECBa ch\u1EC9 email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ng\xE0y gi\u1EDD ISO",date:"ng\xE0y ISO",time:"gi\u1EDD ISO",duration:"kho\u1EA3ng th\u1EDDi gian ISO",ipv4:"\u0111\u1ECBa ch\u1EC9 IPv4",ipv6:"\u0111\u1ECBa ch\u1EC9 IPv6",cidrv4:"d\u1EA3i IPv4",cidrv6:"d\u1EA3i IPv6",base64:"chu\u1ED7i m\xE3 h\xF3a base64",base64url:"chu\u1ED7i m\xE3 h\xF3a base64url",json_string:"chu\u1ED7i JSON",e164:"s\u1ED1 E.164",jwt:"JWT",template_literal:"\u0111\u1EA7u v\xE0o"};return n=>{switch(n.code){case"invalid_type":return`\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i ${n.expected}, nh\u1EADn \u0111\u01B0\u1EE3c ${r(n.input)}`;case"invalid_value":return n.values.length===1?`\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i ${L(n.values[0])}`:`T\xF9y ch\u1ECDn kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i m\u1ED9t trong c\xE1c gi\xE1 tr\u1ECB ${C(n.values,"|")}`;case"too_big":{let i=n.inclusive?"<=":"<",s=e(n.origin);return s?`Qu\xE1 l\u1EDBn: mong \u0111\u1EE3i ${n.origin??"gi\xE1 tr\u1ECB"} ${s.verb} ${i}${n.maximum.toString()} ${s.unit??"ph\u1EA7n t\u1EED"}`:`Qu\xE1 l\u1EDBn: mong \u0111\u1EE3i ${n.origin??"gi\xE1 tr\u1ECB"} ${i}${n.maximum.toString()}`}case"too_small":{let i=n.inclusive?">=":">",s=e(n.origin);return s?`Qu\xE1 nh\u1ECF: mong \u0111\u1EE3i ${n.origin} ${s.verb} ${i}${n.minimum.toString()} ${s.unit}`:`Qu\xE1 nh\u1ECF: mong \u0111\u1EE3i ${n.origin} ${i}${n.minimum.toString()}`}case"invalid_format":{let i=n;return i.format==="starts_with"?`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i b\u1EAFt \u0111\u1EA7u b\u1EB1ng "${i.prefix}"`:i.format==="ends_with"?`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i k\u1EBFt th\xFAc b\u1EB1ng "${i.suffix}"`:i.format==="includes"?`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i bao g\u1ED3m "${i.includes}"`:i.format==="regex"?`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i kh\u1EDBp v\u1EDBi m\u1EABu ${i.pattern}`:`${o[i.format]??n.format} kh\xF4ng h\u1EE3p l\u1EC7`}case"not_multiple_of":return`S\u1ED1 kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i l\xE0 b\u1ED9i s\u1ED1 c\u1EE7a ${n.divisor}`;case"unrecognized_keys":return`Kh\xF3a kh\xF4ng \u0111\u01B0\u1EE3c nh\u1EADn d\u1EA1ng: ${C(n.keys,", ")}`;case"invalid_key":return`Kh\xF3a kh\xF4ng h\u1EE3p l\u1EC7 trong ${n.origin}`;case"invalid_union":return"\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7";case"invalid_element":return`Gi\xE1 tr\u1ECB kh\xF4ng h\u1EE3p l\u1EC7 trong ${n.origin}`;default:return"\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7"}}}});function d$(){return{localeError:SZ()}}var SZ,p$=E(()=>{se();SZ=()=>{let t={string:{unit:"\u5B57\u7B26",verb:"\u5305\u542B"},file:{unit:"\u5B57\u8282",verb:"\u5305\u542B"},array:{unit:"\u9879",verb:"\u5305\u542B"},set:{unit:"\u9879",verb:"\u5305\u542B"}};function e(n){return t[n]??null}let r=n=>{let i=typeof n;switch(i){case"number":return Number.isNaN(n)?"\u975E\u6570\u5B57(NaN)":"\u6570\u5B57";case"object":{if(Array.isArray(n))return"\u6570\u7EC4";if(n===null)return"\u7A7A\u503C(null)";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return i},o={regex:"\u8F93\u5165",email:"\u7535\u5B50\u90AE\u4EF6",url:"URL",emoji:"\u8868\u60C5\u7B26\u53F7",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO\u65E5\u671F\u65F6\u95F4",date:"ISO\u65E5\u671F",time:"ISO\u65F6\u95F4",duration:"ISO\u65F6\u957F",ipv4:"IPv4\u5730\u5740",ipv6:"IPv6\u5730\u5740",cidrv4:"IPv4\u7F51\u6BB5",cidrv6:"IPv6\u7F51\u6BB5",base64:"base64\u7F16\u7801\u5B57\u7B26\u4E32",base64url:"base64url\u7F16\u7801\u5B57\u7B26\u4E32",json_string:"JSON\u5B57\u7B26\u4E32",e164:"E.164\u53F7\u7801",jwt:"JWT",template_literal:"\u8F93\u5165"};return n=>{switch(n.code){case"invalid_type":return`\u65E0\u6548\u8F93\u5165\uFF1A\u671F\u671B ${n.expected}\uFF0C\u5B9E\u9645\u63A5\u6536 ${r(n.input)}`;case"invalid_value":return n.values.length===1?`\u65E0\u6548\u8F93\u5165\uFF1A\u671F\u671B ${L(n.values[0])}`:`\u65E0\u6548\u9009\u9879\uFF1A\u671F\u671B\u4EE5\u4E0B\u4E4B\u4E00 ${C(n.values,"|")}`;case"too_big":{let i=n.inclusive?"<=":"<",s=e(n.origin);return s?`\u6570\u503C\u8FC7\u5927\uFF1A\u671F\u671B ${n.origin??"\u503C"} ${i}${n.maximum.toString()} ${s.unit??"\u4E2A\u5143\u7D20"}`:`\u6570\u503C\u8FC7\u5927\uFF1A\u671F\u671B ${n.origin??"\u503C"} ${i}${n.maximum.toString()}`}case"too_small":{let i=n.inclusive?">=":">",s=e(n.origin);return s?`\u6570\u503C\u8FC7\u5C0F\uFF1A\u671F\u671B ${n.origin} ${i}${n.minimum.toString()} ${s.unit}`:`\u6570\u503C\u8FC7\u5C0F\uFF1A\u671F\u671B ${n.origin} ${i}${n.minimum.toString()}`}case"invalid_format":{let i=n;return i.format==="starts_with"?`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u4EE5 "${i.prefix}" \u5F00\u5934`:i.format==="ends_with"?`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u4EE5 "${i.suffix}" \u7ED3\u5C3E`:i.format==="includes"?`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u5305\u542B "${i.includes}"`:i.format==="regex"?`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u6EE1\u8DB3\u6B63\u5219\u8868\u8FBE\u5F0F ${i.pattern}`:`\u65E0\u6548${o[i.format]??n.format}`}case"not_multiple_of":return`\u65E0\u6548\u6570\u5B57\uFF1A\u5FC5\u987B\u662F ${n.divisor} \u7684\u500D\u6570`;case"unrecognized_keys":return`\u51FA\u73B0\u672A\u77E5\u7684\u952E(key): ${C(n.keys,", ")}`;case"invalid_key":return`${n.origin} \u4E2D\u7684\u952E(key)\u65E0\u6548`;case"invalid_union":return"\u65E0\u6548\u8F93\u5165";case"invalid_element":return`${n.origin} \u4E2D\u5305\u542B\u65E0\u6548\u503C(value)`;default:return"\u65E0\u6548\u8F93\u5165"}}}});function f$(){return{localeError:EZ()}}var EZ,m$=E(()=>{se();EZ=()=>{let t={string:{unit:"\u5B57\u5143",verb:"\u64C1\u6709"},file:{unit:"\u4F4D\u5143\u7D44",verb:"\u64C1\u6709"},array:{unit:"\u9805\u76EE",verb:"\u64C1\u6709"},set:{unit:"\u9805\u76EE",verb:"\u64C1\u6709"}};function e(n){return t[n]??null}let r=n=>{let i=typeof n;switch(i){case"number":return Number.isNaN(n)?"NaN":"number";case"object":{if(Array.isArray(n))return"array";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return i},o={regex:"\u8F38\u5165",email:"\u90F5\u4EF6\u5730\u5740",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u65E5\u671F\u6642\u9593",date:"ISO \u65E5\u671F",time:"ISO \u6642\u9593",duration:"ISO \u671F\u9593",ipv4:"IPv4 \u4F4D\u5740",ipv6:"IPv6 \u4F4D\u5740",cidrv4:"IPv4 \u7BC4\u570D",cidrv6:"IPv6 \u7BC4\u570D",base64:"base64 \u7DE8\u78BC\u5B57\u4E32",base64url:"base64url \u7DE8\u78BC\u5B57\u4E32",json_string:"JSON \u5B57\u4E32",e164:"E.164 \u6578\u503C",jwt:"JWT",template_literal:"\u8F38\u5165"};return n=>{switch(n.code){case"invalid_type":return`\u7121\u6548\u7684\u8F38\u5165\u503C\uFF1A\u9810\u671F\u70BA ${n.expected}\uFF0C\u4F46\u6536\u5230 ${r(n.input)}`;case"invalid_value":return n.values.length===1?`\u7121\u6548\u7684\u8F38\u5165\u503C\uFF1A\u9810\u671F\u70BA ${L(n.values[0])}`:`\u7121\u6548\u7684\u9078\u9805\uFF1A\u9810\u671F\u70BA\u4EE5\u4E0B\u5176\u4E2D\u4E4B\u4E00 ${C(n.values,"|")}`;case"too_big":{let i=n.inclusive?"<=":"<",s=e(n.origin);return s?`\u6578\u503C\u904E\u5927\uFF1A\u9810\u671F ${n.origin??"\u503C"} \u61C9\u70BA ${i}${n.maximum.toString()} ${s.unit??"\u500B\u5143\u7D20"}`:`\u6578\u503C\u904E\u5927\uFF1A\u9810\u671F ${n.origin??"\u503C"} \u61C9\u70BA ${i}${n.maximum.toString()}`}case"too_small":{let i=n.inclusive?">=":">",s=e(n.origin);return s?`\u6578\u503C\u904E\u5C0F\uFF1A\u9810\u671F ${n.origin} \u61C9\u70BA ${i}${n.minimum.toString()} ${s.unit}`:`\u6578\u503C\u904E\u5C0F\uFF1A\u9810\u671F ${n.origin} \u61C9\u70BA ${i}${n.minimum.toString()}`}case"invalid_format":{let i=n;return i.format==="starts_with"?`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u4EE5 "${i.prefix}" \u958B\u982D`:i.format==="ends_with"?`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u4EE5 "${i.suffix}" \u7D50\u5C3E`:i.format==="includes"?`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u5305\u542B "${i.includes}"`:i.format==="regex"?`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u7B26\u5408\u683C\u5F0F ${i.pattern}`:`\u7121\u6548\u7684 ${o[i.format]??n.format}`}case"not_multiple_of":return`\u7121\u6548\u7684\u6578\u5B57\uFF1A\u5FC5\u9808\u70BA ${n.divisor} \u7684\u500D\u6578`;case"unrecognized_keys":return`\u7121\u6CD5\u8B58\u5225\u7684\u9375\u503C${n.keys.length>1?"\u5011":""}\uFF1A${C(n.keys,"\u3001")}`;case"invalid_key":return`${n.origin} \u4E2D\u6709\u7121\u6548\u7684\u9375\u503C`;case"invalid_union":return"\u7121\u6548\u7684\u8F38\u5165\u503C";case"invalid_element":return`${n.origin} \u4E2D\u6709\u7121\u6548\u7684\u503C`;default:return"\u7121\u6548\u7684\u8F38\u5165\u503C"}}}});function h$(){return{localeError:kZ()}}var kZ,g$=E(()=>{se();kZ=()=>{let t={string:{unit:"\xE0mi",verb:"n\xED"},file:{unit:"bytes",verb:"n\xED"},array:{unit:"nkan",verb:"n\xED"},set:{unit:"nkan",verb:"n\xED"}};function e(n){return t[n]??null}let r=n=>{let i=typeof n;switch(i){case"number":return Number.isNaN(n)?"NaN":"n\u1ECD\u0301mb\xE0";case"object":{if(Array.isArray(n))return"akop\u1ECD";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return i},o={regex:"\u1EB9\u0300r\u1ECD \xECb\xE1w\u1ECDl\xE9",email:"\xE0d\xEDr\u1EB9\u0301s\xEC \xECm\u1EB9\u0301l\xEC",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\xE0k\xF3k\xF2 ISO",date:"\u1ECDj\u1ECD\u0301 ISO",time:"\xE0k\xF3k\xF2 ISO",duration:"\xE0k\xF3k\xF2 t\xF3 p\xE9 ISO",ipv4:"\xE0d\xEDr\u1EB9\u0301s\xEC IPv4",ipv6:"\xE0d\xEDr\u1EB9\u0301s\xEC IPv6",cidrv4:"\xE0gb\xE8gb\xE8 IPv4",cidrv6:"\xE0gb\xE8gb\xE8 IPv6",base64:"\u1ECD\u0300r\u1ECD\u0300 t\xED a k\u1ECD\u0301 n\xED base64",base64url:"\u1ECD\u0300r\u1ECD\u0300 base64url",json_string:"\u1ECD\u0300r\u1ECD\u0300 JSON",e164:"n\u1ECD\u0301mb\xE0 E.164",jwt:"JWT",template_literal:"\u1EB9\u0300r\u1ECD \xECb\xE1w\u1ECDl\xE9"};return n=>{switch(n.code){case"invalid_type":return`\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e: a n\xED l\xE1ti fi ${n.expected}, \xE0m\u1ECD\u0300 a r\xED ${r(n.input)}`;case"invalid_value":return n.values.length===1?`\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e: a n\xED l\xE1ti fi ${L(n.values[0])}`:`\xC0\u1E63\xE0y\xE0n a\u1E63\xEC\u1E63e: yan \u1ECD\u0300kan l\xE1ra ${C(n.values,"|")}`;case"too_big":{let i=n.inclusive?"<=":"<",s=e(n.origin);return s?`T\xF3 p\u1ECD\u0300 j\xF9: a n\xED l\xE1ti j\u1EB9\u0301 p\xE9 ${n.origin??"iye"} ${s.verb} ${i}${n.maximum} ${s.unit}`:`T\xF3 p\u1ECD\u0300 j\xF9: a n\xED l\xE1ti j\u1EB9\u0301 ${i}${n.maximum}`}case"too_small":{let i=n.inclusive?">=":">",s=e(n.origin);return s?`K\xE9r\xE9 ju: a n\xED l\xE1ti j\u1EB9\u0301 p\xE9 ${n.origin} ${s.verb} ${i}${n.minimum} ${s.unit}`:`K\xE9r\xE9 ju: a n\xED l\xE1ti j\u1EB9\u0301 ${i}${n.minimum}`}case"invalid_format":{let i=n;return i.format==="starts_with"?`\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 b\u1EB9\u0300r\u1EB9\u0300 p\u1EB9\u0300l\xFA "${i.prefix}"`:i.format==="ends_with"?`\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 par\xED p\u1EB9\u0300l\xFA "${i.suffix}"`:i.format==="includes"?`\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 n\xED "${i.includes}"`:i.format==="regex"?`\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 b\xE1 \xE0p\u1EB9\u1EB9r\u1EB9 mu ${i.pattern}`:`A\u1E63\xEC\u1E63e: ${o[i.format]??n.format}`}case"not_multiple_of":return`N\u1ECD\u0301mb\xE0 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 j\u1EB9\u0301 \xE8y\xE0 p\xEDp\xEDn ti ${n.divisor}`;case"unrecognized_keys":return`B\u1ECDt\xECn\xEC \xE0\xECm\u1ECD\u0300: ${C(n.keys,", ")}`;case"invalid_key":return`B\u1ECDt\xECn\xEC a\u1E63\xEC\u1E63e n\xEDn\xFA ${n.origin}`;case"invalid_union":return"\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e";case"invalid_element":return`Iye a\u1E63\xEC\u1E63e n\xEDn\xFA ${n.origin}`;default:return"\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e"}}}});var gs={};Un(gs,{ar:()=>NI,az:()=>MI,be:()=>LI,bg:()=>FI,ca:()=>WI,cs:()=>BI,da:()=>VI,de:()=>KI,en:()=>Np,eo:()=>YI,es:()=>QI,fa:()=>tT,fi:()=>nT,fr:()=>iT,frCA:()=>aT,he:()=>uT,hu:()=>dT,id:()=>fT,is:()=>hT,it:()=>yT,ja:()=>bT,ka:()=>wT,kh:()=>ST,km:()=>Dp,ko:()=>kT,lt:()=>$T,mk:()=>PT,ms:()=>AT,nl:()=>NT,no:()=>MT,ota:()=>jT,pl:()=>qT,ps:()=>UT,pt:()=>ZT,ru:()=>VT,sl:()=>KT,sv:()=>YT,ta:()=>QT,th:()=>t$,tr:()=>n$,ua:()=>i$,uk:()=>Mp,ur:()=>a$,vi:()=>u$,yo:()=>h$,zhCN:()=>d$,zhTW:()=>f$});var zp=E(()=>{DI();zI();UI();qI();ZI();HI();GI();JI();Gv();XI();eT();rT();oT();sT();cT();lT();pT();mT();gT();vT();_T();xT();ET();Kv();IT();RT();CT();OT();DT();zT();LT();FT();WT();BT();GT();JT();XT();e$();r$();o$();s$();Jv();c$();l$();p$();m$();g$()});function wc(){return new ys}var y$,jp,Lp,ys,qt,Up=E(()=>{jp=Symbol("ZodOutput"),Lp=Symbol("ZodInput"),ys=class{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...r){let o=r[0];if(this._map.set(e,o),o&&typeof o=="object"&&"id"in o){if(this._idmap.has(o.id))throw new Error(`ID ${o.id} already exists in the registry`);this._idmap.set(o.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){let r=this._map.get(e);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(e),this}get(e){let r=e._zod.parent;if(r){let o={...this.get(r)??{}};delete o.id;let n={...o,...this._map.get(e)};return Object.keys(n).length?n:void 0}return this._map.get(e)}has(e){return this._map.has(e)}};(y$=globalThis).__zod_globalRegistry??(y$.__zod_globalRegistry=wc());qt=globalThis.__zod_globalRegistry});function Fp(t,e){return new t({type:"string",...F(e)})}function qp(t,e){return new t({type:"string",coerce:!0,...F(e)})}function xc(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...F(e)})}function vs(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...F(e)})}function Sc(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...F(e)})}function Ec(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...F(e)})}function kc(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...F(e)})}function Ic(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...F(e)})}function bs(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...F(e)})}function Tc(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...F(e)})}function $c(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...F(e)})}function Rc(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...F(e)})}function Pc(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...F(e)})}function Cc(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...F(e)})}function Ac(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...F(e)})}function Oc(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...F(e)})}function Nc(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...F(e)})}function Dc(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...F(e)})}function Wp(t,e){return new t({type:"string",format:"mac",check:"string_format",abort:!1,...F(e)})}function Mc(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...F(e)})}function zc(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...F(e)})}function jc(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...F(e)})}function Lc(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...F(e)})}function Uc(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...F(e)})}function Fc(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...F(e)})}function Bp(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...F(e)})}function Hp(t,e){return new t({type:"string",format:"date",check:"string_format",...F(e)})}function Vp(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...F(e)})}function Gp(t,e){return new t({type:"string",format:"duration",check:"string_format",...F(e)})}function Kp(t,e){return new t({type:"number",checks:[],...F(e)})}function Jp(t,e){return new t({type:"number",coerce:!0,checks:[],...F(e)})}function Yp(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...F(e)})}function Xp(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"float32",...F(e)})}function Qp(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"float64",...F(e)})}function ef(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"int32",...F(e)})}function tf(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"uint32",...F(e)})}function rf(t,e){return new t({type:"boolean",...F(e)})}function nf(t,e){return new t({type:"boolean",coerce:!0,...F(e)})}function of(t,e){return new t({type:"bigint",...F(e)})}function sf(t,e){return new t({type:"bigint",coerce:!0,...F(e)})}function af(t,e){return new t({type:"bigint",check:"bigint_format",abort:!1,format:"int64",...F(e)})}function cf(t,e){return new t({type:"bigint",check:"bigint_format",abort:!1,format:"uint64",...F(e)})}function uf(t,e){return new t({type:"symbol",...F(e)})}function lf(t,e){return new t({type:"undefined",...F(e)})}function df(t,e){return new t({type:"null",...F(e)})}function pf(t){return new t({type:"any"})}function ff(t){return new t({type:"unknown"})}function mf(t,e){return new t({type:"never",...F(e)})}function hf(t,e){return new t({type:"void",...F(e)})}function gf(t,e){return new t({type:"date",...F(e)})}function yf(t,e){return new t({type:"date",coerce:!0,...F(e)})}function vf(t,e){return new t({type:"nan",...F(e)})}function mn(t,e){return new bd({check:"less_than",...F(e),value:t,inclusive:!1})}function pr(t,e){return new bd({check:"less_than",...F(e),value:t,inclusive:!0})}function hn(t,e){return new _d({check:"greater_than",...F(e),value:t,inclusive:!1})}function Wt(t,e){return new _d({check:"greater_than",...F(e),value:t,inclusive:!0})}function bf(t){return hn(0,t)}function _f(t){return mn(0,t)}function wf(t){return pr(0,t)}function xf(t){return Wt(0,t)}function bo(t,e){return new Sv({check:"multiple_of",...F(e),value:t})}function si(t,e){return new Iv({check:"max_size",...F(e),maximum:t})}function _o(t,e){return new Tv({check:"min_size",...F(e),minimum:t})}function _s(t,e){return new $v({check:"size_equals",...F(e),size:t})}function ai(t,e){return new Rv({check:"max_length",...F(e),maximum:t})}function Fn(t,e){return new Pv({check:"min_length",...F(e),minimum:t})}function ci(t,e){return new Cv({check:"length_equals",...F(e),length:t})}function ws(t,e){return new Av({check:"string_format",format:"regex",...F(e),pattern:t})}function xs(t){return new Ov({check:"string_format",format:"lowercase",...F(t)})}function Ss(t){return new Nv({check:"string_format",format:"uppercase",...F(t)})}function Es(t,e){return new Dv({check:"string_format",format:"includes",...F(e),includes:t})}function ks(t,e){return new Mv({check:"string_format",format:"starts_with",...F(e),prefix:t})}function Is(t,e){return new zv({check:"string_format",format:"ends_with",...F(e),suffix:t})}function Sf(t,e,r){return new jv({check:"property",property:t,schema:e,...F(r)})}function Ts(t,e){return new Lv({check:"mime_type",mime:t,...F(e)})}function Jr(t){return new Uv({check:"overwrite",tx:t})}function $s(t){return Jr(e=>e.normalize(t))}function Rs(){return Jr(t=>t.trim())}function Ps(){return Jr(t=>t.toLowerCase())}function Cs(){return Jr(t=>t.toUpperCase())}function qc(){return Jr(t=>Ly(t))}function Yv(t,e,r){return new t({type:"array",element:e,...F(r)})}function TZ(t,e,r){return new t({type:"union",options:e,...F(r)})}function $Z(t,e,r,o){return new t({type:"union",options:r,discriminator:e,...F(o)})}function RZ(t,e,r){return new t({type:"intersection",left:e,right:r})}function PZ(t,e,r,o){let n=r instanceof fe,i=n?o:r,s=n?r:null;return new t({type:"tuple",items:e,rest:s,...F(i)})}function CZ(t,e,r,o){return new t({type:"record",keyType:e,valueType:r,...F(o)})}function AZ(t,e,r,o){return new t({type:"map",keyType:e,valueType:r,...F(o)})}function OZ(t,e,r){return new t({type:"set",valueType:e,...F(r)})}function NZ(t,e,r){let o=Array.isArray(e)?Object.fromEntries(e.map(n=>[n,n])):e;return new t({type:"enum",entries:o,...F(r)})}function DZ(t,e,r){return new t({type:"enum",entries:e,...F(r)})}function MZ(t,e,r){return new t({type:"literal",values:Array.isArray(e)?e:[e],...F(r)})}function Ef(t,e){return new t({type:"file",...F(e)})}function zZ(t,e){return new t({type:"transform",transform:e})}function jZ(t,e){return new t({type:"optional",innerType:e})}function LZ(t,e){return new t({type:"nullable",innerType:e})}function UZ(t,e,r){return new t({type:"default",innerType:e,get defaultValue(){return typeof r=="function"?r():Fy(r)}})}function FZ(t,e,r){return new t({type:"nonoptional",innerType:e,...F(r)})}function qZ(t,e){return new t({type:"success",innerType:e})}function WZ(t,e,r){return new t({type:"catch",innerType:e,catchValue:typeof r=="function"?r:()=>r})}function ZZ(t,e,r){return new t({type:"pipe",in:e,out:r})}function BZ(t,e){return new t({type:"readonly",innerType:e})}function HZ(t,e,r){return new t({type:"template_literal",parts:e,...F(r)})}function VZ(t,e){return new t({type:"lazy",getter:e})}function GZ(t,e){return new t({type:"promise",innerType:e})}function kf(t,e,r){let o=F(r);return o.abort??(o.abort=!0),new t({type:"custom",check:"custom",fn:e,...o})}function If(t,e,r){return new t({type:"custom",check:"custom",fn:e,...F(r)})}function Tf(t){let e=v$(r=>(r.addIssue=o=>{if(typeof o=="string")r.issues.push(ss(o,r.value,e._zod.def));else{let n=o;n.fatal&&(n.continue=!1),n.code??(n.code="custom"),n.input??(n.input=r.value),n.inst??(n.inst=e),n.continue??(n.continue=!e._zod.def.abort),r.issues.push(ss(n))}},t(r.value,r)));return e}function v$(t,e){let r=new Ve({check:"custom",...F(e)});return r._zod.check=t,r}function $f(t){let e=new Ve({check:"describe"});return e._zod.onattach=[r=>{let o=qt.get(r)??{};qt.add(r,{...o,description:t})}],e._zod.check=()=>{},e}function Rf(t){let e=new Ve({check:"meta"});return e._zod.onattach=[r=>{let o=qt.get(r)??{};qt.add(r,{...o,...t})}],e._zod.check=()=>{},e}function Pf(t,e){let r=F(e),o=r.truthy??["true","1","yes","on","y","enabled"],n=r.falsy??["false","0","no","off","n","disabled"];r.case!=="sensitive"&&(o=o.map(v=>typeof v=="string"?v.toLowerCase():v),n=n.map(v=>typeof v=="string"?v.toLowerCase():v));let i=new Set(o),s=new Set(n),a=t.Codec??hs,c=t.Boolean??ms,u=t.String??vo,l=new u({type:"string",error:r.error}),p=new c({type:"boolean",error:r.error}),g=new a({type:"pipe",in:l,out:p,transform:(v,h)=>{let b=v;return r.case!=="sensitive"&&(b=b.toLowerCase()),i.has(b)?!0:s.has(b)?!1:(h.issues.push({code:"invalid_value",expected:"stringbool",values:[...i,...s],input:h.value,inst:g,continue:!1}),{})},reverseTransform:(v,h)=>v===!0?o[0]||"true":n[0]||"false",error:r.error});return g}function ui(t,e,r,o={}){let n=F(o),i={...F(o),check:"string_format",type:"string",format:e,fn:typeof r=="function"?r:a=>r.test(a),...n};return r instanceof RegExp&&(i.pattern=r),new t(i)}var Zp,b$=E(()=>{wd();Up();Vv();se();Zp={Any:null,Minute:-1,Second:0,Millisecond:3,Microsecond:6}});function As(t,e){if(t instanceof ys){let o=new Wc(e),n={};for(let a of t._idmap.entries()){let[c,u]=a;o.process(u)}let i={},s={registry:t,uri:e?.uri,defs:n};for(let a of t._idmap.entries()){let[c,u]=a;i[c]=o.emit(u,{...e,external:s})}if(Object.keys(n).length>0){let a=o.target==="draft-2020-12"?"$defs":"definitions";i.__shared={[a]:n}}return{schemas:i}}let r=new Wc(e);return r.process(t),r.emit(t,e)}function Xt(t,e){let r=e??{seen:new Set};if(r.seen.has(t))return!1;r.seen.add(t);let o=t._zod.def;if(o.type==="transform")return!0;if(o.type==="array")return Xt(o.element,r);if(o.type==="set")return Xt(o.valueType,r);if(o.type==="lazy")return Xt(o.getter(),r);if(o.type==="promise"||o.type==="optional"||o.type==="nonoptional"||o.type==="nullable"||o.type==="readonly"||o.type==="default"||o.type==="prefault")return Xt(o.innerType,r);if(o.type==="intersection")return Xt(o.left,r)||Xt(o.right,r);if(o.type==="record"||o.type==="map")return Xt(o.keyType,r)||Xt(o.valueType,r);if(o.type==="pipe")return Xt(o.in,r)||Xt(o.out,r);if(o.type==="object"){for(let n in o.shape)if(Xt(o.shape[n],r))return!0;return!1}if(o.type==="union"){for(let n of o.options)if(Xt(n,r))return!0;return!1}if(o.type==="tuple"){for(let n of o.items)if(Xt(n,r))return!0;return!!(o.rest&&Xt(o.rest,r))}return!1}var Wc,_$=E(()=>{Up();se();Wc=class{constructor(e){this.counter=0,this.metadataRegistry=e?.metadata??qt,this.target=e?.target??"draft-2020-12",this.unrepresentable=e?.unrepresentable??"throw",this.override=e?.override??(()=>{}),this.io=e?.io??"output",this.seen=new Map}process(e,r={path:[],schemaPath:[]}){var o;let n=e._zod.def,i={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},s=this.seen.get(e);if(s)return s.count++,r.schemaPath.includes(e)&&(s.cycle=r.path),s.schema;let a={schema:{},count:1,cycle:void 0,path:r.path};this.seen.set(e,a);let c=e._zod.toJSONSchema?.();if(c)a.schema=c;else{let p={...r,schemaPath:[...r.schemaPath,e],path:r.path},g=e._zod.parent;if(g)a.ref=g,this.process(g,p),this.seen.get(g).isParent=!0;else{let v=a.schema;switch(n.type){case"string":{let h=v;h.type="string";let{minimum:b,maximum:_,format:w,patterns:T,contentEncoding:P}=e._zod.bag;if(typeof b=="number"&&(h.minLength=b),typeof _=="number"&&(h.maxLength=_),w&&(h.format=i[w]??w,h.format===""&&delete h.format),P&&(h.contentEncoding=P),T&&T.size>0){let D=[...T];D.length===1?h.pattern=D[0].source:D.length>1&&(a.schema.allOf=[...D.map(q=>({...this.target==="draft-7"||this.target==="draft-4"||this.target==="openapi-3.0"?{type:"string"}:{},pattern:q.source}))])}break}case"number":{let h=v,{minimum:b,maximum:_,format:w,multipleOf:T,exclusiveMaximum:P,exclusiveMinimum:D}=e._zod.bag;typeof w=="string"&&w.includes("int")?h.type="integer":h.type="number",typeof D=="number"&&(this.target==="draft-4"||this.target==="openapi-3.0"?(h.minimum=D,h.exclusiveMinimum=!0):h.exclusiveMinimum=D),typeof b=="number"&&(h.minimum=b,typeof D=="number"&&this.target!=="draft-4"&&(D>=b?delete h.minimum:delete h.exclusiveMinimum)),typeof P=="number"&&(this.target==="draft-4"||this.target==="openapi-3.0"?(h.maximum=P,h.exclusiveMaximum=!0):h.exclusiveMaximum=P),typeof _=="number"&&(h.maximum=_,typeof P=="number"&&this.target!=="draft-4"&&(P<=_?delete h.maximum:delete h.exclusiveMaximum)),typeof T=="number"&&(h.multipleOf=T);break}case"boolean":{let h=v;h.type="boolean";break}case"bigint":{if(this.unrepresentable==="throw")throw new Error("BigInt cannot be represented in JSON Schema");break}case"symbol":{if(this.unrepresentable==="throw")throw new Error("Symbols cannot be represented in JSON Schema");break}case"null":{this.target==="openapi-3.0"?(v.type="string",v.nullable=!0,v.enum=[null]):v.type="null";break}case"any":break;case"unknown":break;case"undefined":{if(this.unrepresentable==="throw")throw new Error("Undefined cannot be represented in JSON Schema");break}case"void":{if(this.unrepresentable==="throw")throw new Error("Void cannot be represented in JSON Schema");break}case"never":{v.not={};break}case"date":{if(this.unrepresentable==="throw")throw new Error("Date cannot be represented in JSON Schema");break}case"array":{let h=v,{minimum:b,maximum:_}=e._zod.bag;typeof b=="number"&&(h.minItems=b),typeof _=="number"&&(h.maxItems=_),h.type="array",h.items=this.process(n.element,{...p,path:[...p.path,"items"]});break}case"object":{let h=v;h.type="object",h.properties={};let b=n.shape;for(let T in b)h.properties[T]=this.process(b[T],{...p,path:[...p.path,"properties",T]});let _=new Set(Object.keys(b)),w=new Set([..._].filter(T=>{let P=n.shape[T]._zod;return this.io==="input"?P.optin===void 0:P.optout===void 0}));w.size>0&&(h.required=Array.from(w)),n.catchall?._zod.def.type==="never"?h.additionalProperties=!1:n.catchall?n.catchall&&(h.additionalProperties=this.process(n.catchall,{...p,path:[...p.path,"additionalProperties"]})):this.io==="output"&&(h.additionalProperties=!1);break}case"union":{let h=v,b=n.discriminator!==void 0,_=n.options.map((w,T)=>this.process(w,{...p,path:[...p.path,b?"oneOf":"anyOf",T]}));b?h.oneOf=_:h.anyOf=_;break}case"intersection":{let h=v,b=this.process(n.left,{...p,path:[...p.path,"allOf",0]}),_=this.process(n.right,{...p,path:[...p.path,"allOf",1]}),w=P=>"allOf"in P&&Object.keys(P).length===1,T=[...w(b)?b.allOf:[b],...w(_)?_.allOf:[_]];h.allOf=T;break}case"tuple":{let h=v;h.type="array";let b=this.target==="draft-2020-12"?"prefixItems":"items",_=this.target==="draft-2020-12"||this.target==="openapi-3.0"?"items":"additionalItems",w=n.items.map((q,ge)=>this.process(q,{...p,path:[...p.path,b,ge]})),T=n.rest?this.process(n.rest,{...p,path:[...p.path,_,...this.target==="openapi-3.0"?[n.items.length]:[]]}):null;this.target==="draft-2020-12"?(h.prefixItems=w,T&&(h.items=T)):this.target==="openapi-3.0"?(h.items={anyOf:w},T&&h.items.anyOf.push(T),h.minItems=w.length,T||(h.maxItems=w.length)):(h.items=w,T&&(h.additionalItems=T));let{minimum:P,maximum:D}=e._zod.bag;typeof P=="number"&&(h.minItems=P),typeof D=="number"&&(h.maxItems=D);break}case"record":{let h=v;h.type="object",(this.target==="draft-7"||this.target==="draft-2020-12")&&(h.propertyNames=this.process(n.keyType,{...p,path:[...p.path,"propertyNames"]})),h.additionalProperties=this.process(n.valueType,{...p,path:[...p.path,"additionalProperties"]});break}case"map":{if(this.unrepresentable==="throw")throw new Error("Map cannot be represented in JSON Schema");break}case"set":{if(this.unrepresentable==="throw")throw new Error("Set cannot be represented in JSON Schema");break}case"enum":{let h=v,b=sc(n.entries);b.every(_=>typeof _=="number")&&(h.type="number"),b.every(_=>typeof _=="string")&&(h.type="string"),h.enum=b;break}case"literal":{let h=v,b=[];for(let _ of n.values)if(_===void 0){if(this.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof _=="bigint"){if(this.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");b.push(Number(_))}else b.push(_);if(b.length!==0)if(b.length===1){let _=b[0];h.type=_===null?"null":typeof _,this.target==="draft-4"||this.target==="openapi-3.0"?h.enum=[_]:h.const=_}else b.every(_=>typeof _=="number")&&(h.type="number"),b.every(_=>typeof _=="string")&&(h.type="string"),b.every(_=>typeof _=="boolean")&&(h.type="string"),b.every(_=>_===null)&&(h.type="null"),h.enum=b;break}case"file":{let h=v,b={type:"string",format:"binary",contentEncoding:"binary"},{minimum:_,maximum:w,mime:T}=e._zod.bag;_!==void 0&&(b.minLength=_),w!==void 0&&(b.maxLength=w),T?T.length===1?(b.contentMediaType=T[0],Object.assign(h,b)):h.anyOf=T.map(P=>({...b,contentMediaType:P})):Object.assign(h,b);break}case"transform":{if(this.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema");break}case"nullable":{let h=this.process(n.innerType,p);this.target==="openapi-3.0"?(a.ref=n.innerType,v.nullable=!0):v.anyOf=[h,{type:"null"}];break}case"nonoptional":{this.process(n.innerType,p),a.ref=n.innerType;break}case"success":{let h=v;h.type="boolean";break}case"default":{this.process(n.innerType,p),a.ref=n.innerType,v.default=JSON.parse(JSON.stringify(n.defaultValue));break}case"prefault":{this.process(n.innerType,p),a.ref=n.innerType,this.io==="input"&&(v._prefault=JSON.parse(JSON.stringify(n.defaultValue)));break}case"catch":{this.process(n.innerType,p),a.ref=n.innerType;let h;try{h=n.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}v.default=h;break}case"nan":{if(this.unrepresentable==="throw")throw new Error("NaN cannot be represented in JSON Schema");break}case"template_literal":{let h=v,b=e._zod.pattern;if(!b)throw new Error("Pattern not found in template literal");h.type="string",h.pattern=b.source;break}case"pipe":{let h=this.io==="input"?n.in._zod.def.type==="transform"?n.out:n.in:n.out;this.process(h,p),a.ref=h;break}case"readonly":{this.process(n.innerType,p),a.ref=n.innerType,v.readOnly=!0;break}case"promise":{this.process(n.innerType,p),a.ref=n.innerType;break}case"optional":{this.process(n.innerType,p),a.ref=n.innerType;break}case"lazy":{let h=e._zod.innerType;this.process(h,p),a.ref=h;break}case"custom":{if(this.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema");break}case"function":{if(this.unrepresentable==="throw")throw new Error("Function types cannot be represented in JSON Schema");break}default:}}}let u=this.metadataRegistry.get(e);return u&&Object.assign(a.schema,u),this.io==="input"&&Xt(e)&&(delete a.schema.examples,delete a.schema.default),this.io==="input"&&a.schema._prefault&&((o=a.schema).default??(o.default=a.schema._prefault)),delete a.schema._prefault,this.seen.get(e).schema}emit(e,r){let o={cycles:r?.cycles??"ref",reused:r?.reused??"inline",external:r?.external??void 0},n=this.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");let i=l=>{let p=this.target==="draft-2020-12"?"$defs":"definitions";if(o.external){let b=o.external.registry.get(l[0])?.id,_=o.external.uri??(T=>T);if(b)return{ref:_(b)};let w=l[1].defId??l[1].schema.id??`schema${this.counter++}`;return l[1].defId=w,{defId:w,ref:`${_("__shared")}#/${p}/${w}`}}if(l[1]===n)return{ref:"#"};let v=`#/${p}/`,h=l[1].schema.id??`__schema${this.counter++}`;return{defId:h,ref:v+h}},s=l=>{if(l[1].schema.$ref)return;let p=l[1],{ref:g,defId:v}=i(l);p.def={...p.schema},v&&(p.defId=v);let h=p.schema;for(let b in h)delete h[b];h.$ref=g};if(o.cycles==="throw")for(let l of this.seen.entries()){let p=l[1];if(p.cycle)throw new Error(`Cycle detected: #/${p.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(let l of this.seen.entries()){let p=l[1];if(e===l[0]){s(l);continue}if(o.external){let v=o.external.registry.get(l[0])?.id;if(e!==l[0]&&v){s(l);continue}}if(this.metadataRegistry.get(l[0])?.id){s(l);continue}if(p.cycle){s(l);continue}if(p.count>1&&o.reused==="ref"){s(l);continue}}let a=(l,p)=>{let g=this.seen.get(l),v=g.def??g.schema,h={...v};if(g.ref===null)return;let b=g.ref;if(g.ref=null,b){a(b,p);let _=this.seen.get(b).schema;_.$ref&&(p.target==="draft-7"||p.target==="draft-4"||p.target==="openapi-3.0")?(v.allOf=v.allOf??[],v.allOf.push(_)):(Object.assign(v,_),Object.assign(v,h))}g.isParent||this.override({zodSchema:l,jsonSchema:v,path:g.path??[]})};for(let l of[...this.seen.entries()].reverse())a(l[0],{target:this.target});let c={};if(this.target==="draft-2020-12"?c.$schema="https://json-schema.org/draft/2020-12/schema":this.target==="draft-7"?c.$schema="http://json-schema.org/draft-07/schema#":this.target==="draft-4"?c.$schema="http://json-schema.org/draft-04/schema#":this.target==="openapi-3.0"||console.warn(`Invalid target: ${this.target}`),o.external?.uri){let l=o.external.registry.get(e)?.id;if(!l)throw new Error("Schema is missing an `id` property");c.$id=o.external.uri(l)}Object.assign(c,n.def);let u=o.external?.defs??{};for(let l of this.seen.entries()){let p=l[1];p.def&&p.defId&&(u[p.defId]=p.def)}o.external||Object.keys(u).length>0&&(this.target==="draft-2020-12"?c.$defs=u:c.definitions=u);try{return JSON.parse(JSON.stringify(c))}catch{throw new Error("Error converting schema to JSON.")}}}});var w$={};var x$=E(()=>{});var Er={};Un(Er,{$ZodAny:()=>np,$ZodArray:()=>cp,$ZodAsyncError:()=>Kr,$ZodBase64:()=>Vd,$ZodBase64URL:()=>Gd,$ZodBigInt:()=>gc,$ZodBigIntFormat:()=>Qd,$ZodBoolean:()=>ms,$ZodCIDRv4:()=>Bd,$ZodCIDRv6:()=>Hd,$ZodCUID:()=>Od,$ZodCUID2:()=>Nd,$ZodCatch:()=>kp,$ZodCheck:()=>Ve,$ZodCheckBigIntFormat:()=>kv,$ZodCheckEndsWith:()=>zv,$ZodCheckGreaterThan:()=>_d,$ZodCheckIncludes:()=>Dv,$ZodCheckLengthEquals:()=>Cv,$ZodCheckLessThan:()=>bd,$ZodCheckLowerCase:()=>Ov,$ZodCheckMaxLength:()=>Rv,$ZodCheckMaxSize:()=>Iv,$ZodCheckMimeType:()=>Lv,$ZodCheckMinLength:()=>Pv,$ZodCheckMinSize:()=>Tv,$ZodCheckMultipleOf:()=>Sv,$ZodCheckNumberFormat:()=>Ev,$ZodCheckOverwrite:()=>Uv,$ZodCheckProperty:()=>jv,$ZodCheckRegex:()=>Av,$ZodCheckSizeEquals:()=>$v,$ZodCheckStartsWith:()=>Mv,$ZodCheckStringFormat:()=>fs,$ZodCheckUpperCase:()=>Nv,$ZodCodec:()=>hs,$ZodCustom:()=>Op,$ZodCustomStringFormat:()=>Yd,$ZodDate:()=>ap,$ZodDefault:()=>wp,$ZodDiscriminatedUnion:()=>lp,$ZodE164:()=>Kd,$ZodEmail:()=>Rd,$ZodEmoji:()=>Cd,$ZodEncodeError:()=>uo,$ZodEnum:()=>hp,$ZodError:()=>dc,$ZodFile:()=>yp,$ZodFunction:()=>Pp,$ZodGUID:()=>Td,$ZodIPv4:()=>qd,$ZodIPv6:()=>Wd,$ZodISODate:()=>Ld,$ZodISODateTime:()=>jd,$ZodISODuration:()=>Fd,$ZodISOTime:()=>Ud,$ZodIntersection:()=>dp,$ZodJWT:()=>Jd,$ZodKSUID:()=>zd,$ZodLazy:()=>Ap,$ZodLiteral:()=>gp,$ZodMAC:()=>Zd,$ZodMap:()=>fp,$ZodNaN:()=>Ip,$ZodNanoID:()=>Ad,$ZodNever:()=>ip,$ZodNonOptional:()=>Sp,$ZodNull:()=>rp,$ZodNullable:()=>_p,$ZodNumber:()=>hc,$ZodNumberFormat:()=>Xd,$ZodObject:()=>up,$ZodObjectJIT:()=>Hv,$ZodOptional:()=>bp,$ZodPipe:()=>Tp,$ZodPrefault:()=>xp,$ZodPromise:()=>Cp,$ZodReadonly:()=>$p,$ZodRealError:()=>lr,$ZodRecord:()=>pp,$ZodRegistry:()=>ys,$ZodSet:()=>mp,$ZodString:()=>vo,$ZodStringFormat:()=>Be,$ZodSuccess:()=>Ep,$ZodSymbol:()=>ep,$ZodTemplateLiteral:()=>Rp,$ZodTransform:()=>vp,$ZodTuple:()=>vc,$ZodType:()=>fe,$ZodULID:()=>Dd,$ZodURL:()=>Pd,$ZodUUID:()=>$d,$ZodUndefined:()=>tp,$ZodUnion:()=>yc,$ZodUnknown:()=>op,$ZodVoid:()=>sp,$ZodXID:()=>Md,$brand:()=>oc,$constructor:()=>k,$input:()=>Lp,$output:()=>jp,Doc:()=>mc,JSONSchema:()=>w$,JSONSchemaGenerator:()=>Wc,NEVER:()=>od,TimePrecision:()=>Zp,_any:()=>pf,_array:()=>Yv,_base64:()=>jc,_base64url:()=>Lc,_bigint:()=>of,_boolean:()=>rf,_catch:()=>WZ,_check:()=>v$,_cidrv4:()=>Mc,_cidrv6:()=>zc,_coercedBigint:()=>sf,_coercedBoolean:()=>nf,_coercedDate:()=>yf,_coercedNumber:()=>Jp,_coercedString:()=>qp,_cuid:()=>Rc,_cuid2:()=>Pc,_custom:()=>kf,_date:()=>gf,_decode:()=>ld,_decodeAsync:()=>pd,_default:()=>UZ,_discriminatedUnion:()=>$Z,_e164:()=>Uc,_email:()=>xc,_emoji:()=>Tc,_encode:()=>ud,_encodeAsync:()=>dd,_endsWith:()=>Is,_enum:()=>NZ,_file:()=>Ef,_float32:()=>Xp,_float64:()=>Qp,_gt:()=>hn,_gte:()=>Wt,_guid:()=>vs,_includes:()=>Es,_int:()=>Yp,_int32:()=>ef,_int64:()=>af,_intersection:()=>RZ,_ipv4:()=>Nc,_ipv6:()=>Dc,_isoDate:()=>Hp,_isoDateTime:()=>Bp,_isoDuration:()=>Gp,_isoTime:()=>Vp,_jwt:()=>Fc,_ksuid:()=>Oc,_lazy:()=>VZ,_length:()=>ci,_literal:()=>MZ,_lowercase:()=>xs,_lt:()=>mn,_lte:()=>pr,_mac:()=>Wp,_map:()=>AZ,_max:()=>pr,_maxLength:()=>ai,_maxSize:()=>si,_mime:()=>Ts,_min:()=>Wt,_minLength:()=>Fn,_minSize:()=>_o,_multipleOf:()=>bo,_nan:()=>vf,_nanoid:()=>$c,_nativeEnum:()=>DZ,_negative:()=>_f,_never:()=>mf,_nonnegative:()=>xf,_nonoptional:()=>FZ,_nonpositive:()=>wf,_normalize:()=>$s,_null:()=>df,_nullable:()=>LZ,_number:()=>Kp,_optional:()=>jZ,_overwrite:()=>Jr,_parse:()=>us,_parseAsync:()=>ls,_pipe:()=>ZZ,_positive:()=>bf,_promise:()=>GZ,_property:()=>Sf,_readonly:()=>BZ,_record:()=>CZ,_refine:()=>If,_regex:()=>ws,_safeDecode:()=>md,_safeDecodeAsync:()=>gd,_safeEncode:()=>fd,_safeEncodeAsync:()=>hd,_safeParse:()=>ds,_safeParseAsync:()=>ps,_set:()=>OZ,_size:()=>_s,_slugify:()=>qc,_startsWith:()=>ks,_string:()=>Fp,_stringFormat:()=>ui,_stringbool:()=>Pf,_success:()=>qZ,_superRefine:()=>Tf,_symbol:()=>uf,_templateLiteral:()=>HZ,_toLowerCase:()=>Ps,_toUpperCase:()=>Cs,_transform:()=>zZ,_trim:()=>Rs,_tuple:()=>PZ,_uint32:()=>tf,_uint64:()=>cf,_ulid:()=>Cc,_undefined:()=>lf,_union:()=>TZ,_unknown:()=>ff,_uppercase:()=>Ss,_url:()=>bs,_uuid:()=>Sc,_uuidv4:()=>Ec,_uuidv6:()=>kc,_uuidv7:()=>Ic,_void:()=>hf,_xid:()=>Ac,clone:()=>Ot,config:()=>dt,decode:()=>aI,decodeAsync:()=>uI,describe:()=>$f,encode:()=>sI,encodeAsync:()=>cI,flattenError:()=>as,formatError:()=>cs,globalConfig:()=>nc,globalRegistry:()=>qt,isValidBase64:()=>Bv,isValidBase64URL:()=>PI,isValidJWT:()=>CI,locales:()=>gs,meta:()=>Rf,parse:()=>ni,parseAsync:()=>oi,prettifyError:()=>cd,regexes:()=>dr,registry:()=>wc,safeDecode:()=>dI,safeDecodeAsync:()=>fI,safeEncode:()=>lI,safeEncodeAsync:()=>pI,safeParse:()=>go,safeParseAsync:()=>yo,toDotPath:()=>iI,toJSONSchema:()=>As,treeifyError:()=>ad,util:()=>z,version:()=>qv});var pt=E(()=>{ns();Vy();Hy();Vv();wd();Wv();se();vd();zp();Up();Fv();b$();_$();x$()});var Xv=E(()=>{pt()});var Os={};Un(Os,{ZodISODate:()=>Af,ZodISODateTime:()=>Cf,ZodISODuration:()=>Nf,ZodISOTime:()=>Of,date:()=>eb,datetime:()=>Qv,duration:()=>rb,time:()=>tb});function Qv(t){return Bp(Cf,t)}function eb(t){return Hp(Af,t)}function tb(t){return Vp(Of,t)}function rb(t){return Gp(Nf,t)}var Cf,Af,Of,Nf,Df=E(()=>{pt();Mf();Cf=k("ZodISODateTime",(t,e)=>{jd.init(t,e),Ye.init(t,e)});Af=k("ZodISODate",(t,e)=>{Ld.init(t,e),Ye.init(t,e)});Of=k("ZodISOTime",(t,e)=>{Ud.init(t,e),Ye.init(t,e)});Nf=k("ZodISODuration",(t,e)=>{Fd.init(t,e),Ye.init(t,e)})});var E$,JZ,fr,nb=E(()=>{pt();pt();se();E$=(t,e)=>{dc.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:r=>cs(t,r)},flatten:{value:r=>as(t,r)},addIssue:{value:r=>{t.issues.push(r),t.message=JSON.stringify(t.issues,os,2)}},addIssues:{value:r=>{t.issues.push(...r),t.message=JSON.stringify(t.issues,os,2)}},isEmpty:{get(){return t.issues.length===0}}})},JZ=k("ZodError",E$),fr=k("ZodError",E$,{Parent:Error})});var ob,ib,sb,ab,cb,ub,lb,db,pb,fb,mb,hb,gb=E(()=>{pt();nb();ob=us(fr),ib=ls(fr),sb=ds(fr),ab=ps(fr),cb=ud(fr),ub=ld(fr),lb=dd(fr),db=pd(fr),pb=fd(fr),fb=md(fr),mb=hd(fr),hb=gd(fr)});function A(t){return Fp(Bc,t)}function XZ(t){return xc(bb,t)}function QZ(t){return vs(zf,t)}function eB(t){return Sc(qn,t)}function tB(t){return Ec(qn,t)}function rB(t){return kc(qn,t)}function nB(t){return Ic(qn,t)}function oB(t){return bs(Uf,t)}function iB(t){return bs(Uf,{protocol:/^https?$/,hostname:dr.domain,...z.normalizeParams(t)})}function sB(t){return Tc(_b,t)}function aB(t){return $c(wb,t)}function cB(t){return Rc(xb,t)}function uB(t){return Pc(Sb,t)}function lB(t){return Cc(Eb,t)}function dB(t){return Ac(kb,t)}function pB(t){return Oc(Ib,t)}function fB(t){return Nc(Tb,t)}function mB(t){return Wp(k$,t)}function hB(t){return Dc($b,t)}function gB(t){return Mc(Rb,t)}function yB(t){return zc(Pb,t)}function vB(t){return jc(Cb,t)}function bB(t){return Lc(Ab,t)}function _B(t){return Uc(Ob,t)}function wB(t){return Fc(Nb,t)}function xB(t,e,r={}){return ui(Hc,t,e,r)}function SB(t){return ui(Hc,"hostname",dr.hostname,t)}function EB(t){return ui(Hc,"hex",dr.hex,t)}function kB(t,e){let r=e?.enc??"hex",o=`${t}_${r}`,n=dr[o];if(!n)throw new Error(`Unrecognized hash format: ${o}`);return ui(Hc,o,n,e)}function He(t){return Kp(Vc,t)}function yb(t){return Yp(Ns,t)}function IB(t){return Xp(Ns,t)}function TB(t){return Qp(Ns,t)}function $B(t){return ef(Ns,t)}function RB(t){return tf(Ns,t)}function It(t){return rf(Gc,t)}function PB(t){return of(Kc,t)}function CB(t){return af(Db,t)}function AB(t){return cf(Db,t)}function OB(t){return uf(I$,t)}function NB(t){return lf(T$,t)}function Jc(t){return df($$,t)}function DB(){return pf(R$)}function lt(){return ff(P$)}function Mb(t){return mf(C$,t)}function MB(t){return hf(A$,t)}function zB(t){return gf(Ff,t)}function Re(t,e){return Yv(O$,t,e)}function jB(t){let e=t._zod.def.shape;return Tt(Object.keys(e))}function Z(t,e){let r={type:"object",shape:t??{},...z.normalizeParams(e)};return new qf(r)}function LB(t,e){return new qf({type:"object",shape:t,catchall:Mb(),...z.normalizeParams(e)})}function kr(t,e){return new qf({type:"object",shape:t,catchall:lt(),...z.normalizeParams(e)})}function Xe(t,e){return new zb({type:"union",options:t,...z.normalizeParams(e)})}function Wf(t,e,r){return new N$({type:"union",options:e,discriminator:t,...z.normalizeParams(r)})}function Yc(t,e){return new D$({type:"intersection",left:t,right:e})}function z$(t,e,r){let o=e instanceof fe,n=o?r:e,i=o?e:null;return new M$({type:"tuple",items:t,rest:i,...z.normalizeParams(n)})}function ft(t,e,r){return new jb({type:"record",keyType:t,valueType:e,...z.normalizeParams(r)})}function UB(t,e,r){let o=Ot(t);return o._zod.values=void 0,new jb({type:"record",keyType:o,valueType:e,...z.normalizeParams(r)})}function FB(t,e,r){return new j$({type:"map",keyType:t,valueType:e,...z.normalizeParams(r)})}function qB(t,e){return new L$({type:"set",valueType:t,...z.normalizeParams(e)})}function Tt(t,e){let r=Array.isArray(t)?Object.fromEntries(t.map(o=>[o,o])):t;return new Zc({type:"enum",entries:r,...z.normalizeParams(e)})}function WB(t,e){return new Zc({type:"enum",entries:t,...z.normalizeParams(e)})}function te(t,e){return new U$({type:"literal",values:Array.isArray(t)?t:[t],...z.normalizeParams(e)})}function ZB(t){return Ef(F$,t)}function Lb(t){return new q$({type:"transform",transform:t})}function ee(t){return new Ub({type:"optional",innerType:t})}function jf(t){return new W$({type:"nullable",innerType:t})}function BB(t){return ee(jf(t))}function B$(t,e){return new Z$({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():z.shallowClone(e)}})}function V$(t,e){return new H$({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():z.shallowClone(e)}})}function G$(t,e){return new Fb({type:"nonoptional",innerType:t,...z.normalizeParams(e)})}function HB(t){return new K$({type:"success",innerType:t})}function Y$(t,e){return new J$({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}function VB(t){return vf(X$,t)}function Lf(t,e){return new qb({type:"pipe",in:t,out:e})}function GB(t,e,r){return new Wb({type:"pipe",in:t,out:e,transform:r.decode,reverseTransform:r.encode})}function eR(t){return new Q$({type:"readonly",innerType:t})}function KB(t,e){return new tR({type:"template_literal",parts:t,...z.normalizeParams(e)})}function nR(t){return new rR({type:"lazy",getter:t})}function JB(t){return new oR({type:"promise",innerType:t})}function YB(t){return new iR({type:"function",input:Array.isArray(t?.input)?z$(t?.input):t?.input??Re(lt()),output:t?.output??lt()})}function XB(t){let e=new Ve({check:"custom"});return e._zod.check=t,e}function Zb(t,e){return kf(Zf,t??(()=>!0),e)}function sR(t,e={}){return If(Zf,t,e)}function aR(t){return Tf(t)}function t6(t,e={error:`Input not instance of ${t.name}`}){let r=new Zf({type:"custom",check:"custom",fn:o=>o instanceof t,abort:!0,...z.normalizeParams(e)});return r._zod.bag.Class=t,r}function n6(t){let e=nR(()=>Xe([A(t),He(),It(),Jc(),Re(e),ft(A(),e)]));return e}function Bf(t,e){return Lf(Lb(t),e)}var Ee,vb,Bc,Ye,bb,zf,qn,Uf,_b,wb,xb,Sb,Eb,kb,Ib,Tb,k$,$b,Rb,Pb,Cb,Ab,Ob,Nb,Hc,Vc,Ns,Gc,Kc,Db,I$,T$,$$,R$,P$,C$,A$,Ff,O$,qf,zb,N$,D$,M$,jb,j$,L$,Zc,U$,F$,q$,Ub,W$,Z$,H$,Fb,K$,J$,X$,qb,Wb,Q$,tR,rR,oR,iR,Zf,QB,e6,r6,Mf=E(()=>{pt();pt();Xv();Df();gb();Ee=k("ZodType",(t,e)=>(fe.init(t,e),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...r)=>t.clone(z.mergeDefs(e,{checks:[...e.checks??[],...r.map(o=>typeof o=="function"?{_zod:{check:o,def:{check:"custom"},onattach:[]}}:o)]})),t.clone=(r,o)=>Ot(t,r,o),t.brand=()=>t,t.register=(r,o)=>(r.add(t,o),t),t.parse=(r,o)=>ob(t,r,o,{callee:t.parse}),t.safeParse=(r,o)=>sb(t,r,o),t.parseAsync=async(r,o)=>ib(t,r,o,{callee:t.parseAsync}),t.safeParseAsync=async(r,o)=>ab(t,r,o),t.spa=t.safeParseAsync,t.encode=(r,o)=>cb(t,r,o),t.decode=(r,o)=>ub(t,r,o),t.encodeAsync=async(r,o)=>lb(t,r,o),t.decodeAsync=async(r,o)=>db(t,r,o),t.safeEncode=(r,o)=>pb(t,r,o),t.safeDecode=(r,o)=>fb(t,r,o),t.safeEncodeAsync=async(r,o)=>mb(t,r,o),t.safeDecodeAsync=async(r,o)=>hb(t,r,o),t.refine=(r,o)=>t.check(sR(r,o)),t.superRefine=r=>t.check(aR(r)),t.overwrite=r=>t.check(Jr(r)),t.optional=()=>ee(t),t.nullable=()=>jf(t),t.nullish=()=>ee(jf(t)),t.nonoptional=r=>G$(t,r),t.array=()=>Re(t),t.or=r=>Xe([t,r]),t.and=r=>Yc(t,r),t.transform=r=>Lf(t,Lb(r)),t.default=r=>B$(t,r),t.prefault=r=>V$(t,r),t.catch=r=>Y$(t,r),t.pipe=r=>Lf(t,r),t.readonly=()=>eR(t),t.describe=r=>{let o=t.clone();return qt.add(o,{description:r}),o},Object.defineProperty(t,"description",{get(){return qt.get(t)?.description},configurable:!0}),t.meta=(...r)=>{if(r.length===0)return qt.get(t);let o=t.clone();return qt.add(o,r[0]),o},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t)),vb=k("_ZodString",(t,e)=>{vo.init(t,e),Ee.init(t,e);let r=t._zod.bag;t.format=r.format??null,t.minLength=r.minimum??null,t.maxLength=r.maximum??null,t.regex=(...o)=>t.check(ws(...o)),t.includes=(...o)=>t.check(Es(...o)),t.startsWith=(...o)=>t.check(ks(...o)),t.endsWith=(...o)=>t.check(Is(...o)),t.min=(...o)=>t.check(Fn(...o)),t.max=(...o)=>t.check(ai(...o)),t.length=(...o)=>t.check(ci(...o)),t.nonempty=(...o)=>t.check(Fn(1,...o)),t.lowercase=o=>t.check(xs(o)),t.uppercase=o=>t.check(Ss(o)),t.trim=()=>t.check(Rs()),t.normalize=(...o)=>t.check($s(...o)),t.toLowerCase=()=>t.check(Ps()),t.toUpperCase=()=>t.check(Cs()),t.slugify=()=>t.check(qc())}),Bc=k("ZodString",(t,e)=>{vo.init(t,e),vb.init(t,e),t.email=r=>t.check(xc(bb,r)),t.url=r=>t.check(bs(Uf,r)),t.jwt=r=>t.check(Fc(Nb,r)),t.emoji=r=>t.check(Tc(_b,r)),t.guid=r=>t.check(vs(zf,r)),t.uuid=r=>t.check(Sc(qn,r)),t.uuidv4=r=>t.check(Ec(qn,r)),t.uuidv6=r=>t.check(kc(qn,r)),t.uuidv7=r=>t.check(Ic(qn,r)),t.nanoid=r=>t.check($c(wb,r)),t.guid=r=>t.check(vs(zf,r)),t.cuid=r=>t.check(Rc(xb,r)),t.cuid2=r=>t.check(Pc(Sb,r)),t.ulid=r=>t.check(Cc(Eb,r)),t.base64=r=>t.check(jc(Cb,r)),t.base64url=r=>t.check(Lc(Ab,r)),t.xid=r=>t.check(Ac(kb,r)),t.ksuid=r=>t.check(Oc(Ib,r)),t.ipv4=r=>t.check(Nc(Tb,r)),t.ipv6=r=>t.check(Dc($b,r)),t.cidrv4=r=>t.check(Mc(Rb,r)),t.cidrv6=r=>t.check(zc(Pb,r)),t.e164=r=>t.check(Uc(Ob,r)),t.datetime=r=>t.check(Qv(r)),t.date=r=>t.check(eb(r)),t.time=r=>t.check(tb(r)),t.duration=r=>t.check(rb(r))});Ye=k("ZodStringFormat",(t,e)=>{Be.init(t,e),vb.init(t,e)}),bb=k("ZodEmail",(t,e)=>{Rd.init(t,e),Ye.init(t,e)});zf=k("ZodGUID",(t,e)=>{Td.init(t,e),Ye.init(t,e)});qn=k("ZodUUID",(t,e)=>{$d.init(t,e),Ye.init(t,e)});Uf=k("ZodURL",(t,e)=>{Pd.init(t,e),Ye.init(t,e)});_b=k("ZodEmoji",(t,e)=>{Cd.init(t,e),Ye.init(t,e)});wb=k("ZodNanoID",(t,e)=>{Ad.init(t,e),Ye.init(t,e)});xb=k("ZodCUID",(t,e)=>{Od.init(t,e),Ye.init(t,e)});Sb=k("ZodCUID2",(t,e)=>{Nd.init(t,e),Ye.init(t,e)});Eb=k("ZodULID",(t,e)=>{Dd.init(t,e),Ye.init(t,e)});kb=k("ZodXID",(t,e)=>{Md.init(t,e),Ye.init(t,e)});Ib=k("ZodKSUID",(t,e)=>{zd.init(t,e),Ye.init(t,e)});Tb=k("ZodIPv4",(t,e)=>{qd.init(t,e),Ye.init(t,e)});k$=k("ZodMAC",(t,e)=>{Zd.init(t,e),Ye.init(t,e)});$b=k("ZodIPv6",(t,e)=>{Wd.init(t,e),Ye.init(t,e)});Rb=k("ZodCIDRv4",(t,e)=>{Bd.init(t,e),Ye.init(t,e)});Pb=k("ZodCIDRv6",(t,e)=>{Hd.init(t,e),Ye.init(t,e)});Cb=k("ZodBase64",(t,e)=>{Vd.init(t,e),Ye.init(t,e)});Ab=k("ZodBase64URL",(t,e)=>{Gd.init(t,e),Ye.init(t,e)});Ob=k("ZodE164",(t,e)=>{Kd.init(t,e),Ye.init(t,e)});Nb=k("ZodJWT",(t,e)=>{Jd.init(t,e),Ye.init(t,e)});Hc=k("ZodCustomStringFormat",(t,e)=>{Yd.init(t,e),Ye.init(t,e)});Vc=k("ZodNumber",(t,e)=>{hc.init(t,e),Ee.init(t,e),t.gt=(o,n)=>t.check(hn(o,n)),t.gte=(o,n)=>t.check(Wt(o,n)),t.min=(o,n)=>t.check(Wt(o,n)),t.lt=(o,n)=>t.check(mn(o,n)),t.lte=(o,n)=>t.check(pr(o,n)),t.max=(o,n)=>t.check(pr(o,n)),t.int=o=>t.check(yb(o)),t.safe=o=>t.check(yb(o)),t.positive=o=>t.check(hn(0,o)),t.nonnegative=o=>t.check(Wt(0,o)),t.negative=o=>t.check(mn(0,o)),t.nonpositive=o=>t.check(pr(0,o)),t.multipleOf=(o,n)=>t.check(bo(o,n)),t.step=(o,n)=>t.check(bo(o,n)),t.finite=()=>t;let r=t._zod.bag;t.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),t.isFinite=!0,t.format=r.format??null});Ns=k("ZodNumberFormat",(t,e)=>{Xd.init(t,e),Vc.init(t,e)});Gc=k("ZodBoolean",(t,e)=>{ms.init(t,e),Ee.init(t,e)});Kc=k("ZodBigInt",(t,e)=>{gc.init(t,e),Ee.init(t,e),t.gte=(o,n)=>t.check(Wt(o,n)),t.min=(o,n)=>t.check(Wt(o,n)),t.gt=(o,n)=>t.check(hn(o,n)),t.gte=(o,n)=>t.check(Wt(o,n)),t.min=(o,n)=>t.check(Wt(o,n)),t.lt=(o,n)=>t.check(mn(o,n)),t.lte=(o,n)=>t.check(pr(o,n)),t.max=(o,n)=>t.check(pr(o,n)),t.positive=o=>t.check(hn(BigInt(0),o)),t.negative=o=>t.check(mn(BigInt(0),o)),t.nonpositive=o=>t.check(pr(BigInt(0),o)),t.nonnegative=o=>t.check(Wt(BigInt(0),o)),t.multipleOf=(o,n)=>t.check(bo(o,n));let r=t._zod.bag;t.minValue=r.minimum??null,t.maxValue=r.maximum??null,t.format=r.format??null});Db=k("ZodBigIntFormat",(t,e)=>{Qd.init(t,e),Kc.init(t,e)});I$=k("ZodSymbol",(t,e)=>{ep.init(t,e),Ee.init(t,e)});T$=k("ZodUndefined",(t,e)=>{tp.init(t,e),Ee.init(t,e)});$$=k("ZodNull",(t,e)=>{rp.init(t,e),Ee.init(t,e)});R$=k("ZodAny",(t,e)=>{np.init(t,e),Ee.init(t,e)});P$=k("ZodUnknown",(t,e)=>{op.init(t,e),Ee.init(t,e)});C$=k("ZodNever",(t,e)=>{ip.init(t,e),Ee.init(t,e)});A$=k("ZodVoid",(t,e)=>{sp.init(t,e),Ee.init(t,e)});Ff=k("ZodDate",(t,e)=>{ap.init(t,e),Ee.init(t,e),t.min=(o,n)=>t.check(Wt(o,n)),t.max=(o,n)=>t.check(pr(o,n));let r=t._zod.bag;t.minDate=r.minimum?new Date(r.minimum):null,t.maxDate=r.maximum?new Date(r.maximum):null});O$=k("ZodArray",(t,e)=>{cp.init(t,e),Ee.init(t,e),t.element=e.element,t.min=(r,o)=>t.check(Fn(r,o)),t.nonempty=r=>t.check(Fn(1,r)),t.max=(r,o)=>t.check(ai(r,o)),t.length=(r,o)=>t.check(ci(r,o)),t.unwrap=()=>t.element});qf=k("ZodObject",(t,e)=>{Hv.init(t,e),Ee.init(t,e),z.defineLazy(t,"shape",()=>e.shape),t.keyof=()=>Tt(Object.keys(t._zod.def.shape)),t.catchall=r=>t.clone({...t._zod.def,catchall:r}),t.passthrough=()=>t.clone({...t._zod.def,catchall:lt()}),t.loose=()=>t.clone({...t._zod.def,catchall:lt()}),t.strict=()=>t.clone({...t._zod.def,catchall:Mb()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=r=>z.extend(t,r),t.safeExtend=r=>z.safeExtend(t,r),t.merge=r=>z.merge(t,r),t.pick=r=>z.pick(t,r),t.omit=r=>z.omit(t,r),t.partial=(...r)=>z.partial(Ub,t,r[0]),t.required=(...r)=>z.required(Fb,t,r[0])});zb=k("ZodUnion",(t,e)=>{yc.init(t,e),Ee.init(t,e),t.options=e.options});N$=k("ZodDiscriminatedUnion",(t,e)=>{zb.init(t,e),lp.init(t,e)});D$=k("ZodIntersection",(t,e)=>{dp.init(t,e),Ee.init(t,e)});M$=k("ZodTuple",(t,e)=>{vc.init(t,e),Ee.init(t,e),t.rest=r=>t.clone({...t._zod.def,rest:r})});jb=k("ZodRecord",(t,e)=>{pp.init(t,e),Ee.init(t,e),t.keyType=e.keyType,t.valueType=e.valueType});j$=k("ZodMap",(t,e)=>{fp.init(t,e),Ee.init(t,e),t.keyType=e.keyType,t.valueType=e.valueType});L$=k("ZodSet",(t,e)=>{mp.init(t,e),Ee.init(t,e),t.min=(...r)=>t.check(_o(...r)),t.nonempty=r=>t.check(_o(1,r)),t.max=(...r)=>t.check(si(...r)),t.size=(...r)=>t.check(_s(...r))});Zc=k("ZodEnum",(t,e)=>{hp.init(t,e),Ee.init(t,e),t.enum=e.entries,t.options=Object.values(e.entries);let r=new Set(Object.keys(e.entries));t.extract=(o,n)=>{let i={};for(let s of o)if(r.has(s))i[s]=e.entries[s];else throw new Error(`Key ${s} not found in enum`);return new Zc({...e,checks:[],...z.normalizeParams(n),entries:i})},t.exclude=(o,n)=>{let i={...e.entries};for(let s of o)if(r.has(s))delete i[s];else throw new Error(`Key ${s} not found in enum`);return new Zc({...e,checks:[],...z.normalizeParams(n),entries:i})}});U$=k("ZodLiteral",(t,e)=>{gp.init(t,e),Ee.init(t,e),t.values=new Set(e.values),Object.defineProperty(t,"value",{get(){if(e.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return e.values[0]}})});F$=k("ZodFile",(t,e)=>{yp.init(t,e),Ee.init(t,e),t.min=(r,o)=>t.check(_o(r,o)),t.max=(r,o)=>t.check(si(r,o)),t.mime=(r,o)=>t.check(Ts(Array.isArray(r)?r:[r],o))});q$=k("ZodTransform",(t,e)=>{vp.init(t,e),Ee.init(t,e),t._zod.parse=(r,o)=>{if(o.direction==="backward")throw new uo(t.constructor.name);r.addIssue=i=>{if(typeof i=="string")r.issues.push(z.issue(i,r.value,e));else{let s=i;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=r.value),s.inst??(s.inst=t),r.issues.push(z.issue(s))}};let n=e.transform(r.value,r);return n instanceof Promise?n.then(i=>(r.value=i,r)):(r.value=n,r)}});Ub=k("ZodOptional",(t,e)=>{bp.init(t,e),Ee.init(t,e),t.unwrap=()=>t._zod.def.innerType});W$=k("ZodNullable",(t,e)=>{_p.init(t,e),Ee.init(t,e),t.unwrap=()=>t._zod.def.innerType});Z$=k("ZodDefault",(t,e)=>{wp.init(t,e),Ee.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});H$=k("ZodPrefault",(t,e)=>{xp.init(t,e),Ee.init(t,e),t.unwrap=()=>t._zod.def.innerType});Fb=k("ZodNonOptional",(t,e)=>{Sp.init(t,e),Ee.init(t,e),t.unwrap=()=>t._zod.def.innerType});K$=k("ZodSuccess",(t,e)=>{Ep.init(t,e),Ee.init(t,e),t.unwrap=()=>t._zod.def.innerType});J$=k("ZodCatch",(t,e)=>{kp.init(t,e),Ee.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});X$=k("ZodNaN",(t,e)=>{Ip.init(t,e),Ee.init(t,e)});qb=k("ZodPipe",(t,e)=>{Tp.init(t,e),Ee.init(t,e),t.in=e.in,t.out=e.out});Wb=k("ZodCodec",(t,e)=>{qb.init(t,e),hs.init(t,e)});Q$=k("ZodReadonly",(t,e)=>{$p.init(t,e),Ee.init(t,e),t.unwrap=()=>t._zod.def.innerType});tR=k("ZodTemplateLiteral",(t,e)=>{Rp.init(t,e),Ee.init(t,e)});rR=k("ZodLazy",(t,e)=>{Ap.init(t,e),Ee.init(t,e),t.unwrap=()=>t._zod.def.getter()});oR=k("ZodPromise",(t,e)=>{Cp.init(t,e),Ee.init(t,e),t.unwrap=()=>t._zod.def.innerType});iR=k("ZodFunction",(t,e)=>{Pp.init(t,e),Ee.init(t,e)});Zf=k("ZodCustom",(t,e)=>{Op.init(t,e),Ee.init(t,e)});QB=$f,e6=Rf;r6=(...t)=>Pf({Codec:Wb,Boolean:Gc,String:Bc},...t)});function i6(t){dt({customError:t})}function s6(){return dt().customError}var o6,Bb,cR=E(()=>{pt();pt();o6={invalid_type:"invalid_type",too_big:"too_big",too_small:"too_small",invalid_format:"invalid_format",not_multiple_of:"not_multiple_of",unrecognized_keys:"unrecognized_keys",invalid_union:"invalid_union",invalid_key:"invalid_key",invalid_element:"invalid_element",invalid_value:"invalid_value",custom:"custom"};Bb||(Bb={})});var Hb={};Un(Hb,{bigint:()=>l6,boolean:()=>u6,date:()=>d6,number:()=>c6,string:()=>a6});function a6(t){return qp(Bc,t)}function c6(t){return Jp(Vc,t)}function u6(t){return nf(Gc,t)}function l6(t){return sf(Kc,t)}function d6(t){return yf(Ff,t)}var uR=E(()=>{pt();Mf()});var re={};Un(re,{$brand:()=>oc,$input:()=>Lp,$output:()=>jp,NEVER:()=>od,TimePrecision:()=>Zp,ZodAny:()=>R$,ZodArray:()=>O$,ZodBase64:()=>Cb,ZodBase64URL:()=>Ab,ZodBigInt:()=>Kc,ZodBigIntFormat:()=>Db,ZodBoolean:()=>Gc,ZodCIDRv4:()=>Rb,ZodCIDRv6:()=>Pb,ZodCUID:()=>xb,ZodCUID2:()=>Sb,ZodCatch:()=>J$,ZodCodec:()=>Wb,ZodCustom:()=>Zf,ZodCustomStringFormat:()=>Hc,ZodDate:()=>Ff,ZodDefault:()=>Z$,ZodDiscriminatedUnion:()=>N$,ZodE164:()=>Ob,ZodEmail:()=>bb,ZodEmoji:()=>_b,ZodEnum:()=>Zc,ZodError:()=>JZ,ZodFile:()=>F$,ZodFirstPartyTypeKind:()=>Bb,ZodFunction:()=>iR,ZodGUID:()=>zf,ZodIPv4:()=>Tb,ZodIPv6:()=>$b,ZodISODate:()=>Af,ZodISODateTime:()=>Cf,ZodISODuration:()=>Nf,ZodISOTime:()=>Of,ZodIntersection:()=>D$,ZodIssueCode:()=>o6,ZodJWT:()=>Nb,ZodKSUID:()=>Ib,ZodLazy:()=>rR,ZodLiteral:()=>U$,ZodMAC:()=>k$,ZodMap:()=>j$,ZodNaN:()=>X$,ZodNanoID:()=>wb,ZodNever:()=>C$,ZodNonOptional:()=>Fb,ZodNull:()=>$$,ZodNullable:()=>W$,ZodNumber:()=>Vc,ZodNumberFormat:()=>Ns,ZodObject:()=>qf,ZodOptional:()=>Ub,ZodPipe:()=>qb,ZodPrefault:()=>H$,ZodPromise:()=>oR,ZodReadonly:()=>Q$,ZodRealError:()=>fr,ZodRecord:()=>jb,ZodSet:()=>L$,ZodString:()=>Bc,ZodStringFormat:()=>Ye,ZodSuccess:()=>K$,ZodSymbol:()=>I$,ZodTemplateLiteral:()=>tR,ZodTransform:()=>q$,ZodTuple:()=>M$,ZodType:()=>Ee,ZodULID:()=>Eb,ZodURL:()=>Uf,ZodUUID:()=>qn,ZodUndefined:()=>T$,ZodUnion:()=>zb,ZodUnknown:()=>P$,ZodVoid:()=>A$,ZodXID:()=>kb,_ZodString:()=>vb,_default:()=>B$,_function:()=>YB,any:()=>DB,array:()=>Re,base64:()=>vB,base64url:()=>bB,bigint:()=>PB,boolean:()=>It,catch:()=>Y$,check:()=>XB,cidrv4:()=>gB,cidrv6:()=>yB,clone:()=>Ot,codec:()=>GB,coerce:()=>Hb,config:()=>dt,core:()=>Er,cuid:()=>cB,cuid2:()=>uB,custom:()=>Zb,date:()=>zB,decode:()=>ub,decodeAsync:()=>db,describe:()=>QB,discriminatedUnion:()=>Wf,e164:()=>_B,email:()=>XZ,emoji:()=>sB,encode:()=>cb,encodeAsync:()=>lb,endsWith:()=>Is,enum:()=>Tt,file:()=>ZB,flattenError:()=>as,float32:()=>IB,float64:()=>TB,formatError:()=>cs,function:()=>YB,getErrorMap:()=>s6,globalRegistry:()=>qt,gt:()=>hn,gte:()=>Wt,guid:()=>QZ,hash:()=>kB,hex:()=>EB,hostname:()=>SB,httpUrl:()=>iB,includes:()=>Es,instanceof:()=>t6,int:()=>yb,int32:()=>$B,int64:()=>CB,intersection:()=>Yc,ipv4:()=>fB,ipv6:()=>hB,iso:()=>Os,json:()=>n6,jwt:()=>wB,keyof:()=>jB,ksuid:()=>pB,lazy:()=>nR,length:()=>ci,literal:()=>te,locales:()=>gs,looseObject:()=>kr,lowercase:()=>xs,lt:()=>mn,lte:()=>pr,mac:()=>mB,map:()=>FB,maxLength:()=>ai,maxSize:()=>si,meta:()=>e6,mime:()=>Ts,minLength:()=>Fn,minSize:()=>_o,multipleOf:()=>bo,nan:()=>VB,nanoid:()=>aB,nativeEnum:()=>WB,negative:()=>_f,never:()=>Mb,nonnegative:()=>xf,nonoptional:()=>G$,nonpositive:()=>wf,normalize:()=>$s,null:()=>Jc,nullable:()=>jf,nullish:()=>BB,number:()=>He,object:()=>Z,optional:()=>ee,overwrite:()=>Jr,parse:()=>ob,parseAsync:()=>ib,partialRecord:()=>UB,pipe:()=>Lf,positive:()=>bf,prefault:()=>V$,preprocess:()=>Bf,prettifyError:()=>cd,promise:()=>JB,property:()=>Sf,readonly:()=>eR,record:()=>ft,refine:()=>sR,regex:()=>ws,regexes:()=>dr,registry:()=>wc,safeDecode:()=>fb,safeDecodeAsync:()=>hb,safeEncode:()=>pb,safeEncodeAsync:()=>mb,safeParse:()=>sb,safeParseAsync:()=>ab,set:()=>qB,setErrorMap:()=>i6,size:()=>_s,slugify:()=>qc,startsWith:()=>ks,strictObject:()=>LB,string:()=>A,stringFormat:()=>xB,stringbool:()=>r6,success:()=>HB,superRefine:()=>aR,symbol:()=>OB,templateLiteral:()=>KB,toJSONSchema:()=>As,toLowerCase:()=>Ps,toUpperCase:()=>Cs,transform:()=>Lb,treeifyError:()=>ad,trim:()=>Rs,tuple:()=>z$,uint32:()=>RB,uint64:()=>AB,ulid:()=>lB,undefined:()=>NB,union:()=>Xe,unknown:()=>lt,uppercase:()=>Ss,url:()=>oB,util:()=>z,uuid:()=>eB,uuidv4:()=>tB,uuidv6:()=>rB,uuidv7:()=>nB,void:()=>MB,xid:()=>dB});var Xc=E(()=>{pt();Mf();Xv();nb();gb();cR();pt();Gv();pt();zp();Df();Df();uR();dt(Np())});var Hf=E(()=>{Xc();Xc()});var lR,p6,f6,m6,Vb,h6,dR,pR=E(()=>{"use strict";Hf();lR="environment.toml",p6=["tool","run","debug","test"],f6=["darwin","linux","win32"],m6=re.object({name:re.string(),icon:re.enum(p6).nullable().catch(null),command:re.string(),platform:re.enum(f6).optional()}),Vb=re.object({script:re.string()}),h6=re.object({script:re.string(),darwin:Vb.optional(),linux:Vb.optional(),win32:Vb.optional()}),dR=re.object({version:re.number().int().min(1).default(1),name:re.string(),setup:h6,actions:re.array(m6).optional()})});function Gb(t){switch(typeof t){case"undefined":return"null";case"string":return`string(len=${t.length})`;case"number":case"boolean":return String(t);case"bigint":return t.toString();case"function":case"symbol":return typeof t;case"object":break}if(t==null)return"null";switch(Object.prototype.toString.call(t)){case"[object Date]":try{let r=t;return Number.isNaN(r.getTime())?"date(invalid)":r.toISOString()}catch{return"date(invalid)"}case"[object Error]":{let r=t,o=r.code;return typeof o=="string"&&o.length>0?`error(name=${r.name},code=${o})`:`error(name=${r.name})`}case"[object Uint8Array]":return`bytes(len=${t.byteLength})`;case"[object Array]":return`array(len=${t.length})`;default:break}try{return`object(keys=${Object.keys(t).length})`}catch{return"object(keys=unknown)"}}var fR=E(()=>{"use strict"});var mR=E(()=>{"use strict"});function y6(t){switch(t.type){case"dangerFullAccess":return"danger-full-access";case"readOnly":return"read-only";case"workspaceWrite":return"workspace-write";case"externalSandbox":return"danger-full-access"}}async function hR(t,e,r,o,n){let i={},s=await e(),a;if(s!=null){a=li;let{baseUrl:c,secret:u}=s;i.model_provider=li,i[`model_providers.${li}`]={name:g6,base_url:c,experimental_bearer_token:u,wire_api:"responses"}}else a=null;if(n){let c=await n();if(c)for(let[u,l]of Object.entries(c))i[u]=l}return{cwd:r,model:t,modelProvider:a,config:i,approvalPolicy:o.approvalPolicy,baseInstructions:null,developerInstructions:null,sandbox:y6(o.sandboxPolicy),experimentalRawEvents:!1}}var li,g6,gR=E(()=>{"use strict";li="codex_vscode_copilot",g6="Copilot"});function yR(t,e,r){return{sandboxPolicy:{type:"workspaceWrite",writableRoots:[...t,...e?.writable_roots||[]],excludeSlashTmp:e?.exclude_slash_tmp??!1,excludeTmpdirEnvVar:e?.exclude_tmpdir_env_var??!1,networkAccess:e?.network_access??!1},approvalPolicy:r??"on-request"}}var vR=E(()=>{"use strict"});function Vf(t){let e=v6[t];return e===void 0?0:e}var v6,bR=E(()=>{"use strict";v6={"thread-stream-state-changed":2}});var _R=E(()=>{"use strict"});var wR=E(()=>{"use strict"});var xR=E(()=>{"use strict"});function ct(t){return{type:"ok",value:t}}function Qc(t){return{type:"error",error:{message:t instanceof Error?t.message:String(t)}}}var SR=E(()=>{"use strict"});var ER=E(()=>{"use strict"});var kR=E(()=>{"use strict"});var IR=E(()=>{"use strict"});var TR=E(()=>{"use strict"});var $R,RR=E(()=>{"use strict";TR();$R=["git"]});var PR=E(()=>{"use strict"});var Qe=E(()=>{"use strict";Fk();qk();Wk();Zk();Bk();Hk();Vk();Kk();Jk();Yk();Xk();Qk();eI();pR();fR();mR();gR();vR();bR();_R();wR();xR();SR();ER();kR();IR();RR();PR()});function CR(t){if(Gf)throw new Error("Logger already set");Gf=t}function W(){if(!Gf)throw new Error("Logger not set");return Gf}function Qt(t){let e;try{e=W()}catch(r){throw new Error(`Cannot get tagged logger for ${t}`,{cause:r})}return{trace:(r,...o)=>{e.trace(`[${t}] ${r}`,...o)},debug:(r,...o)=>{e.debug(`[${t}] ${r}`,...o)},info:(r,...o)=>{e.info(`[${t}] ${r}`,...o)},warn:(r,...o)=>{e.warn(`[${t}] ${r}`,...o)},error:(r,...o)=>{e.error(`[${t}] ${r}`,...o)},dispose:()=>{e.dispose()}}}function Kf(t){let e=null;return()=>(e||(e=Qt(t)),e)}var Gf,er=E(()=>{Qe()});function OR(t){if(Jf)throw new Error("shouldSpawnInsideWsl already set");Jf=t}function NR(){if(!Jf)throw new Error("shouldSpawnInsideWsl not set");return Jf()}function Jb(){let t=W(),e=b6(t);if(!e)return;if(x6(e))return Kb(e);if(w6(e))return Kb(Yb(e));let r=_6(e,t);if(r)return r;t.warn(`[resolveCodexHomeFromWsl] Unable to translate Linux path "${e}" to a Windows path`)}function b6(t){return DR(["/usr/bin/env","bash","-lc",'printf %s "${CODEX_HOME:-$HOME/.codex}"'],"readCodexHomePathFromWslEnv",t)}function _6(t,e){let r=DR(["wslpath","-w",t],`resolveCodexHomeFromWsl:wslpath(${t})`,e);return r?Kb(r):void 0}function DR(t,e,r){try{let o=(0,AR.spawnSync)("wsl.exe",t,{encoding:"utf8",windowsHide:!0});if(o.error){r.warn(`[${e}] command error: ${String(o.error)}`);return}if(o.status!==0){r.warn(`[${e}] non-zero exit (${o.status}): ${o.stderr?.toString()??""}`);return}let n=o.stdout?.toString().trim();if(!n){r.warn(`[${e}] command returned empty output`);return}return n}catch(o){r.warn(`[${e}] unexpected error: ${String(o)}`);return}}function Kb(t){return t.replace(/\//g,"\\")}function w6(t){return/^\/mnt\/[a-zA-Z]\//.test(t)?!0:/^\\{1,2}mnt\\[a-zA-Z]\\/.test(t)}function x6(t){return!!(/^[a-zA-Z]:[\\/]/.test(t)||/^\\\\/.test(t))}function Yb(t){let e=t.match(/^\/mnt\/([a-zA-Z])\/(.*)$/);if(e){let n=e[1].toUpperCase(),i=e[2].replace(/\//g,"\\");return`${n}:\\${i}`}let r=t.match(/^\\{1,2}[Mm][Nn][Tt]\\([a-zA-Z])\\(.*)$/i);if(r){let n=r[1].toUpperCase(),i=r[2].replace(/[\\/]/g,"\\");return`${n}:\\${i}`}let o=t.match(/^C:\\mnt\\c(.*)$/i);return o?`C:\\${o[1].replace(/^([\\/])+/,"").replace(/[\\/]/g,"\\")}`:t.replace(/\//g,"\\")}function Zt(t){if(/^(\\\\|\/\/)(wsl\$|wsl\.localhost)/i.test(t)){let o=t.replace(/^((\\\\|\/\/)(wsl\$|wsl\.localhost)[\\/]+)/i,"").split(/[\\/]/);o.shift();let n=o.join("/").replace(/\\/g,"/");return n.length===0?"/":n.startsWith("/")?n:`/${n}`}if(t.startsWith("/"))return t;let e=t.match(/^([a-zA-Z]):[\\/](.*)$/);if(e){let r=e[1].toLowerCase(),o=e[2].replace(/\\/g,"/");return`/mnt/${r}/${o}`}return t.replace(/\\/g,"/")}var AR,Jf,Yf=E(()=>{AR=require("child_process");er()});function mt(t={}){let{preferWsl:e=!1}=t,r=W();if(e&&process.platform==="win32"){let o=Jb();if(o)return o;r.info("[resolveCodexHome] Falling back to host home directory because WSL CODEX_HOME could not be resolved")}return process.env.CODEX_HOME??zR.join(MR.homedir(),".codex")}var MR,zR,Wn=E(()=>{MR=H(require("node:os")),zR=H(require("node:path"));er();Yf()});async function jR(t={}){let e=mt(t),r=Xf.join(e,"AGENTS.md");await Ds.promises.mkdir(Xf.dirname(r),{recursive:!0});try{await Ds.promises.access(r)}catch{await Ds.promises.writeFile(r,"","utf8")}return r}async function LR(t={}){let e=await jR(t),r=await Ds.promises.readFile(e,"utf8");return{path:e,contents:r}}async function UR(t,e={}){let r=await jR(e);return await Ds.promises.writeFile(r,t,"utf8"),{path:r}}var Ds,Xf,FR=E(()=>{Ds=require("node:fs"),Xf=H(require("node:path"));Wn()});var gn=I(Qf=>{"use strict";Qf.getBooleanOption=(t,e)=>{let r=!1;if(e in t&&typeof(r=t[e])!="boolean")throw new TypeError(`Expected the "${e}" option to be a boolean`);return r};Qf.cppdb=Symbol();Qf.inspect=Symbol.for("nodejs.util.inspect.custom")});var Qb=I((cle,qR)=>{"use strict";var Xb={value:"SqliteError",writable:!0,enumerable:!1,configurable:!0};function di(t,e){if(new.target!==di)return new di(t,e);if(typeof e!="string")throw new TypeError("Expected second argument to be a string");Error.call(this,t),Xb.value=""+t,Object.defineProperty(this,"message",Xb),Error.captureStackTrace(this,di),this.code=e}Object.setPrototypeOf(di,Error);Object.setPrototypeOf(di.prototype,Error.prototype);Object.defineProperty(di.prototype,"name",Xb);qR.exports=di});var ZR=I((ule,WR)=>{var em=require("path").sep||"/";WR.exports=S6;function S6(t){if(typeof t!="string"||t.length<=7||t.substring(0,7)!="file://")throw new TypeError("must pass in a file:// URI to convert to a file path");var e=decodeURI(t.substring(7)),r=e.indexOf("/"),o=e.substring(0,r),n=e.substring(r+1);return o=="localhost"&&(o=""),o&&(o=em+em+o),n=n.replace(/^(.+)\|/,"$1:"),em=="\\"&&(n=n.replace(/\//g,"\\")),/^.+\:/.test(n)||(n=em+n),o+n}});var GR=I((Ms,VR)=>{var e_=require("fs"),rm=require("path"),E6=ZR(),tm=rm.join,k6=rm.dirname,BR=e_.accessSync&&function(t){try{e_.accessSync(t)}catch{return!1}return!0}||e_.existsSync||rm.existsSync,HR={arrow:process.env.NODE_BINDINGS_ARROW||" \u2192 ",compiled:process.env.NODE_BINDINGS_COMPILED_DIR||"compiled",platform:process.platform,arch:process.arch,nodePreGyp:"node-v"+process.versions.modules+"-"+process.platform+"-"+process.arch,version:process.versions.node,bindings:"bindings.node",try:[["module_root","build","bindings"],["module_root","build","Debug","bindings"],["module_root","build","Release","bindings"],["module_root","out","Debug","bindings"],["module_root","Debug","bindings"],["module_root","out","Release","bindings"],["module_root","Release","bindings"],["module_root","build","default","bindings"],["module_root","compiled","version","platform","arch","bindings"],["module_root","addon-build","release","install-root","bindings"],["module_root","addon-build","debug","install-root","bindings"],["module_root","addon-build","default","install-root","bindings"],["module_root","lib","binding","nodePreGyp","bindings"]]};function I6(t){typeof t=="string"?t={bindings:t}:t||(t={}),Object.keys(HR).map(function(c){c in t||(t[c]=HR[c])}),t.module_root||(t.module_root=Ms.getRoot(Ms.getFileName())),rm.extname(t.bindings)!=".node"&&(t.bindings+=".node");for(var e=typeof __webpack_require__=="function"?__non_webpack_require__:require,r=[],o=0,n=t.try.length,i,s,a;o<n;o++){i=tm.apply(null,t.try[o].map(function(c){return t[c]||c})),r.push(i);try{return s=t.path?e.resolve(i):e(i),t.path||(s.path=i),s}catch(c){if(c.code!=="MODULE_NOT_FOUND"&&c.code!=="QUALIFIED_PATH_RESOLUTION_FAILED"&&!/not find/i.test(c.message))throw c}}throw a=new Error(`Could not locate the bindings file. Tried:
`+r.map(function(c){return t.arrow+c}).join(`
`)),a.tries=r,a}VR.exports=Ms=I6;Ms.getFileName=function(e){var r=Error.prepareStackTrace,o=Error.stackTraceLimit,n={},i;Error.stackTraceLimit=10,Error.prepareStackTrace=function(a,c){for(var u=0,l=c.length;u<l;u++)if(i=c[u].getFileName(),i!==__filename)if(e){if(i!==e)return}else return},Error.captureStackTrace(n),n.stack,Error.prepareStackTrace=r,Error.stackTraceLimit=o;var s="file://";return i.indexOf(s)===0&&(i=E6(i)),i};Ms.getRoot=function(e){for(var r=k6(e),o;;){if(r==="."&&(r=process.cwd()),BR(tm(r,"package.json"))||BR(tm(r,"node_modules")))return r;if(o===r)throw new Error('Could not find module root given file: "'+e+'". Do you have a `package.json` file? ');o=r,r=tm(r,"..")}}});var KR=I(wo=>{"use strict";var{cppdb:Yr}=gn();wo.prepare=function(e){return this[Yr].prepare(e,this,!1)};wo.exec=function(e){return this[Yr].exec(e),this};wo.close=function(){return this[Yr].close(),this};wo.loadExtension=function(...e){return this[Yr].loadExtension(...e),this};wo.defaultSafeIntegers=function(...e){return this[Yr].defaultSafeIntegers(...e),this};wo.unsafeMode=function(...e){return this[Yr].unsafeMode(...e),this};wo.getters={name:{get:function(){return this[Yr].name},enumerable:!0},open:{get:function(){return this[Yr].open},enumerable:!0},inTransaction:{get:function(){return this[Yr].inTransaction},enumerable:!0},readonly:{get:function(){return this[Yr].readonly},enumerable:!0},memory:{get:function(){return this[Yr].memory},enumerable:!0}}});var XR=I((dle,YR)=>{"use strict";var{cppdb:T6}=gn(),JR=new WeakMap;YR.exports=function(e){if(typeof e!="function")throw new TypeError("Expected first argument to be a function");let r=this[T6],o=$6(r,this),{apply:n}=Function.prototype,i={default:{value:nm(n,e,r,o.default)},deferred:{value:nm(n,e,r,o.deferred)},immediate:{value:nm(n,e,r,o.immediate)},exclusive:{value:nm(n,e,r,o.exclusive)},database:{value:this,enumerable:!0}};return Object.defineProperties(i.default.value,i),Object.defineProperties(i.deferred.value,i),Object.defineProperties(i.immediate.value,i),Object.defineProperties(i.exclusive.value,i),i.default.value};var $6=(t,e)=>{let r=JR.get(t);if(!r){let o={commit:t.prepare("COMMIT",e,!1),rollback:t.prepare("ROLLBACK",e,!1),savepoint:t.prepare("SAVEPOINT `	_bs3.	`",e,!1),release:t.prepare("RELEASE `	_bs3.	`",e,!1),rollbackTo:t.prepare("ROLLBACK TO `	_bs3.	`",e,!1)};JR.set(t,r={default:Object.assign({begin:t.prepare("BEGIN",e,!1)},o),deferred:Object.assign({begin:t.prepare("BEGIN DEFERRED",e,!1)},o),immediate:Object.assign({begin:t.prepare("BEGIN IMMEDIATE",e,!1)},o),exclusive:Object.assign({begin:t.prepare("BEGIN EXCLUSIVE",e,!1)},o)})}return r},nm=(t,e,r,{begin:o,commit:n,rollback:i,savepoint:s,release:a,rollbackTo:c})=>function(){let l,p,g;r.inTransaction?(l=s,p=a,g=c):(l=o,p=n,g=i),l.run();try{let v=t.call(e,this,arguments);if(v&&typeof v.then=="function")throw new TypeError("Transaction function cannot return a promise");return p.run(),v}catch(v){throw r.inTransaction&&(g.run(),g!==i&&p.run()),v}}});var eP=I((ple,QR)=>{"use strict";var{getBooleanOption:R6,cppdb:P6}=gn();QR.exports=function(e,r){if(r==null&&(r={}),typeof e!="string")throw new TypeError("Expected first argument to be a string");if(typeof r!="object")throw new TypeError("Expected second argument to be an options object");let o=R6(r,"simple"),n=this[P6].prepare(`PRAGMA ${e}`,this,!0);return o?n.pluck().get():n.all()}});var nP=I((fle,rP)=>{"use strict";var C6=require("fs"),A6=require("path"),{promisify:O6}=require("util"),{cppdb:N6}=gn(),tP=O6(C6.access);rP.exports=async function(e,r){if(r==null&&(r={}),typeof e!="string")throw new TypeError("Expected first argument to be a string");if(typeof r!="object")throw new TypeError("Expected second argument to be an options object");e=e.trim();let o="attached"in r?r.attached:"main",n="progress"in r?r.progress:null;if(!e)throw new TypeError("Backup filename cannot be an empty string");if(e===":memory:")throw new TypeError('Invalid backup filename ":memory:"');if(typeof o!="string")throw new TypeError('Expected the "attached" option to be a string');if(!o)throw new TypeError('The "attached" option cannot be an empty string');if(n!=null&&typeof n!="function")throw new TypeError('Expected the "progress" option to be a function');await tP(A6.dirname(e)).catch(()=>{throw new TypeError("Cannot save backup because the directory does not exist")});let i=await tP(e).then(()=>!1,()=>!0);return D6(this[N6].backup(this,o,e,i),n||null)};var D6=(t,e)=>{let r=0,o=!0;return new Promise((n,i)=>{setImmediate(function s(){try{let a=t.transfer(r);if(!a.remainingPages){t.close(),n(a);return}if(o&&(o=!1,r=100),e){let c=e(a);if(c!==void 0)if(typeof c=="number"&&c===c)r=Math.max(0,Math.min(2147483647,Math.round(c)));else throw new TypeError("Expected progress callback to return a number or undefined")}setImmediate(s)}catch(a){t.close(),i(a)}})})}});var iP=I((mle,oP)=>{"use strict";var{cppdb:M6}=gn();oP.exports=function(e){if(e==null&&(e={}),typeof e!="object")throw new TypeError("Expected first argument to be an options object");let r="attached"in e?e.attached:"main";if(typeof r!="string")throw new TypeError('Expected the "attached" option to be a string');if(!r)throw new TypeError('The "attached" option cannot be an empty string');return this[M6].serialize(r)}});var aP=I((hle,sP)=>{"use strict";var{getBooleanOption:om,cppdb:z6}=gn();sP.exports=function(e,r,o){if(r==null&&(r={}),typeof r=="function"&&(o=r,r={}),typeof e!="string")throw new TypeError("Expected first argument to be a string");if(typeof o!="function")throw new TypeError("Expected last argument to be a function");if(typeof r!="object")throw new TypeError("Expected second argument to be an options object");if(!e)throw new TypeError("User-defined function name cannot be an empty string");let n="safeIntegers"in r?+om(r,"safeIntegers"):2,i=om(r,"deterministic"),s=om(r,"directOnly"),a=om(r,"varargs"),c=-1;if(!a){if(c=o.length,!Number.isInteger(c)||c<0)throw new TypeError("Expected function.length to be a positive integer");if(c>100)throw new RangeError("User-defined functions cannot have more than 100 arguments")}return this[z6].function(o,e,c,n,i,s),this}});var lP=I((gle,uP)=>{"use strict";var{getBooleanOption:im,cppdb:j6}=gn();uP.exports=function(e,r){if(typeof e!="string")throw new TypeError("Expected first argument to be a string");if(typeof r!="object"||r===null)throw new TypeError("Expected second argument to be an options object");if(!e)throw new TypeError("User-defined function name cannot be an empty string");let o="start"in r?r.start:null,n=t_(r,"step",!0),i=t_(r,"inverse",!1),s=t_(r,"result",!1),a="safeIntegers"in r?+im(r,"safeIntegers"):2,c=im(r,"deterministic"),u=im(r,"directOnly"),l=im(r,"varargs"),p=-1;if(!l&&(p=Math.max(cP(n),i?cP(i):0),p>0&&(p-=1),p>100))throw new RangeError("User-defined functions cannot have more than 100 arguments");return this[j6].aggregate(o,n,i,s,e,p,a,c,u),this};var t_=(t,e,r)=>{let o=e in t?t[e]:null;if(typeof o=="function")return o;if(o!=null)throw new TypeError(`Expected the "${e}" option to be a function`);if(r)throw new TypeError(`Missing required option "${e}"`);return null},cP=({length:t})=>{if(Number.isInteger(t)&&t>=0)return t;throw new TypeError("Expected function.length to be a positive integer")}});var mP=I((yle,fP)=>{"use strict";var{cppdb:L6}=gn();fP.exports=function(e,r){if(typeof e!="string")throw new TypeError("Expected first argument to be a string");if(!e)throw new TypeError("Virtual table module name cannot be an empty string");let o=!1;if(typeof r=="object"&&r!==null)o=!0,r=V6(pP(r,"used",e));else{if(typeof r!="function")throw new TypeError("Expected second argument to be a function or a table definition object");r=U6(r)}return this[L6].table(r,e,o),this};function U6(t){return function(r,o,n,...i){let s={module:r,database:o,table:n},a=B6.call(t,s,i);if(typeof a!="object"||a===null)throw new TypeError(`Virtual table module "${r}" did not return a table definition object`);return pP(a,"returned",r)}}function pP(t,e,r){if(!eu.call(t,"rows"))throw new TypeError(`Virtual table module "${r}" ${e} a table definition without a "rows" property`);if(!eu.call(t,"columns"))throw new TypeError(`Virtual table module "${r}" ${e} a table definition without a "columns" property`);let o=t.rows;if(typeof o!="function"||Object.getPrototypeOf(o)!==H6)throw new TypeError(`Virtual table module "${r}" ${e} a table definition with an invalid "rows" property (should be a generator function)`);let n=t.columns;if(!Array.isArray(n)||!(n=[...n]).every(u=>typeof u=="string"))throw new TypeError(`Virtual table module "${r}" ${e} a table definition with an invalid "columns" property (should be an array of strings)`);if(n.length!==new Set(n).size)throw new TypeError(`Virtual table module "${r}" ${e} a table definition with duplicate column names`);if(!n.length)throw new RangeError(`Virtual table module "${r}" ${e} a table definition with zero columns`);let i;if(eu.call(t,"parameters")){if(i=t.parameters,!Array.isArray(i)||!(i=[...i]).every(u=>typeof u=="string"))throw new TypeError(`Virtual table module "${r}" ${e} a table definition with an invalid "parameters" property (should be an array of strings)`)}else i=Z6(o);if(i.length!==new Set(i).size)throw new TypeError(`Virtual table module "${r}" ${e} a table definition with duplicate parameter names`);if(i.length>32)throw new RangeError(`Virtual table module "${r}" ${e} a table definition with more than the maximum number of 32 parameters`);for(let u of i)if(n.includes(u))throw new TypeError(`Virtual table module "${r}" ${e} a table definition with column "${u}" which was ambiguously defined as both a column and parameter`);let s=2;if(eu.call(t,"safeIntegers")){let u=t.safeIntegers;if(typeof u!="boolean")throw new TypeError(`Virtual table module "${r}" ${e} a table definition with an invalid "safeIntegers" property (should be a boolean)`);s=+u}let a=!1;if(eu.call(t,"directOnly")&&(a=t.directOnly,typeof a!="boolean"))throw new TypeError(`Virtual table module "${r}" ${e} a table definition with an invalid "directOnly" property (should be a boolean)`);return[`CREATE TABLE x(${[...i.map(dP).map(u=>`${u} HIDDEN`),...n.map(dP)].join(", ")});`,F6(o,new Map(n.map((u,l)=>[u,i.length+l])),r),i,s,a]}function F6(t,e,r){return function*(...n){let i=n.map(s=>Buffer.isBuffer(s)?Buffer.from(s):s);for(let s=0;s<e.size;++s)i.push(null);for(let s of t(...n))if(Array.isArray(s))q6(s,i,e.size,r),yield i;else if(typeof s=="object"&&s!==null)W6(s,i,e,r),yield i;else throw new TypeError(`Virtual table module "${r}" yielded something that isn't a valid row object`)}}function q6(t,e,r,o){if(t.length!==r)throw new TypeError(`Virtual table module "${o}" yielded a row with an incorrect number of columns`);let n=e.length-r;for(let i=0;i<r;++i)e[i+n]=t[i]}function W6(t,e,r,o){let n=0;for(let i of Object.keys(t)){let s=r.get(i);if(s===void 0)throw new TypeError(`Virtual table module "${o}" yielded a row with an undeclared column "${i}"`);e[s]=t[i],n+=1}if(n!==r.size)throw new TypeError(`Virtual table module "${o}" yielded a row with missing columns`)}function Z6({length:t}){if(!Number.isInteger(t)||t<0)throw new TypeError("Expected function.length to be a positive integer");let e=[];for(let r=0;r<t;++r)e.push(`$${r+1}`);return e}var{hasOwnProperty:eu}=Object.prototype,{apply:B6}=Function.prototype,H6=Object.getPrototypeOf(function*(){}),dP=t=>`"${t.replace(/"/g,'""')}"`,V6=t=>()=>t});var gP=I((vle,hP)=>{"use strict";var G6=function(){};hP.exports=function(e,r){return Object.assign(new G6,this)}});var _P=I((ble,bP)=>{"use strict";var K6=require("fs"),yP=require("path"),sm=gn(),J6=Qb(),vP;function Bt(t,e){if(new.target==null)return new Bt(t,e);let r;if(Buffer.isBuffer(t)&&(r=t,t=":memory:"),t==null&&(t=""),e==null&&(e={}),typeof t!="string")throw new TypeError("Expected first argument to be a string");if(typeof e!="object")throw new TypeError("Expected second argument to be an options object");if("readOnly"in e)throw new TypeError('Misspelled option "readOnly" should be "readonly"');if("memory"in e)throw new TypeError('Option "memory" was removed in v7.0.0 (use ":memory:" filename instead)');let o=t.trim(),n=o===""||o===":memory:",i=sm.getBooleanOption(e,"readonly"),s=sm.getBooleanOption(e,"fileMustExist"),a="timeout"in e?e.timeout:5e3,c="verbose"in e?e.verbose:null,u="nativeBinding"in e?e.nativeBinding:null;if(i&&n&&!r)throw new TypeError("In-memory/temporary databases cannot be readonly");if(!Number.isInteger(a)||a<0)throw new TypeError('Expected the "timeout" option to be a positive integer');if(a>2147483647)throw new RangeError('Option "timeout" cannot be greater than 2147483647');if(c!=null&&typeof c!="function")throw new TypeError('Expected the "verbose" option to be a function');if(u!=null&&typeof u!="string"&&typeof u!="object")throw new TypeError('Expected the "nativeBinding" option to be a string or addon object');let l;if(u==null?l=vP||(vP=GR()("better_sqlite3.node")):typeof u=="string"?l=(typeof __non_webpack_require__=="function"?__non_webpack_require__:require)(yP.resolve(u).replace(/(\.node)?$/,".node")):l=u,l.isInitialized||(l.setErrorConstructor(J6),l.isInitialized=!0),!n&&!o.startsWith("file:")&&!K6.existsSync(yP.dirname(o)))throw new TypeError("Cannot open database because the directory does not exist");Object.defineProperties(this,{[sm.cppdb]:{value:new l.Database(o,t,n,i,s,a,c||null,r||null)},...pi.getters})}var pi=KR();Bt.prototype.prepare=pi.prepare;Bt.prototype.transaction=XR();Bt.prototype.pragma=eP();Bt.prototype.backup=nP();Bt.prototype.serialize=iP();Bt.prototype.function=aP();Bt.prototype.aggregate=lP();Bt.prototype.table=mP();Bt.prototype.loadExtension=pi.loadExtension;Bt.prototype.exec=pi.exec;Bt.prototype.close=pi.close;Bt.prototype.defaultSafeIntegers=pi.defaultSafeIntegers;Bt.prototype.unsafeMode=pi.unsafeMode;Bt.prototype[sm.inspect]=gP();bP.exports=Bt});var wP=I((_le,r_)=>{"use strict";r_.exports=_P();r_.exports.SqliteError=Qb()});function Y6(){let t=process.env.CODEX_BUILD_FLAVOR;return t==="prod"?"codex.db":t?"codex-dev.db":process.env.NODE_ENV==="production"?"codex.db":"codex-dev.db"}function Xr(t){if(!process.versions.electron)return null;if(n_)return n_;let e=X6(),r=mt(),o=(0,o_.join)(r,"sqlite");(0,xP.mkdirSync)(o,{recursive:!0});let n=t?.databaseFileName??Y6(),i=(0,o_.join)(o,n),s=new e(i);return Q6(s),n_=s,s}function X6(){try{return wP()}catch{throw new Error("better-sqlite3 is only bundled with the Electron app")}}function Q6(t){let e=[{version:1,up:()=>t.exec(`CREATE TABLE IF NOT EXISTS inbox_items (
            id TEXT PRIMARY KEY,
            title TEXT
          )`)},{version:2,up:()=>{Ir(t,"inbox_items","description","TEXT"),Ir(t,"inbox_items","thread_id","TEXT"),Ir(t,"inbox_items","read_at","INTEGER"),Ir(t,"inbox_items","created_at","INTEGER")}},{version:3,up:()=>{Ir(t,"inbox_items","description","TEXT"),Ir(t,"inbox_items","thread_id","TEXT"),Ir(t,"inbox_items","read_at","INTEGER"),Ir(t,"inbox_items","created_at","INTEGER")}},{version:7,up:()=>{t.exec(`CREATE TABLE IF NOT EXISTS automations (
            id TEXT PRIMARY KEY,
            name TEXT NOT NULL,
            prompt TEXT NOT NULL,
            status TEXT NOT NULL DEFAULT 'ACTIVE',
            next_run_at INTEGER,
            last_run_at INTEGER,
            cwds TEXT NOT NULL DEFAULT '[]',
            rrule TEXT NOT NULL DEFAULT '${rd}',
            created_at INTEGER NOT NULL,
            updated_at INTEGER NOT NULL
          )`),Ir(t,"automations","status","TEXT NOT NULL DEFAULT 'ACTIVE'"),Ir(t,"automations","last_run_at","INTEGER"),Ir(t,"automations","cwds","TEXT NOT NULL DEFAULT '[]'")}},{version:8,up:()=>{Ir(t,"automations","next_run_at","INTEGER")}},{version:9,up:()=>{t.exec(`CREATE TABLE IF NOT EXISTS automation_runs (
            thread_id TEXT PRIMARY KEY,
            automation_id TEXT NOT NULL,
            status TEXT NOT NULL,
            created_at INTEGER NOT NULL,
            updated_at INTEGER NOT NULL
          )`)}},{version:13,up:()=>{Ir(t,"automations","rrule","TEXT"),t.prepare("UPDATE automations SET rrule = ? WHERE rrule IS NULL OR rrule = ''").run(rd)}}],r=e2(t);for(let o of e)if(!(o.version<=r)){t.prepare("BEGIN").run();try{o.up(),t.prepare(`PRAGMA user_version = ${o.version}`).run(),t.prepare("COMMIT").run()}catch(n){throw t.prepare("ROLLBACK").run(),n}}}function Ir(t,e,r,o){t.prepare(`PRAGMA table_info(${e})`).all().some(a=>a?.name===r)||t.exec(`ALTER TABLE ${e} ADD COLUMN ${r} ${o}`)}function e2(t){let e=t.prepare("PRAGMA user_version").get();return typeof e?.user_version=="number"?e.user_version:0}var xP,o_,n_,xo=E(()=>{xP=require("node:fs"),o_=require("node:path");Qe();Wn();n_=null});function SP(){let t=Xr();return t?t.prepare("SELECT thread_id as threadId FROM automation_runs WHERE status = 'IN_PROGRESS'").all().map(r=>r.threadId):[]}var EP=E(()=>{xo()});var kP=I((tu,i_)=>{(function(e,r){typeof tu=="object"&&typeof i_=="object"?i_.exports=r():typeof define=="function"&&define.amd?define([],r):typeof tu=="object"?tu.rrule=r():e.rrule=r()})(typeof self<"u"?self:tu,()=>(()=>{"use strict";var t={};t.d=(f,d)=>{for(var m in d)t.o(d,m)&&!t.o(f,m)&&Object.defineProperty(f,m,{enumerable:!0,get:d[m]})},t.o=(f,d)=>Object.prototype.hasOwnProperty.call(f,d),t.r=f=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"__esModule",{value:!0})};var e={};t.r(e),t.d(e,{ALL_WEEKDAYS:()=>r,Frequency:()=>je,RRule:()=>pe,RRuleSet:()=>Mk,Weekday:()=>o,datetime:()=>P,rrulestr:()=>Oy});var r=["MO","TU","WE","TH","FR","SA","SU"],o=function(){function f(d,m){if(m===0)throw new Error("Can't create weekday with n == 0");this.weekday=d,this.n=m}return f.fromStr=function(d){return new f(r.indexOf(d))},f.prototype.nth=function(d){return this.n===d?this:new f(this.weekday,d)},f.prototype.equals=function(d){return this.weekday===d.weekday&&this.n===d.n},f.prototype.toString=function(){var d=r[this.weekday];return this.n&&(d=(this.n>0?"+":"")+String(this.n)+d),d},f.prototype.getJsWeekday=function(){return this.weekday===6?0:this.weekday+1},f}(),n=function(f){return f!=null},i=function(f){return typeof f=="number"},s=function(f){return typeof f=="string"&&r.includes(f)},a=Array.isArray,c=function(f,d){d===void 0&&(d=f),arguments.length===1&&(d=f,f=0);for(var m=[],y=f;y<d;y++)m.push(y);return m},u=function(f){return[].concat(f)},l=function(f,d){var m=0,y=[];if(a(f))for(;m<d;m++)y[m]=[].concat(f);else for(;m<d;m++)y[m]=f;return y},p=function(f){return a(f)?f:[f]};function g(f,d,m){m===void 0&&(m=" ");var y=String(f);return d=d>>0,y.length>d?String(y):(d=d-y.length,d>m.length&&(m+=l(m,d/m.length)),m.slice(0,d)+String(y))}var v=function(f,d,m){var y=f.split(d);return m?y.slice(0,m).concat([y.slice(m).join(d)]):y},h=function(f,d){var m=f%d;return m*d<0?m+d:m},b=function(f,d){return{div:Math.floor(f/d),mod:h(f,d)}},_=function(f){return!n(f)||f.length===0},w=function(f){return!_(f)},T=function(f,d){return w(f)&&f.indexOf(d)!==-1},P=function(f,d,m,y,x,S){return y===void 0&&(y=0),x===void 0&&(x=0),S===void 0&&(S=0),new Date(Date.UTC(f,d-1,m,y,x,S))},D=[31,28,31,30,31,30,31,31,30,31,30,31],q=1e3*60*60*24,ge=9999,Ze=P(1970,1,1),Se=[6,0,1,2,3,4,5],oe=function(f){var d=new Date(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate());return Math.ceil((d.valueOf()-new Date(f.getUTCFullYear(),0,1).valueOf())/q)+1},$e=function(f){return f%4===0&&f%100!==0||f%400===0},rt=function(f){return f instanceof Date},Ce=function(f){return rt(f)&&!isNaN(f.getTime())},ur=function(f){return f.getTimezoneOffset()*60*1e3},zr=function(f,d){var m=f.getTime(),y=d.getTime(),x=m-y;return Math.round(x/q)},At=function(f){return zr(f,Ze)},Me=function(f){return new Date(Ze.getTime()+f*q)},ue=function(f){var d=f.getUTCMonth();return d===1&&$e(f.getUTCFullYear())?29:D[d]},tt=function(f){return Se[f.getUTCDay()]},Kl=function(f,d){var m=P(f,d+1,1);return[tt(m),ue(m)]},Xi=function(f,d){return d=d||f,new Date(Date.UTC(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate(),d.getHours(),d.getMinutes(),d.getSeconds(),d.getMilliseconds()))},Ey=function(f){var d=new Date(f.getTime());return d},_k=function(f){for(var d=[],m=0;m<f.length;m++)d.push(Ey(f[m]));return d},tc=function(f){f.sort(function(d,m){return d.getTime()-m.getTime()})},ky=function(f,d){d===void 0&&(d=!0);var m=new Date(f);return[g(m.getUTCFullYear().toString(),4,"0"),g(m.getUTCMonth()+1,2,"0"),g(m.getUTCDate(),2,"0"),"T",g(m.getUTCHours(),2,"0"),g(m.getUTCMinutes(),2,"0"),g(m.getUTCSeconds(),2,"0"),d?"Z":""].join("")},Iy=function(f){var d=/^(\d{4})(\d{2})(\d{2})(T(\d{2})(\d{2})(\d{2})Z?)?$/,m=d.exec(f);if(!m)throw new Error("Invalid UNTIL value: ".concat(f));return new Date(Date.UTC(parseInt(m[1],10),parseInt(m[2],10)-1,parseInt(m[3],10),parseInt(m[5],10)||0,parseInt(m[6],10)||0,parseInt(m[7],10)||0))},wk=function(f,d){var m=f.toLocaleString("sv-SE",{timeZone:d});return m.replace(" ","T")+"Z"},wq=function(f,d){var m=Intl.DateTimeFormat().resolvedOptions().timeZone,y=new Date(wk(f,m)),x=new Date(wk(f,d??"UTC")),S=x.getTime()-y.getTime();return new Date(f.getTime()-S)},xq=function(){function f(d,m){this.minDate=null,this.maxDate=null,this._result=[],this.total=0,this.method=d,this.args=m,d==="between"?(this.maxDate=m.inc?m.before:new Date(m.before.getTime()-1),this.minDate=m.inc?m.after:new Date(m.after.getTime()+1)):d==="before"?this.maxDate=m.inc?m.dt:new Date(m.dt.getTime()-1):d==="after"&&(this.minDate=m.inc?m.dt:new Date(m.dt.getTime()+1))}return f.prototype.accept=function(d){++this.total;var m=this.minDate&&d<this.minDate,y=this.maxDate&&d>this.maxDate;if(this.method==="between"){if(m)return!0;if(y)return!1}else if(this.method==="before"){if(y)return!1}else if(this.method==="after")return m?!0:(this.add(d),!1);return this.add(d)},f.prototype.add=function(d){return this._result.push(d),!0},f.prototype.getValue=function(){var d=this._result;switch(this.method){case"all":case"between":return d;case"before":case"after":default:return d.length?d[d.length-1]:null}},f.prototype.clone=function(){return new f(this.method,this.args)},f}();let Qi=xq;var Ty=function(f,d){return Ty=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,y){m.__proto__=y}||function(m,y){for(var x in y)Object.prototype.hasOwnProperty.call(y,x)&&(m[x]=y[x])},Ty(f,d)};function $y(f,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");Ty(f,d);function m(){this.constructor=f}f.prototype=d===null?Object.create(d):(m.prototype=d.prototype,new m)}var wr=function(){return wr=Object.assign||function(d){for(var m,y=1,x=arguments.length;y<x;y++){m=arguments[y];for(var S in m)Object.prototype.hasOwnProperty.call(m,S)&&(d[S]=m[S])}return d},wr.apply(this,arguments)};function ase(f,d){var m={};for(var y in f)Object.prototype.hasOwnProperty.call(f,y)&&d.indexOf(y)<0&&(m[y]=f[y]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function")for(var x=0,y=Object.getOwnPropertySymbols(f);x<y.length;x++)d.indexOf(y[x])<0&&Object.prototype.propertyIsEnumerable.call(f,y[x])&&(m[y[x]]=f[y[x]]);return m}function cse(f,d,m,y){var x=arguments.length,S=x<3?d:y===null?y=Object.getOwnPropertyDescriptor(d,m):y,$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(f,d,m,y);else for(var R=f.length-1;R>=0;R--)($=f[R])&&(S=(x<3?$(S):x>3?$(d,m,S):$(d,m))||S);return x>3&&S&&Object.defineProperty(d,m,S),S}function use(f,d){return function(m,y){d(m,y,f)}}function lse(f,d){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(f,d)}function dse(f,d,m,y){function x(S){return S instanceof m?S:new m(function($){$(S)})}return new(m||(m=Promise))(function(S,$){function R(B){try{N(y.next(B))}catch(Y){$(Y)}}function O(B){try{N(y.throw(B))}catch(Y){$(Y)}}function N(B){B.done?S(B.value):x(B.value).then(R,O)}N((y=y.apply(f,d||[])).next())})}function pse(f,d){var m={label:0,sent:function(){if(S[0]&1)throw S[1];return S[1]},trys:[],ops:[]},y,x,S,$;return $={next:R(0),throw:R(1),return:R(2)},typeof Symbol=="function"&&($[Symbol.iterator]=function(){return this}),$;function R(N){return function(B){return O([N,B])}}function O(N){if(y)throw new TypeError("Generator is already executing.");for(;m;)try{if(y=1,x&&(S=N[0]&2?x.return:N[0]?x.throw||((S=x.return)&&S.call(x),0):x.next)&&!(S=S.call(x,N[1])).done)return S;switch(x=0,S&&(N=[N[0]&2,S.value]),N[0]){case 0:case 1:S=N;break;case 4:return m.label++,{value:N[1],done:!1};case 5:m.label++,x=N[1],N=[0];continue;case 7:N=m.ops.pop(),m.trys.pop();continue;default:if(S=m.trys,!(S=S.length>0&&S[S.length-1])&&(N[0]===6||N[0]===2)){m=0;continue}if(N[0]===3&&(!S||N[1]>S[0]&&N[1]<S[3])){m.label=N[1];break}if(N[0]===6&&m.label<S[1]){m.label=S[1],S=N;break}if(S&&m.label<S[2]){m.label=S[2],m.ops.push(N);break}S[2]&&m.ops.pop(),m.trys.pop();continue}N=d.call(f,m)}catch(B){N=[6,B],x=0}finally{y=S=0}if(N[0]&5)throw N[1];return{value:N[0]?N[1]:void 0,done:!0}}}var xk=Object.create?function(f,d,m,y){y===void 0&&(y=m);var x=Object.getOwnPropertyDescriptor(d,m);(!x||("get"in x?!d.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return d[m]}}),Object.defineProperty(f,y,x)}:function(f,d,m,y){y===void 0&&(y=m),f[y]=d[m]};function fse(f,d){for(var m in f)m!=="default"&&!Object.prototype.hasOwnProperty.call(d,m)&&xk(d,f,m)}function Sk(f){var d=typeof Symbol=="function"&&Symbol.iterator,m=d&&f[d],y=0;if(m)return m.call(f);if(f&&typeof f.length=="number")return{next:function(){return f&&y>=f.length&&(f=void 0),{value:f&&f[y++],done:!f}}};throw new TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")}function Sq(f,d){var m=typeof Symbol=="function"&&f[Symbol.iterator];if(!m)return f;var y=m.call(f),x,S=[],$;try{for(;(d===void 0||d-- >0)&&!(x=y.next()).done;)S.push(x.value)}catch(R){$={error:R}}finally{try{x&&!x.done&&(m=y.return)&&m.call(y)}finally{if($)throw $.error}}return S}function mse(){for(var f=[],d=0;d<arguments.length;d++)f=f.concat(Sq(arguments[d]));return f}function hse(){for(var f=0,d=0,m=arguments.length;d<m;d++)f+=arguments[d].length;for(var y=Array(f),x=0,d=0;d<m;d++)for(var S=arguments[d],$=0,R=S.length;$<R;$++,x++)y[x]=S[$];return y}function V(f,d,m){if(m||arguments.length===2)for(var y=0,x=d.length,S;y<x;y++)(S||!(y in d))&&(S||(S=Array.prototype.slice.call(d,0,y)),S[y]=d[y]);return f.concat(S||Array.prototype.slice.call(d))}function Jl(f){return this instanceof Jl?(this.v=f,this):new Jl(f)}function gse(f,d,m){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var y=m.apply(f,d||[]),x,S=[];return x={},$("next"),$("throw"),$("return"),x[Symbol.asyncIterator]=function(){return this},x;function $(j){y[j]&&(x[j]=function(J){return new Promise(function(_e,Le){S.push([j,J,_e,Le])>1||R(j,J)})})}function R(j,J){try{O(y[j](J))}catch(_e){Y(S[0][3],_e)}}function O(j){j.value instanceof Jl?Promise.resolve(j.value.v).then(N,B):Y(S[0][2],j)}function N(j){R("next",j)}function B(j){R("throw",j)}function Y(j,J){j(J),S.shift(),S.length&&R(S[0][0],S[0][1])}}function yse(f){var d,m;return d={},y("next"),y("throw",function(x){throw x}),y("return"),d[Symbol.iterator]=function(){return this},d;function y(x,S){d[x]=f[x]?function($){return(m=!m)?{value:Jl(f[x]($)),done:x==="return"}:S?S($):$}:S}}function vse(f){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var d=f[Symbol.asyncIterator],m;return d?d.call(f):(f=typeof Sk=="function"?Sk(f):f[Symbol.iterator](),m={},y("next"),y("throw"),y("return"),m[Symbol.asyncIterator]=function(){return this},m);function y(S){m[S]=f[S]&&function($){return new Promise(function(R,O){$=f[S]($),x(R,O,$.done,$.value)})}}function x(S,$,R,O){Promise.resolve(O).then(function(N){S({value:N,done:R})},$)}}function bse(f,d){return Object.defineProperty?Object.defineProperty(f,"raw",{value:d}):f.raw=d,f}var Eq=Object.create?function(f,d){Object.defineProperty(f,"default",{enumerable:!0,value:d})}:function(f,d){f.default=d};function _se(f){if(f&&f.__esModule)return f;var d={};if(f!=null)for(var m in f)m!=="default"&&Object.prototype.hasOwnProperty.call(f,m)&&xk(d,f,m);return Eq(d,f),d}function wse(f){return f&&f.__esModule?f:{default:f}}function xse(f,d,m,y){if(m==="a"&&!y)throw new TypeError("Private accessor was defined without a getter");if(typeof d=="function"?f!==d||!y:!d.has(f))throw new TypeError("Cannot read private member from an object whose class did not declare it");return m==="m"?y:m==="a"?y.call(f):y?y.value:d.get(f)}function Sse(f,d,m,y,x){if(y==="m")throw new TypeError("Private method is not writable");if(y==="a"&&!x)throw new TypeError("Private accessor was defined without a setter");if(typeof d=="function"?f!==d||!x:!d.has(f))throw new TypeError("Cannot write private member to an object whose class did not declare it");return y==="a"?x.call(f,m):x?x.value=m:d.set(f,m),m}function Ese(f,d){if(d===null||typeof d!="object"&&typeof d!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof f=="function"?d===f:f.has(d)}var kq=function(f){$y(d,f);function d(m,y,x){var S=f.call(this,m,y)||this;return S.iterator=x,S}return d.prototype.add=function(m){return this.iterator(m,this._result.length)?(this._result.push(m),!0):!1},d}(Qi);let Ek=kq;var Iq={dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],tokens:{SKIP:/^[ \r\n\t]+|^\.$/,number:/^[1-9][0-9]*/,numberAsText:/^(one|two|three)/i,every:/^every/i,"day(s)":/^days?/i,"weekday(s)":/^weekdays?/i,"week(s)":/^weeks?/i,"hour(s)":/^hours?/i,"minute(s)":/^minutes?/i,"month(s)":/^months?/i,"year(s)":/^years?/i,on:/^(on|in)/i,at:/^(at)/i,the:/^the/i,first:/^first/i,second:/^second/i,third:/^third/i,nth:/^([1-9][0-9]*)(\.|th|nd|rd|st)/i,last:/^last/i,for:/^for/i,"time(s)":/^times?/i,until:/^(un)?til/i,monday:/^mo(n(day)?)?/i,tuesday:/^tu(e(s(day)?)?)?/i,wednesday:/^we(d(n(esday)?)?)?/i,thursday:/^th(u(r(sday)?)?)?/i,friday:/^fr(i(day)?)?/i,saturday:/^sa(t(urday)?)?/i,sunday:/^su(n(day)?)?/i,january:/^jan(uary)?/i,february:/^feb(ruary)?/i,march:/^mar(ch)?/i,april:/^apr(il)?/i,may:/^may/i,june:/^june?/i,july:/^july?/i,august:/^aug(ust)?/i,september:/^sep(t(ember)?)?/i,october:/^oct(ober)?/i,november:/^nov(ember)?/i,december:/^dec(ember)?/i,comma:/^(,\s*|(and|or)\s*)+/i}};let Yl=Iq;var kk=function(f,d){return f.indexOf(d)!==-1},Tq=function(f){return f.toString()},$q=function(f,d,m){return"".concat(d," ").concat(m,", ").concat(f)},Rq=function(){function f(d,m,y,x){if(m===void 0&&(m=Tq),y===void 0&&(y=Yl),x===void 0&&(x=$q),this.text=[],this.language=y||Yl,this.gettext=m,this.dateFormatter=x,this.rrule=d,this.options=d.options,this.origOptions=d.origOptions,this.origOptions.bymonthday){var S=[].concat(this.options.bymonthday),$=[].concat(this.options.bynmonthday);S.sort(function(B,Y){return B-Y}),$.sort(function(B,Y){return Y-B}),this.bymonthday=S.concat($),this.bymonthday.length||(this.bymonthday=null)}if(n(this.origOptions.byweekday)){var R=a(this.origOptions.byweekday)?this.origOptions.byweekday:[this.origOptions.byweekday],O=String(R);this.byweekday={allWeeks:R.filter(function(B){return!B.n}),someWeeks:R.filter(function(B){return!!B.n}),isWeekdays:O.indexOf("MO")!==-1&&O.indexOf("TU")!==-1&&O.indexOf("WE")!==-1&&O.indexOf("TH")!==-1&&O.indexOf("FR")!==-1&&O.indexOf("SA")===-1&&O.indexOf("SU")===-1,isEveryDay:O.indexOf("MO")!==-1&&O.indexOf("TU")!==-1&&O.indexOf("WE")!==-1&&O.indexOf("TH")!==-1&&O.indexOf("FR")!==-1&&O.indexOf("SA")!==-1&&O.indexOf("SU")!==-1};var N=function(B,Y){return B.weekday-Y.weekday};this.byweekday.allWeeks.sort(N),this.byweekday.someWeeks.sort(N),this.byweekday.allWeeks.length||(this.byweekday.allWeeks=null),this.byweekday.someWeeks.length||(this.byweekday.someWeeks=null)}else this.byweekday=null}return f.isFullyConvertible=function(d){var m=!0;if(!(d.options.freq in f.IMPLEMENTED)||d.origOptions.until&&d.origOptions.count)return!1;for(var y in d.origOptions){if(kk(["dtstart","tzid","wkst","freq"],y))return!0;if(!kk(f.IMPLEMENTED[d.options.freq],y))return!1}return m},f.prototype.isFullyConvertible=function(){return f.isFullyConvertible(this.rrule)},f.prototype.toString=function(){var d=this.gettext;if(!(this.options.freq in f.IMPLEMENTED))return d("RRule error: Unable to fully convert this rrule to text");if(this.text=[d("every")],this[pe.FREQUENCIES[this.options.freq]](),this.options.until){this.add(d("until"));var m=this.options.until;this.add(this.dateFormatter(m.getUTCFullYear(),this.language.monthNames[m.getUTCMonth()],m.getUTCDate()))}else this.options.count&&this.add(d("for")).add(this.options.count.toString()).add(this.plural(this.options.count)?d("times"):d("time"));return this.isFullyConvertible()||this.add(d("(~ approximate)")),this.text.join("")},f.prototype.HOURLY=function(){var d=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?d("hours"):d("hour"))},f.prototype.MINUTELY=function(){var d=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?d("minutes"):d("minute"))},f.prototype.DAILY=function(){var d=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.byweekday&&this.byweekday.isWeekdays?this.add(this.plural(this.options.interval)?d("weekdays"):d("weekday")):this.add(this.plural(this.options.interval)?d("days"):d("day")),this.origOptions.bymonth&&(this.add(d("in")),this._bymonth()),this.bymonthday?this._bymonthday():this.byweekday?this._byweekday():this.origOptions.byhour&&this._byhour()},f.prototype.WEEKLY=function(){var d=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()).add(this.plural(this.options.interval)?d("weeks"):d("week")),this.byweekday&&this.byweekday.isWeekdays?this.options.interval===1?this.add(this.plural(this.options.interval)?d("weekdays"):d("weekday")):this.add(d("on")).add(d("weekdays")):this.byweekday&&this.byweekday.isEveryDay?this.add(this.plural(this.options.interval)?d("days"):d("day")):(this.options.interval===1&&this.add(d("week")),this.origOptions.bymonth&&(this.add(d("in")),this._bymonth()),this.bymonthday?this._bymonthday():this.byweekday&&this._byweekday(),this.origOptions.byhour&&this._byhour())},f.prototype.MONTHLY=function(){var d=this.gettext;this.origOptions.bymonth?(this.options.interval!==1&&(this.add(this.options.interval.toString()).add(d("months")),this.plural(this.options.interval)&&this.add(d("in"))),this._bymonth()):(this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?d("months"):d("month"))),this.bymonthday?this._bymonthday():this.byweekday&&this.byweekday.isWeekdays?this.add(d("on")).add(d("weekdays")):this.byweekday&&this._byweekday()},f.prototype.YEARLY=function(){var d=this.gettext;this.origOptions.bymonth?(this.options.interval!==1&&(this.add(this.options.interval.toString()),this.add(d("years"))),this._bymonth()):(this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?d("years"):d("year"))),this.bymonthday?this._bymonthday():this.byweekday&&this._byweekday(),this.options.byyearday&&this.add(d("on the")).add(this.list(this.options.byyearday,this.nth,d("and"))).add(d("day")),this.options.byweekno&&this.add(d("in")).add(this.plural(this.options.byweekno.length)?d("weeks"):d("week")).add(this.list(this.options.byweekno,void 0,d("and")))},f.prototype._bymonthday=function(){var d=this.gettext;this.byweekday&&this.byweekday.allWeeks?this.add(d("on")).add(this.list(this.byweekday.allWeeks,this.weekdaytext,d("or"))).add(d("the")).add(this.list(this.bymonthday,this.nth,d("or"))):this.add(d("on the")).add(this.list(this.bymonthday,this.nth,d("and")))},f.prototype._byweekday=function(){var d=this.gettext;this.byweekday.allWeeks&&!this.byweekday.isWeekdays&&this.add(d("on")).add(this.list(this.byweekday.allWeeks,this.weekdaytext)),this.byweekday.someWeeks&&(this.byweekday.allWeeks&&this.add(d("and")),this.add(d("on the")).add(this.list(this.byweekday.someWeeks,this.weekdaytext,d("and"))))},f.prototype._byhour=function(){var d=this.gettext;this.add(d("at")).add(this.list(this.origOptions.byhour,void 0,d("and")))},f.prototype._bymonth=function(){this.add(this.list(this.options.bymonth,this.monthtext,this.gettext("and")))},f.prototype.nth=function(d){d=parseInt(d.toString(),10);var m,y=this.gettext;if(d===-1)return y("last");var x=Math.abs(d);switch(x){case 1:case 21:case 31:m=x+y("st");break;case 2:case 22:m=x+y("nd");break;case 3:case 23:m=x+y("rd");break;default:m=x+y("th")}return d<0?m+" "+y("last"):m},f.prototype.monthtext=function(d){return this.language.monthNames[d-1]},f.prototype.weekdaytext=function(d){var m=i(d)?(d+1)%7:d.getJsWeekday();return(d.n?this.nth(d.n)+" ":"")+this.language.dayNames[m]},f.prototype.plural=function(d){return d%100!==1},f.prototype.add=function(d){return this.text.push(" "),this.text.push(d),this},f.prototype.list=function(d,m,y,x){var S=this;x===void 0&&(x=","),a(d)||(d=[d]);var $=function(O,N,B){for(var Y="",j=0;j<O.length;j++)j!==0&&(j===O.length-1?Y+=" "+B+" ":Y+=N+" "),Y+=O[j];return Y};m=m||function(O){return O.toString()};var R=function(O){return m&&m.call(S,O)};return y?$(d.map(R),x,y):d.map(R).join(x+" ")},f}();let jn=Rq;var Pq=function(){function f(d){this.done=!0,this.rules=d}return f.prototype.start=function(d){return this.text=d,this.done=!1,this.nextSymbol()},f.prototype.isDone=function(){return this.done&&this.symbol===null},f.prototype.nextSymbol=function(){var d,m;this.symbol=null,this.value=null;do{if(this.done)return!1;var y=void 0;d=null;for(var x in this.rules){y=this.rules[x];var S=y.exec(this.text);S&&(d===null||S[0].length>d[0].length)&&(d=S,m=x)}if(d!=null&&(this.text=this.text.substr(d[0].length),this.text===""&&(this.done=!0)),d==null){this.done=!0,this.symbol=null,this.value=null;return}}while(m==="SKIP");return this.symbol=m,this.value=d,!0},f.prototype.accept=function(d){if(this.symbol===d){if(this.value){var m=this.value;return this.nextSymbol(),m}return this.nextSymbol(),!0}return!1},f.prototype.acceptNumber=function(){return this.accept("number")},f.prototype.expect=function(d){if(this.accept(d))return!0;throw new Error("expected "+d+" but found "+this.symbol)},f}();function Ik(f,d){d===void 0&&(d=Yl);var m={},y=new Pq(d.tokens);if(!y.start(f))return null;return x(),m;function x(){y.expect("every");var j=y.acceptNumber();if(j&&(m.interval=parseInt(j[0],10)),y.isDone())throw new Error("Unexpected end");switch(y.symbol){case"day(s)":m.freq=pe.DAILY,y.nextSymbol()&&($(),Y());break;case"weekday(s)":m.freq=pe.WEEKLY,m.byweekday=[pe.MO,pe.TU,pe.WE,pe.TH,pe.FR],y.nextSymbol(),$(),Y();break;case"week(s)":m.freq=pe.WEEKLY,y.nextSymbol()&&(S(),$(),Y());break;case"hour(s)":m.freq=pe.HOURLY,y.nextSymbol()&&(S(),Y());break;case"minute(s)":m.freq=pe.MINUTELY,y.nextSymbol()&&(S(),Y());break;case"month(s)":m.freq=pe.MONTHLY,y.nextSymbol()&&(S(),Y());break;case"year(s)":m.freq=pe.YEARLY,y.nextSymbol()&&(S(),Y());break;case"monday":case"tuesday":case"wednesday":case"thursday":case"friday":case"saturday":case"sunday":m.freq=pe.WEEKLY;var J=y.symbol.substr(0,2).toUpperCase();if(m.byweekday=[pe[J]],!y.nextSymbol())return;for(;y.accept("comma");){if(y.isDone())throw new Error("Unexpected end");var _e=O();if(!_e)throw new Error("Unexpected symbol "+y.symbol+", expected weekday");m.byweekday.push(pe[_e]),y.nextSymbol()}$(),B(),Y();break;case"january":case"february":case"march":case"april":case"may":case"june":case"july":case"august":case"september":case"october":case"november":case"december":if(m.freq=pe.YEARLY,m.bymonth=[R()],!y.nextSymbol())return;for(;y.accept("comma");){if(y.isDone())throw new Error("Unexpected end");var Le=R();if(!Le)throw new Error("Unexpected symbol "+y.symbol+", expected month");m.bymonth.push(Le),y.nextSymbol()}S(),Y();break;default:throw new Error("Unknown symbol")}}function S(){var j=y.accept("on"),J=y.accept("the");if(j||J)do{var _e=N(),Le=O(),qe=R();if(_e)Le?(y.nextSymbol(),m.byweekday||(m.byweekday=[]),m.byweekday.push(pe[Le].nth(_e))):(m.bymonthday||(m.bymonthday=[]),m.bymonthday.push(_e),y.accept("day(s)"));else if(Le)y.nextSymbol(),m.byweekday||(m.byweekday=[]),m.byweekday.push(pe[Le]);else if(y.symbol==="weekday(s)")y.nextSymbol(),m.byweekday||(m.byweekday=[pe.MO,pe.TU,pe.WE,pe.TH,pe.FR]);else if(y.symbol==="week(s)"){y.nextSymbol();var at=y.acceptNumber();if(!at)throw new Error("Unexpected symbol "+y.symbol+", expected week number");for(m.byweekno=[parseInt(at[0],10)];y.accept("comma");){if(at=y.acceptNumber(),!at)throw new Error("Unexpected symbol "+y.symbol+"; expected monthday");m.byweekno.push(parseInt(at[0],10))}}else if(qe)y.nextSymbol(),m.bymonth||(m.bymonth=[]),m.bymonth.push(qe);else return}while(y.accept("comma")||y.accept("the")||y.accept("on"))}function $(){var j=y.accept("at");if(j)do{var J=y.acceptNumber();if(!J)throw new Error("Unexpected symbol "+y.symbol+", expected hour");for(m.byhour=[parseInt(J[0],10)];y.accept("comma");){if(J=y.acceptNumber(),!J)throw new Error("Unexpected symbol "+y.symbol+"; expected hour");m.byhour.push(parseInt(J[0],10))}}while(y.accept("comma")||y.accept("at"))}function R(){switch(y.symbol){case"january":return 1;case"february":return 2;case"march":return 3;case"april":return 4;case"may":return 5;case"june":return 6;case"july":return 7;case"august":return 8;case"september":return 9;case"october":return 10;case"november":return 11;case"december":return 12;default:return!1}}function O(){switch(y.symbol){case"monday":case"tuesday":case"wednesday":case"thursday":case"friday":case"saturday":case"sunday":return y.symbol.substr(0,2).toUpperCase();default:return!1}}function N(){switch(y.symbol){case"last":return y.nextSymbol(),-1;case"first":return y.nextSymbol(),1;case"second":return y.nextSymbol(),y.accept("last")?-2:2;case"third":return y.nextSymbol(),y.accept("last")?-3:3;case"nth":var j=parseInt(y.value[1],10);if(j<-366||j>366)throw new Error("Nth out of range: "+j);return y.nextSymbol(),y.accept("last")?-j:j;default:return!1}}function B(){y.accept("on"),y.accept("the");var j=N();if(j)for(m.bymonthday=[j],y.nextSymbol();y.accept("comma");){if(j=N(),!j)throw new Error("Unexpected symbol "+y.symbol+"; expected monthday");m.bymonthday.push(j),y.nextSymbol()}}function Y(){if(y.symbol==="until"){var j=Date.parse(y.text);if(!j)throw new Error("Cannot parse until date:"+y.text);m.until=new Date(j)}else y.accept("for")&&(m.count=parseInt(y.value[0],10),y.expect("number"))}}var je;(function(f){f[f.YEARLY=0]="YEARLY",f[f.MONTHLY=1]="MONTHLY",f[f.WEEKLY=2]="WEEKLY",f[f.DAILY=3]="DAILY",f[f.HOURLY=4]="HOURLY",f[f.MINUTELY=5]="MINUTELY",f[f.SECONDLY=6]="SECONDLY"})(je||(je={}));function Ry(f){return f<je.HOURLY}var Cq=function(f,d){return d===void 0&&(d=Yl),new pe(Ik(f,d)||void 0)},es=["count","until","interval","byweekday","bymonthday","bymonth"];jn.IMPLEMENTED=[],jn.IMPLEMENTED[je.HOURLY]=es,jn.IMPLEMENTED[je.MINUTELY]=es,jn.IMPLEMENTED[je.DAILY]=["byhour"].concat(es),jn.IMPLEMENTED[je.WEEKLY]=es,jn.IMPLEMENTED[je.MONTHLY]=es,jn.IMPLEMENTED[je.YEARLY]=["byweekno","byyearday"].concat(es);var Aq=function(f,d,m,y){return new jn(f,d,m,y).toString()},Oq=jn.isFullyConvertible,Xl=function(){function f(d,m,y,x){this.hour=d,this.minute=m,this.second=y,this.millisecond=x||0}return f.prototype.getHours=function(){return this.hour},f.prototype.getMinutes=function(){return this.minute},f.prototype.getSeconds=function(){return this.second},f.prototype.getMilliseconds=function(){return this.millisecond},f.prototype.getTime=function(){return(this.hour*60*60+this.minute*60+this.second)*1e3+this.millisecond},f}(),Nq=function(f){$y(d,f);function d(m,y,x,S,$,R,O){var N=f.call(this,S,$,R,O)||this;return N.year=m,N.month=y,N.day=x,N}return d.fromDate=function(m){return new this(m.getUTCFullYear(),m.getUTCMonth()+1,m.getUTCDate(),m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds(),m.valueOf()%1e3)},d.prototype.getWeekday=function(){return tt(new Date(this.getTime()))},d.prototype.getTime=function(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond)).getTime()},d.prototype.getDay=function(){return this.day},d.prototype.getMonth=function(){return this.month},d.prototype.getYear=function(){return this.year},d.prototype.addYears=function(m){this.year+=m},d.prototype.addMonths=function(m){if(this.month+=m,this.month>12){var y=Math.floor(this.month/12),x=h(this.month,12);this.month=x,this.year+=y,this.month===0&&(this.month=12,--this.year)}},d.prototype.addWeekly=function(m,y){y>this.getWeekday()?this.day+=-(this.getWeekday()+1+(6-y))+m*7:this.day+=-(this.getWeekday()-y)+m*7,this.fixDay()},d.prototype.addDaily=function(m){this.day+=m,this.fixDay()},d.prototype.addHours=function(m,y,x){for(y&&(this.hour+=Math.floor((23-this.hour)/m)*m);;){this.hour+=m;var S=b(this.hour,24),$=S.div,R=S.mod;if($&&(this.hour=R,this.addDaily($)),_(x)||T(x,this.hour))break}},d.prototype.addMinutes=function(m,y,x,S){for(y&&(this.minute+=Math.floor((1439-(this.hour*60+this.minute))/m)*m);;){this.minute+=m;var $=b(this.minute,60),R=$.div,O=$.mod;if(R&&(this.minute=O,this.addHours(R,!1,x)),(_(x)||T(x,this.hour))&&(_(S)||T(S,this.minute)))break}},d.prototype.addSeconds=function(m,y,x,S,$){for(y&&(this.second+=Math.floor((86399-(this.hour*3600+this.minute*60+this.second))/m)*m);;){this.second+=m;var R=b(this.second,60),O=R.div,N=R.mod;if(O&&(this.second=N,this.addMinutes(O,!1,x,S)),(_(x)||T(x,this.hour))&&(_(S)||T(S,this.minute))&&(_($)||T($,this.second)))break}},d.prototype.fixDay=function(){if(!(this.day<=28)){var m=Kl(this.year,this.month-1)[1];if(!(this.day<=m))for(;this.day>m;){if(this.day-=m,++this.month,this.month===13&&(this.month=1,++this.year,this.year>ge))return;m=Kl(this.year,this.month-1)[1]}}},d.prototype.add=function(m,y){var x=m.freq,S=m.interval,$=m.wkst,R=m.byhour,O=m.byminute,N=m.bysecond;switch(x){case je.YEARLY:return this.addYears(S);case je.MONTHLY:return this.addMonths(S);case je.WEEKLY:return this.addWeekly(S,$);case je.DAILY:return this.addDaily(S);case je.HOURLY:return this.addHours(S,y,R);case je.MINUTELY:return this.addMinutes(S,y,R,O);case je.SECONDLY:return this.addSeconds(S,y,R,O,N)}},d}(Xl);function Tk(f){for(var d=[],m=Object.keys(f),y=0,x=m;y<x.length;y++){var S=x[y];T(d4,S)||d.push(S),rt(f[S])&&!Ce(f[S])&&d.push(S)}if(d.length)throw new Error("Invalid options: "+d.join(", "));return wr({},f)}function Dq(f){var d=wr(wr({},Ay),Tk(f));if(n(d.byeaster)&&(d.freq=pe.YEARLY),!(n(d.freq)&&pe.FREQUENCIES[d.freq]))throw new Error("Invalid frequency: ".concat(d.freq," ").concat(f.freq));if(d.dtstart||(d.dtstart=new Date(new Date().setMilliseconds(0))),n(d.wkst)?i(d.wkst)||(d.wkst=d.wkst.weekday):d.wkst=pe.MO.weekday,n(d.bysetpos)){i(d.bysetpos)&&(d.bysetpos=[d.bysetpos]);for(var m=0;m<d.bysetpos.length;m++){var y=d.bysetpos[m];if(y===0||!(y>=-366&&y<=366))throw new Error("bysetpos must be between 1 and 366, or between -366 and -1")}}if(!(d.byweekno||w(d.byweekno)||w(d.byyearday)||d.bymonthday||w(d.bymonthday)||n(d.byweekday)||n(d.byeaster)))switch(d.freq){case pe.YEARLY:d.bymonth||(d.bymonth=d.dtstart.getUTCMonth()+1),d.bymonthday=d.dtstart.getUTCDate();break;case pe.MONTHLY:d.bymonthday=d.dtstart.getUTCDate();break;case pe.WEEKLY:d.byweekday=[tt(d.dtstart)];break}if(n(d.bymonth)&&!a(d.bymonth)&&(d.bymonth=[d.bymonth]),n(d.byyearday)&&!a(d.byyearday)&&i(d.byyearday)&&(d.byyearday=[d.byyearday]),!n(d.bymonthday))d.bymonthday=[],d.bynmonthday=[];else if(a(d.bymonthday)){for(var x=[],S=[],m=0;m<d.bymonthday.length;m++){var y=d.bymonthday[m];y>0?x.push(y):y<0&&S.push(y)}d.bymonthday=x,d.bynmonthday=S}else d.bymonthday<0?(d.bynmonthday=[d.bymonthday],d.bymonthday=[]):(d.bynmonthday=[],d.bymonthday=[d.bymonthday]);if(n(d.byweekno)&&!a(d.byweekno)&&(d.byweekno=[d.byweekno]),!n(d.byweekday))d.bynweekday=null;else if(i(d.byweekday))d.byweekday=[d.byweekday],d.bynweekday=null;else if(s(d.byweekday))d.byweekday=[o.fromStr(d.byweekday).weekday],d.bynweekday=null;else if(d.byweekday instanceof o)!d.byweekday.n||d.freq>pe.MONTHLY?(d.byweekday=[d.byweekday.weekday],d.bynweekday=null):(d.bynweekday=[[d.byweekday.weekday,d.byweekday.n]],d.byweekday=null);else{for(var $=[],R=[],m=0;m<d.byweekday.length;m++){var O=d.byweekday[m];if(i(O)){$.push(O);continue}else if(s(O)){$.push(o.fromStr(O).weekday);continue}!O.n||d.freq>pe.MONTHLY?$.push(O.weekday):R.push([O.weekday,O.n])}d.byweekday=w($)?$:null,d.bynweekday=w(R)?R:null}return n(d.byhour)?i(d.byhour)&&(d.byhour=[d.byhour]):d.byhour=d.freq<pe.HOURLY?[d.dtstart.getUTCHours()]:null,n(d.byminute)?i(d.byminute)&&(d.byminute=[d.byminute]):d.byminute=d.freq<pe.MINUTELY?[d.dtstart.getUTCMinutes()]:null,n(d.bysecond)?i(d.bysecond)&&(d.bysecond=[d.bysecond]):d.bysecond=d.freq<pe.SECONDLY?[d.dtstart.getUTCSeconds()]:null,{parsedOptions:d}}function Mq(f){var d=f.dtstart.getTime()%1e3;if(!Ry(f.freq))return[];var m=[];return f.byhour.forEach(function(y){f.byminute.forEach(function(x){f.bysecond.forEach(function(S){m.push(new Xl(y,x,S,d))})})}),m}function Py(f){var d=f.split(`
`).map(zq).filter(function(m){return m!==null});return wr(wr({},d[0]),d[1])}function Ql(f){var d={},m=/DTSTART(?:;TZID=([^:=]+?))?(?::|=)([^;\s]+)/i.exec(f);if(!m)return d;var y=m[1],x=m[2];return y&&(d.tzid=y),d.dtstart=Iy(x),d}function zq(f){if(f=f.replace(/^\s+|\s+$/,""),!f.length)return null;var d=/^([A-Z]+?)[:;]/.exec(f.toUpperCase());if(!d)return $k(f);var m=d[1];switch(m.toUpperCase()){case"RRULE":case"EXRULE":return $k(f);case"DTSTART":return Ql(f);default:throw new Error("Unsupported RFC prop ".concat(m," in ").concat(f))}}function $k(f){var d=f.replace(/^RRULE:/i,""),m=Ql(d),y=f.replace(/^(?:RRULE|EXRULE):/i,"").split(";");return y.forEach(function(x){var S=x.split("="),$=S[0],R=S[1];switch($.toUpperCase()){case"FREQ":m.freq=je[R.toUpperCase()];break;case"WKST":m.wkst=Vr[R.toUpperCase()];break;case"COUNT":case"INTERVAL":case"BYSETPOS":case"BYMONTH":case"BYMONTHDAY":case"BYYEARDAY":case"BYWEEKNO":case"BYHOUR":case"BYMINUTE":case"BYSECOND":var O=jq(R),N=$.toLowerCase();m[N]=O;break;case"BYWEEKDAY":case"BYDAY":m.byweekday=Lq(R);break;case"DTSTART":case"TZID":var B=Ql(f);m.tzid=B.tzid,m.dtstart=B.dtstart;break;case"UNTIL":m.until=Iy(R);break;case"BYEASTER":m.byeaster=Number(R);break;default:throw new Error("Unknown RRULE property '"+$+"'")}}),m}function jq(f){if(f.indexOf(",")!==-1){var d=f.split(",");return d.map(Rk)}return Rk(f)}function Rk(f){return/^[+-]?\d+$/.test(f)?Number(f):f}function Lq(f){var d=f.split(",");return d.map(function(m){if(m.length===2)return Vr[m];var y=m.match(/^([+-]?\d{1,2})([A-Z]{2})$/);if(!y||y.length<3)throw new SyntaxError("Invalid weekday string: ".concat(m));var x=Number(y[1]),S=y[2],$=Vr[S].weekday;return new o($,x)})}var ed=function(){function f(d,m){if(isNaN(d.getTime()))throw new RangeError("Invalid date passed to DateWithZone");this.date=d,this.tzid=m}return Object.defineProperty(f.prototype,"isUTC",{get:function(){return!this.tzid||this.tzid.toUpperCase()==="UTC"},enumerable:!1,configurable:!0}),f.prototype.toString=function(){var d=ky(this.date.getTime(),this.isUTC);return this.isUTC?":".concat(d):";TZID=".concat(this.tzid,":").concat(d)},f.prototype.getTime=function(){return this.date.getTime()},f.prototype.rezonedDate=function(){return this.isUTC?this.date:wq(this.date,this.tzid)},f}();function Cy(f){for(var d=[],m="",y=Object.keys(f),x=Object.keys(Ay),S=0;S<y.length;S++)if(y[S]!=="tzid"&&T(x,y[S])){var $=y[S].toUpperCase(),R=f[y[S]],O="";if(!(!n(R)||a(R)&&!R.length)){switch($){case"FREQ":O=pe.FREQUENCIES[f.freq];break;case"WKST":i(R)?O=new o(R).toString():O=R.toString();break;case"BYWEEKDAY":$="BYDAY",O=p(R).map(function(J){return J instanceof o?J:a(J)?new o(J[0],J[1]):new o(J)}).toString();break;case"DTSTART":m=Uq(R,f.tzid);break;case"UNTIL":O=ky(R,!f.tzid);break;default:if(a(R)){for(var N=[],B=0;B<R.length;B++)N[B]=String(R[B]);O=N.toString()}else O=String(R)}O&&d.push([$,O])}}var Y=d.map(function(J){var _e=J[0],Le=J[1];return"".concat(_e,"=").concat(Le.toString())}).join(";"),j="";return Y!==""&&(j="RRULE:".concat(Y)),[m,j].filter(function(J){return!!J}).join(`
`)}function Uq(f,d){return f?"DTSTART"+new ed(new Date(f),d).toString():""}function Fq(f,d){return Array.isArray(f)?!Array.isArray(d)||f.length!==d.length?!1:f.every(function(m,y){return m.getTime()===d[y].getTime()}):f instanceof Date?d instanceof Date&&f.getTime()===d.getTime():f===d}var qq=function(){function f(){this.all=!1,this.before=[],this.after=[],this.between=[]}return f.prototype._cacheAdd=function(d,m,y){m&&(m=m instanceof Date?Ey(m):_k(m)),d==="all"?this.all=m:(y._value=m,this[d].push(y))},f.prototype._cacheGet=function(d,m){var y=!1,x=m?Object.keys(m):[],S=function(B){for(var Y=0;Y<x.length;Y++){var j=x[Y];if(!Fq(m[j],B[j]))return!0}return!1},$=this[d];if(d==="all")y=this.all;else if(a($))for(var R=0;R<$.length;R++){var O=$[R];if(!(x.length&&S(O))){y=O._value;break}}if(!y&&this.all){for(var N=new Qi(d,m),R=0;R<this.all.length&&N.accept(this.all[R]);R++);y=N.getValue(),this._cacheAdd(d,y,m)}return a(y)?_k(y):y instanceof Date?Ey(y):y},f}(),Wq=V(V(V(V(V(V(V(V(V(V(V(V(V([],l(1,31),!0),l(2,28),!0),l(3,31),!0),l(4,30),!0),l(5,31),!0),l(6,30),!0),l(7,31),!0),l(8,31),!0),l(9,30),!0),l(10,31),!0),l(11,30),!0),l(12,31),!0),l(1,7),!0),Zq=V(V(V(V(V(V(V(V(V(V(V(V(V([],l(1,31),!0),l(2,29),!0),l(3,31),!0),l(4,30),!0),l(5,31),!0),l(6,30),!0),l(7,31),!0),l(8,31),!0),l(9,30),!0),l(10,31),!0),l(11,30),!0),l(12,31),!0),l(1,7),!0),Bq=c(1,29),Hq=c(1,30),so=c(1,31),Ut=c(1,32),Vq=V(V(V(V(V(V(V(V(V(V(V(V(V([],Ut,!0),Hq,!0),Ut,!0),so,!0),Ut,!0),so,!0),Ut,!0),Ut,!0),so,!0),Ut,!0),so,!0),Ut,!0),Ut.slice(0,7),!0),Gq=V(V(V(V(V(V(V(V(V(V(V(V(V([],Ut,!0),Bq,!0),Ut,!0),so,!0),Ut,!0),so,!0),Ut,!0),Ut,!0),so,!0),Ut,!0),so,!0),Ut,!0),Ut.slice(0,7),!0),Kq=c(-28,0),Jq=c(-29,0),ao=c(-30,0),Ft=c(-31,0),Yq=V(V(V(V(V(V(V(V(V(V(V(V(V([],Ft,!0),Jq,!0),Ft,!0),ao,!0),Ft,!0),ao,!0),Ft,!0),Ft,!0),ao,!0),Ft,!0),ao,!0),Ft,!0),Ft.slice(0,7),!0),Xq=V(V(V(V(V(V(V(V(V(V(V(V(V([],Ft,!0),Kq,!0),Ft,!0),ao,!0),Ft,!0),ao,!0),Ft,!0),Ft,!0),ao,!0),Ft,!0),ao,!0),Ft,!0),Ft.slice(0,7),!0),Qq=[0,31,60,91,121,152,182,213,244,274,305,335,366],e4=[0,31,59,90,120,151,181,212,243,273,304,334,365],Pk=function(){for(var f=[],d=0;d<55;d++)f=f.concat(c(7));return f}();function t4(f,d){var m=P(f,1,1),y=$e(f)?366:365,x=$e(f+1)?366:365,S=At(m),$=tt(m),R=wr(wr({yearlen:y,nextyearlen:x,yearordinal:S,yearweekday:$},r4(f)),{wnomask:null});if(_(d.byweekno))return R;R.wnomask=l(0,y+7);var O,N,B=O=h(7-$+d.wkst,7);B>=4?(B=0,N=R.yearlen+h($-d.wkst,7)):N=y-B;for(var Y=Math.floor(N/7),j=h(N,7),J=Math.floor(Y+j/4),_e=0;_e<d.byweekno.length;_e++){var Le=d.byweekno[_e];if(Le<0&&(Le+=J+1),Le>0&&Le<=J){var qe=void 0;Le>1?(qe=B+(Le-1)*7,B!==O&&(qe-=7-O)):qe=B;for(var at=0;at<7&&(R.wnomask[qe]=1,qe++,R.wdaymask[qe]!==d.wkst);at++);}}if(T(d.byweekno,1)){var qe=B+J*7;if(B!==O&&(qe-=7-O),qe<y)for(var _e=0;_e<7&&(R.wnomask[qe]=1,qe+=1,R.wdaymask[qe]!==d.wkst);_e++);}if(B){var Gr=void 0;if(T(d.byweekno,-1))Gr=-1;else{var ts=tt(P(f-1,1,1)),rc=h(7-ts.valueOf()+d.wkst,7),Dy=$e(f-1)?366:365,ti=void 0;rc>=4?(rc=0,ti=Dy+h(ts-d.wkst,7)):ti=y-B,Gr=Math.floor(52+h(ti,7)/4)}if(T(d.byweekno,Gr))for(var qe=0;qe<B;qe++)R.wnomask[qe]=1}return R}function r4(f){var d=$e(f)?366:365,m=P(f,1,1),y=tt(m);return d===365?{mmask:Wq,mdaymask:Gq,nmdaymask:Xq,wdaymask:Pk.slice(y),mrange:e4}:{mmask:Zq,mdaymask:Vq,nmdaymask:Yq,wdaymask:Pk.slice(y),mrange:Qq}}function n4(f,d,m,y,x,S){var $={lastyear:f,lastmonth:d,nwdaymask:[]},R=[];if(S.freq===pe.YEARLY)if(_(S.bymonth))R=[[0,m]];else for(var O=0;O<S.bymonth.length;O++)d=S.bymonth[O],R.push(y.slice(d-1,d+1));else S.freq===pe.MONTHLY&&(R=[y.slice(d-1,d+1)]);if(_(R))return $;$.nwdaymask=l(0,m);for(var O=0;O<R.length;O++)for(var N=R[O],B=N[0],Y=N[1]-1,j=0;j<S.bynweekday.length;j++){var J=void 0,_e=S.bynweekday[j],Le=_e[0],qe=_e[1];qe<0?(J=Y+(qe+1)*7,J-=h(x[J]-Le,7)):(J=B+(qe-1)*7,J+=h(7-x[J]+Le,7)),B<=J&&J<=Y&&($.nwdaymask[J]=1)}return $}function o4(f,d){d===void 0&&(d=0);var m=f%19,y=Math.floor(f/100),x=f%100,S=Math.floor(y/4),$=y%4,R=Math.floor((y+8)/25),O=Math.floor((y-R+1)/3),N=Math.floor(19*m+y-S-O+15)%30,B=Math.floor(x/4),Y=x%4,j=Math.floor(32+2*$+2*B-N-Y)%7,J=Math.floor((m+11*N+22*j)/451),_e=Math.floor((N+j-7*J+114)/31),Le=(N+j-7*J+114)%31+1,qe=Date.UTC(f,_e-1,Le+d),at=Date.UTC(f,0,1);return[Math.ceil((qe-at)/(1e3*60*60*24))]}var i4=function(){function f(d){this.options=d}return f.prototype.rebuild=function(d,m){var y=this.options;if(d!==this.lastyear&&(this.yearinfo=t4(d,y)),w(y.bynweekday)&&(m!==this.lastmonth||d!==this.lastyear)){var x=this.yearinfo,S=x.yearlen,$=x.mrange,R=x.wdaymask;this.monthinfo=n4(d,m,S,$,R,y)}n(y.byeaster)&&(this.eastermask=o4(d,y.byeaster))},Object.defineProperty(f.prototype,"lastyear",{get:function(){return this.monthinfo?this.monthinfo.lastyear:null},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"lastmonth",{get:function(){return this.monthinfo?this.monthinfo.lastmonth:null},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"yearlen",{get:function(){return this.yearinfo.yearlen},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"yearordinal",{get:function(){return this.yearinfo.yearordinal},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"mrange",{get:function(){return this.yearinfo.mrange},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"wdaymask",{get:function(){return this.yearinfo.wdaymask},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"mmask",{get:function(){return this.yearinfo.mmask},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"wnomask",{get:function(){return this.yearinfo.wnomask},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"nwdaymask",{get:function(){return this.monthinfo?this.monthinfo.nwdaymask:[]},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"nextyearlen",{get:function(){return this.yearinfo.nextyearlen},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"mdaymask",{get:function(){return this.yearinfo.mdaymask},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"nmdaymask",{get:function(){return this.yearinfo.nmdaymask},enumerable:!1,configurable:!0}),f.prototype.ydayset=function(){return[c(this.yearlen),0,this.yearlen]},f.prototype.mdayset=function(d,m){for(var y=this.mrange[m-1],x=this.mrange[m],S=l(null,this.yearlen),$=y;$<x;$++)S[$]=$;return[S,y,x]},f.prototype.wdayset=function(d,m,y){for(var x=l(null,this.yearlen+7),S=At(P(d,m,y))-this.yearordinal,$=S,R=0;R<7&&(x[S]=S,++S,this.wdaymask[S]!==this.options.wkst);R++);return[x,$,S]},f.prototype.ddayset=function(d,m,y){var x=l(null,this.yearlen),S=At(P(d,m,y))-this.yearordinal;return x[S]=S,[x,S,S+1]},f.prototype.htimeset=function(d,m,y,x){var S=this,$=[];return this.options.byminute.forEach(function(R){$=$.concat(S.mtimeset(d,R,y,x))}),tc($),$},f.prototype.mtimeset=function(d,m,y,x){var S=this.options.bysecond.map(function($){return new Xl(d,m,$,x)});return tc(S),S},f.prototype.stimeset=function(d,m,y,x){return[new Xl(d,m,y,x)]},f.prototype.getdayset=function(d){switch(d){case je.YEARLY:return this.ydayset.bind(this);case je.MONTHLY:return this.mdayset.bind(this);case je.WEEKLY:return this.wdayset.bind(this);case je.DAILY:return this.ddayset.bind(this);default:return this.ddayset.bind(this)}},f.prototype.gettimeset=function(d){switch(d){case je.HOURLY:return this.htimeset.bind(this);case je.MINUTELY:return this.mtimeset.bind(this);case je.SECONDLY:return this.stimeset.bind(this)}},f}();let s4=i4;function a4(f,d,m,y,x,S){for(var $=[],R=0;R<f.length;R++){var O=void 0,N=void 0,B=f[R];B<0?(O=Math.floor(B/d.length),N=h(B,d.length)):(O=Math.floor((B-1)/d.length),N=h(B-1,d.length));for(var Y=[],j=m;j<y;j++){var J=S[j];n(J)&&Y.push(J)}var _e=void 0;O<0?_e=Y.slice(O)[0]:_e=Y[O];var Le=d[N],qe=Me(x.yearordinal+_e),at=Xi(qe,Le);T($,at)||$.push(at)}return tc($),$}function Ck(f,d){var m=d.dtstart,y=d.freq,x=d.interval,S=d.until,$=d.bysetpos,R=d.count;if(R===0||x===0)return Ln(f);var O=Nq.fromDate(m),N=new s4(d);N.rebuild(O.year,O.month);for(var B=l4(N,O,d);;){var Y=N.getdayset(y)(O.year,O.month,O.day),j=Y[0],J=Y[1],_e=Y[2],Le=u4(j,J,_e,N,d);if(w($))for(var qe=a4($,B,J,_e,N,j),at=0;at<qe.length;at++){var Gr=qe[at];if(S&&Gr>S)return Ln(f);if(Gr>=m){var ts=Ak(Gr,d);if(!f.accept(ts)||R&&(--R,!R))return Ln(f)}}else for(var at=J;at<_e;at++){var rc=j[at];if(n(rc))for(var Dy=Me(N.yearordinal+rc),ti=0;ti<B.length;ti++){var _4=B[ti],Gr=Xi(Dy,_4);if(S&&Gr>S)return Ln(f);if(Gr>=m){var ts=Ak(Gr,d);if(!f.accept(ts)||R&&(--R,!R))return Ln(f)}}}if(d.interval===0||(O.add(d,Le),O.year>ge))return Ln(f);Ry(y)||(B=N.gettimeset(y)(O.hour,O.minute,O.second,0)),N.rebuild(O.year,O.month)}}function c4(f,d,m){var y=m.bymonth,x=m.byweekno,S=m.byweekday,$=m.byeaster,R=m.bymonthday,O=m.bynmonthday,N=m.byyearday;return w(y)&&!T(y,f.mmask[d])||w(x)&&!f.wnomask[d]||w(S)&&!T(S,f.wdaymask[d])||w(f.nwdaymask)&&!f.nwdaymask[d]||$!==null&&!T(f.eastermask,d)||(w(R)||w(O))&&!T(R,f.mdaymask[d])&&!T(O,f.nmdaymask[d])||w(N)&&(d<f.yearlen&&!T(N,d+1)&&!T(N,-f.yearlen+d)||d>=f.yearlen&&!T(N,d+1-f.yearlen)&&!T(N,-f.nextyearlen+d-f.yearlen))}function Ak(f,d){return new ed(f,d.tzid).rezonedDate()}function Ln(f){return f.getValue()}function u4(f,d,m,y,x){for(var S=!1,$=d;$<m;$++){var R=f[$];S=c4(y,R,x),S&&(f[R]=null)}return S}function l4(f,d,m){var y=m.freq,x=m.byhour,S=m.byminute,$=m.bysecond;return Ry(y)?Mq(m):y>=pe.HOURLY&&w(x)&&!T(x,d.hour)||y>=pe.MINUTELY&&w(S)&&!T(S,d.minute)||y>=pe.SECONDLY&&w($)&&!T($,d.second)?[]:f.gettimeset(y)(d.hour,d.minute,d.second,d.millisecond)}var Vr={MO:new o(0),TU:new o(1),WE:new o(2),TH:new o(3),FR:new o(4),SA:new o(5),SU:new o(6)},Ay={freq:je.YEARLY,dtstart:null,interval:1,wkst:Vr.MO,count:null,until:null,tzid:null,bysetpos:null,bymonth:null,bymonthday:null,bynmonthday:null,byyearday:null,byweekno:null,byweekday:null,bynweekday:null,byhour:null,byminute:null,bysecond:null,byeaster:null},d4=Object.keys(Ay),pe=function(){function f(d,m){d===void 0&&(d={}),m===void 0&&(m=!1),this._cache=m?null:new qq,this.origOptions=Tk(d);var y=Dq(d).parsedOptions;this.options=y}return f.parseText=function(d,m){return Ik(d,m)},f.fromText=function(d,m){return Cq(d,m)},f.fromString=function(d){return new f(f.parseString(d)||void 0)},f.prototype._iter=function(d){return Ck(d,this.options)},f.prototype._cacheGet=function(d,m){return this._cache?this._cache._cacheGet(d,m):!1},f.prototype._cacheAdd=function(d,m,y){if(this._cache)return this._cache._cacheAdd(d,m,y)},f.prototype.all=function(d){if(d)return this._iter(new Ek("all",{},d));var m=this._cacheGet("all");return m===!1&&(m=this._iter(new Qi("all",{})),this._cacheAdd("all",m)),m},f.prototype.between=function(d,m,y,x){if(y===void 0&&(y=!1),!Ce(d)||!Ce(m))throw new Error("Invalid date passed in to RRule.between");var S={before:m,after:d,inc:y};if(x)return this._iter(new Ek("between",S,x));var $=this._cacheGet("between",S);return $===!1&&($=this._iter(new Qi("between",S)),this._cacheAdd("between",$,S)),$},f.prototype.before=function(d,m){if(m===void 0&&(m=!1),!Ce(d))throw new Error("Invalid date passed in to RRule.before");var y={dt:d,inc:m},x=this._cacheGet("before",y);return x===!1&&(x=this._iter(new Qi("before",y)),this._cacheAdd("before",x,y)),x},f.prototype.after=function(d,m){if(m===void 0&&(m=!1),!Ce(d))throw new Error("Invalid date passed in to RRule.after");var y={dt:d,inc:m},x=this._cacheGet("after",y);return x===!1&&(x=this._iter(new Qi("after",y)),this._cacheAdd("after",x,y)),x},f.prototype.count=function(){return this.all().length},f.prototype.toString=function(){return Cy(this.origOptions)},f.prototype.toText=function(d,m,y){return Aq(this,d,m,y)},f.prototype.isFullyConvertibleToText=function(){return Oq(this)},f.prototype.clone=function(){return new f(this.origOptions)},f.FREQUENCIES=["YEARLY","MONTHLY","WEEKLY","DAILY","HOURLY","MINUTELY","SECONDLY"],f.YEARLY=je.YEARLY,f.MONTHLY=je.MONTHLY,f.WEEKLY=je.WEEKLY,f.DAILY=je.DAILY,f.HOURLY=je.HOURLY,f.MINUTELY=je.MINUTELY,f.SECONDLY=je.SECONDLY,f.MO=Vr.MO,f.TU=Vr.TU,f.WE=Vr.WE,f.TH=Vr.TH,f.FR=Vr.FR,f.SA=Vr.SA,f.SU=Vr.SU,f.parseString=Py,f.optionsToString=Cy,f}();function p4(f,d,m,y,x,S){var $={},R=f.accept;function O(j,J){m.forEach(function(_e){_e.between(j,J,!0).forEach(function(Le){$[Number(Le)]=!0})})}x.forEach(function(j){var J=new ed(j,S).rezonedDate();$[Number(J)]=!0}),f.accept=function(j){var J=Number(j);return isNaN(J)?R.call(this,j):!$[J]&&(O(new Date(J-1),new Date(J+1)),!$[J])?($[J]=!0,R.call(this,j)):!0},f.method==="between"&&(O(f.args.after,f.args.before),f.accept=function(j){var J=Number(j);return $[J]?!0:($[J]=!0,R.call(this,j))});for(var N=0;N<y.length;N++){var B=new ed(y[N],S).rezonedDate();if(!f.accept(new Date(B.getTime())))break}d.forEach(function(j){Ck(f,j.options)});var Y=f._result;switch(tc(Y),f.method){case"all":case"between":return Y;case"before":return Y.length&&Y[Y.length-1]||null;case"after":default:return Y.length&&Y[0]||null}}var Ok={dtstart:null,cache:!1,unfold:!1,forceset:!1,compatible:!1,tzid:null};function f4(f,d){var m=[],y=[],x=[],S=[],$=Ql(f),R=$.dtstart,O=$.tzid,N=v4(f,d.unfold);return N.forEach(function(B){var Y;if(B){var j=y4(B),J=j.name,_e=j.parms,Le=j.value;switch(J.toUpperCase()){case"RRULE":if(_e.length)throw new Error("unsupported RRULE parm: ".concat(_e.join(",")));m.push(Py(B));break;case"RDATE":var qe=(Y=/RDATE(?:;TZID=([^:=]+))?/i.exec(B))!==null&&Y!==void 0?Y:[],at=qe[1];at&&!O&&(O=at),y=y.concat(Nk(Le,_e));break;case"EXRULE":if(_e.length)throw new Error("unsupported EXRULE parm: ".concat(_e.join(",")));x.push(Py(Le));break;case"EXDATE":S=S.concat(Nk(Le,_e));break;case"DTSTART":break;default:throw new Error("unsupported property: "+J)}}}),{dtstart:R,tzid:O,rrulevals:m,rdatevals:y,exrulevals:x,exdatevals:S}}function m4(f,d){var m=f4(f,d),y=m.rrulevals,x=m.rdatevals,S=m.exrulevals,$=m.exdatevals,R=m.dtstart,O=m.tzid,N=d.cache===!1;if(d.compatible&&(d.forceset=!0,d.unfold=!0),d.forceset||y.length>1||x.length||S.length||$.length){var B=new Mk(N);return B.dtstart(R),B.tzid(O||void 0),y.forEach(function(j){B.rrule(new pe(Ny(j,R,O),N))}),x.forEach(function(j){B.rdate(j)}),S.forEach(function(j){B.exrule(new pe(Ny(j,R,O),N))}),$.forEach(function(j){B.exdate(j)}),d.compatible&&d.dtstart&&B.rdate(R),B}var Y=y[0]||{};return new pe(Ny(Y,Y.dtstart||d.dtstart||R,Y.tzid||d.tzid||O),N)}function Oy(f,d){return d===void 0&&(d={}),m4(f,h4(d))}function Ny(f,d,m){return wr(wr({},f),{dtstart:d,tzid:m})}function h4(f){var d=[],m=Object.keys(f),y=Object.keys(Ok);if(m.forEach(function(x){T(y,x)||d.push(x)}),d.length)throw new Error("Invalid options: "+d.join(", "));return wr(wr({},Ok),f)}function g4(f){if(f.indexOf(":")===-1)return{name:"RRULE",value:f};var d=v(f,":",1),m=d[0],y=d[1];return{name:m,value:y}}function y4(f){var d=g4(f),m=d.name,y=d.value,x=m.split(";");if(!x)throw new Error("empty property name");return{name:x[0].toUpperCase(),parms:x.slice(1),value:y}}function v4(f,d){if(d===void 0&&(d=!1),f=f&&f.trim(),!f)throw new Error("Invalid empty string");if(!d)return f.split(/\s/);for(var m=f.split(`
`),y=0;y<m.length;){var x=m[y]=m[y].replace(/\s+$/g,"");x?y>0&&x[0]===" "?(m[y-1]+=x.slice(1),m.splice(y,1)):y+=1:m.splice(y,1)}return m}function b4(f){f.forEach(function(d){if(!/(VALUE=DATE(-TIME)?)|(TZID=)/.test(d))throw new Error("unsupported RDATE/EXDATE parm: "+d)})}function Nk(f,d){return b4(d),f.split(",").map(function(m){return Iy(m)})}function Dk(f){var d=this;return function(m){if(m!==void 0&&(d["_".concat(f)]=m),d["_".concat(f)]!==void 0)return d["_".concat(f)];for(var y=0;y<d._rrule.length;y++){var x=d._rrule[y].origOptions[f];if(x)return x}}}var Mk=function(f){$y(d,f);function d(m){m===void 0&&(m=!1);var y=f.call(this,{},m)||this;return y.dtstart=Dk.apply(y,["dtstart"]),y.tzid=Dk.apply(y,["tzid"]),y._rrule=[],y._rdate=[],y._exrule=[],y._exdate=[],y}return d.prototype._iter=function(m){return p4(m,this._rrule,this._exrule,this._rdate,this._exdate,this.tzid())},d.prototype.rrule=function(m){zk(m,this._rrule)},d.prototype.exrule=function(m){zk(m,this._exrule)},d.prototype.rdate=function(m){jk(m,this._rdate)},d.prototype.exdate=function(m){jk(m,this._exdate)},d.prototype.rrules=function(){return this._rrule.map(function(m){return Oy(m.toString())})},d.prototype.exrules=function(){return this._exrule.map(function(m){return Oy(m.toString())})},d.prototype.rdates=function(){return this._rdate.map(function(m){return new Date(m.getTime())})},d.prototype.exdates=function(){return this._exdate.map(function(m){return new Date(m.getTime())})},d.prototype.valueOf=function(){var m=[];return!this._rrule.length&&this._dtstart&&(m=m.concat(Cy({dtstart:this._dtstart}))),this._rrule.forEach(function(y){m=m.concat(y.toString().split(`
`))}),this._exrule.forEach(function(y){m=m.concat(y.toString().split(`
`).map(function(x){return x.replace(/^RRULE:/,"EXRULE:")}).filter(function(x){return!/^DTSTART/.test(x)}))}),this._rdate.length&&m.push(Lk("RDATE",this._rdate,this.tzid())),this._exdate.length&&m.push(Lk("EXDATE",this._exdate,this.tzid())),m},d.prototype.toString=function(){return this.valueOf().join(`
`)},d.prototype.clone=function(){var m=new d(!!this._cache);return this._rrule.forEach(function(y){return m.rrule(y.clone())}),this._exrule.forEach(function(y){return m.exrule(y.clone())}),this._rdate.forEach(function(y){return m.rdate(new Date(y.getTime()))}),this._exdate.forEach(function(y){return m.exdate(new Date(y.getTime()))}),m},d}(pe);function zk(f,d){if(!(f instanceof pe))throw new TypeError(String(f)+" is not RRule instance");T(d.map(String),String(f))||d.push(f)}function jk(f,d){if(!(f instanceof Date))throw new TypeError(String(f)+" is not Date instance");T(d.map(Number),Number(f))||(d.push(f),tc(d))}function Lk(f,d,m){var y=!m||m.toUpperCase()==="UTC",x=y?"".concat(f,":"):"".concat(f,";TZID=").concat(m,":"),S=d.map(function($){return ky($.valueOf(),y)}).join(",");return"".concat(x).concat(S)}return e})())});function t2(t){return{...t,rrule:rs(t.rrule),cwds:JSON.parse(t.cwds)}}function RP({rrule:t,now:e}){let r=rs(t),o=(0,zs.rrulestr)(r,{forceset:!0,dtstart:new Date(e)}),n=o.rrules()[0];if(n){let s=n.options;if(s.freq===zs.RRule.DAILY||s.freq===zs.RRule.WEEKLY){let a=r2(s);if(a)return s.freq===zs.RRule.DAILY?n2(e,a):o2(e,a,i2(s.byweekday))}}let i=o.after(new Date(e),!1);return i?i.getTime():null}function PP(){let t=Xr();return t?t.prepare("SELECT id, name, prompt, status, cwds, rrule, next_run_at as nextRunAt, last_run_at as lastRunAt, created_at as createdAt, updated_at as updatedAt FROM automations WHERE status != 'DELETED' ORDER BY updated_at DESC").all().map(t2):[]}function CP(t){let e=Xr();if(!e)return null;let r=Date.now(),o=rs(t.rrule),n=RP({rrule:o,now:r}),i={id:(0,$P.randomUUID)(),name:t.name,prompt:t.prompt,status:"ACTIVE",cwds:t.cwds,rrule:o,nextRunAt:n,lastRunAt:null,createdAt:r,updatedAt:r};return e.prepare("INSERT INTO automations (id, name, prompt, status, cwds, rrule, next_run_at, last_run_at, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)").run(i.id,i.name,i.prompt,i.status,JSON.stringify(i.cwds),i.rrule,i.nextRunAt,i.lastRunAt,i.createdAt,i.updatedAt),i}function AP(t){let e=Xr();if(!e)return null;let r=e.prepare("SELECT status, created_at as createdAt, rrule, next_run_at as nextRunAt, last_run_at as lastRunAt FROM automations WHERE id = ? LIMIT 1").get(t.id);if(!r)return null;let o=Date.now(),n=rs(t.rrule),s=rs(r.rrule)!==n,c=t.status==="ACTIVE"&&(r.status!=="ACTIVE"||s)?RP({rrule:n,now:o}):r.nextRunAt,u=e.prepare("UPDATE automations SET name = ?, prompt = ?, status = ?, cwds = ?, rrule = ?, next_run_at = ?, updated_at = ? WHERE id = ?").run(t.name,t.prompt,t.status,JSON.stringify(t.cwds),n,c,o,t.id);return(typeof u?.changes=="number"?u.changes:0)===0?null:{id:t.id,name:t.name,prompt:t.prompt,status:t.status,cwds:t.cwds,rrule:n,nextRunAt:c,lastRunAt:r.lastRunAt,createdAt:r.createdAt,updatedAt:o}}function OP(t){let e=Xr();if(!e)return!1;let r=e.prepare("UPDATE automations SET status = ?, next_run_at = ?, updated_at = ? WHERE id = ?").run("DELETED",null,Date.now(),t);return(typeof r?.changes=="number"?r.changes:0)>0}function r2(t){let e=TP(t.byhour),r=TP(t.byminute);return e!=null&&r!=null?{hour:e,minute:r}:t.dtstart?{hour:t.dtstart.getHours(),minute:t.dtstart.getMinutes()}:null}function TP(t){return Array.isArray(t)?typeof t[0]=="number"?t[0]:null:typeof t=="number"?t:null}function n2(t,e){let r=new Date(t),o=new Date(r.getFullYear(),r.getMonth(),r.getDate(),e.hour,e.minute,0,0);return o.getTime()<=t&&o.setDate(o.getDate()+1),o.getTime()}function o2(t,e,r){let o=new Date(t),n=o.getDay(),i=r.length>0?r:[0,1,2,3,4,5,6];for(let s=0;s<=7;s+=1){let a=(n+s)%7;if(!i.includes(a))continue;let c=new Date(o.getFullYear(),o.getMonth(),o.getDate()+s,e.hour,e.minute,0,0);if(c.getTime()>t)return c.getTime()}return t}function i2(t){return t?(Array.isArray(t)?t:[t]).map(r=>{let o=String(r);return o in IP?IP[o]:null}).filter(r=>r!=null):[]}var $P,zs,IP,NP=E(()=>{$P=require("node:crypto");Qe();zs=H(kP());xo();IP={MO:1,TU:2,WE:3,TH:4,FR:5,SA:6,SU:0}});function s2(t){return typeof t=="object"&&t!=null&&"dispose"in t}var js,DP=E(()=>{js=class{disposables=[];dispose(){this.disposables.forEach(e=>e.dispose()),this.disposables.length=0}add(e){this.disposables.push(s2(e)?e:{dispose:e})}}});function MP(t,e,r){let o={message:e,status:a2(t),source:r.source,service:r.source,env:r.env,date:Date.now(),logger:{name:"codex"},"codex.app_session_id":r.codexAppSessionId,usr:r.userInfo};return c2(o,r.buildInfo),o}function a2(t){switch(t){case"trace":case"debug":return"debug";case"info":return"info";case"warning":return"warn";case"error":return"error"}}function c2(t,e){s_(t,"build_number",e.buildNumber),s_(t,"version",e.version),s_(t,"app_version",e.version)}function s_(t,e,r){r!=null&&(t[e]=r)}var a_=E(()=>{});var am,c_=E(()=>{am=class{onFlush;flushIntervalMs;maxBatchSize;maxBatchBytes;buffer=[];bufferBytes=0;flushTimeout=null;constructor(e){this.onFlush=e.onFlush,this.flushIntervalMs=e.flushIntervalMs??5e3,this.maxBatchSize=e.maxBatchSize??50,this.maxBatchBytes=e.maxBatchBytes??64e3}enqueue(e){if(this.buffer.push(e),this.bufferBytes+=e.length,this.buffer.length>=this.maxBatchSize||this.bufferBytes>=this.maxBatchBytes){this.flush();return}this.scheduleFlush()}flushNow(){this.flush()}scheduleFlush(){this.flushTimeout==null&&(this.flushTimeout=setTimeout(()=>{this.flush()},this.flushIntervalMs))}flush(){if(this.buffer.length===0){this.clearFlushTimeout();return}let e=this.buffer.splice(0,this.buffer.length);this.bufferBytes=0,this.clearFlushTimeout(),this.onFlush(e)}clearFlushTimeout(){this.flushTimeout!=null&&(clearTimeout(this.flushTimeout),this.flushTimeout=null)}}});function h2(){let e=`/api/v2/logs?${new URLSearchParams({ddsource:"browser","dd-api-key":l2,"dd-evp-origin":d2,"dd-request-id":(0,zP.randomUUID)()}).toString()}`;return`${u2}?ddforward=${encodeURIComponent(e)}`}var zP,u2,l2,d2,p2,f2,m2,cm,jP=E(()=>{zP=require("node:crypto");c_();a_();u2="https://chat.openai.com/ces/v1/telemetry/intake",l2="dummy-token",d2="browser",p2=2e3,f2=3e4,m2=5,cm=class{options;reportFailure;batcher;queue=[];inFlightSend=null;retryTimeout=null;retryAttempts=0;disabled=!1;reportedDisabledReason=!1;userInfo=null;constructor(e){this.options=e,this.reportFailure=e.reportFailure,this.batcher=new am({onFlush:r=>this.enqueueBatch(r)})}setUserInfo(e){this.userInfo=e}log(e,r){let o=MP(e,r,{buildInfo:this.options.buildInfo,userInfo:this.userInfo,codexAppSessionId:this.options.codexAppSessionId,source:this.options.source,env:this.options.env});this.batcher.enqueue(JSON.stringify(o))}flushNow(){this.batcher.flushNow(),this.drainQueue()}enqueueBatch(e){this.disabled||e.length!==0&&(this.queue.push(e),this.drainQueue())}async drainQueue(){if(this.disabled){this.queue.length=0;return}if(this.inFlightSend!=null||this.retryTimeout!=null)return;let e=this.queue[0];if(e==null)return;let r=e.join(`
`);this.inFlightSend=(async()=>{try{await this.send(r),this.queue.shift(),this.retryAttempts=0}catch{if(this.disabled){this.queue.length=0;return}this.scheduleRetry()}finally{this.inFlightSend=null,this.drainQueue()}})()}scheduleRetry(){if(this.retryTimeout!=null)return;if(this.retryAttempts>=m2){this.reportFailure({type:"dropped",reason:"max_retries",attempts:this.retryAttempts}),this.queue.shift(),this.retryAttempts=0,this.drainQueue();return}this.retryAttempts+=1;let e=Math.min(f2,p2*Math.pow(2,this.retryAttempts-1));this.retryTimeout=setTimeout(()=>{this.retryTimeout=null,this.drainQueue()},e)}disableWithFailure(e){this.disabled=!0,!this.reportedDisabledReason&&(this.reportedDisabledReason=!0,this.reportFailure(e))}async send(e){let r=h2(),o=await fetch(r,{method:"POST",headers:{"content-type":"text/plain"},body:Buffer.from(e)});if(!o.ok){let n=await o.text();throw(o.status===401||o.status===403)&&this.disableWithFailure({type:"disabled",reason:"invalid_client_token",status:o.status,body:n}),new Error(`[datadog] non-2xx response (${o.status})`)}return o.status}}});function u_(t,e){let r=null,o=null,n=(...i)=>{o=i,r&&clearTimeout(r),r=setTimeout(()=>{r=null;let s=o;o=null,s&&t(...s)},e)};return n.cancel=()=>{r&&(clearTimeout(r),r=null),o=null},n}var l_=E(()=>{});function LP(t){let e=(r,o,n)=>{let i=typeof r=="string"?new Error(r):r;try{t(i,o,n)}catch{}};return{report:e,reportNonFatal:(r,o)=>e(r,"non-fatal",o),reportFatal:(r,o)=>e(r,"fatal",o)}}var UP=E(()=>{});async function WP(t,e,r=10,o){let n=t.trim();if(n.length===0||e.length===0||r<=0)return[];let i=`**/*${v2(n)}*`,s=o?.rgPath??"rg",a=o?.runCommand??g2,c=[],u=!1;for(let l of e){if(c.length>=r)break;try{let p=[s,"--files","--hidden","--iglob",i],{stdout:g,code:v}=await a(p,l);if(v!==0){u=!0;continue}let h=g.split(/\r?\n/).map(b=>b.trim()).filter(Boolean);for(let b of h){if(c.length>=r)break;let _=fi.default.isAbsolute(b)?b:fi.default.join(l,b),w=fi.default.basename(_).replace(/\\/g,"/"),T=fi.default.relative(l,_).replace(/\\/g,"/"),P=T&&!T.startsWith("..")?T:_;c.push({label:w,path:P,fsPath:_})}}catch(p){W().warn(`rg search failed in ${l}: ${String(p)}`),u=!0}}return c.length>0||!u?c:y2(n,e,r)}async function y2(t,e,r){let o=t.toLowerCase(),n=[],i=5e3;for(let s of e){let a=[s],c=0;for(;a.length>0&&n.length<r&&c<i;){c+=1;let u=a.shift();if(!u)break;let l;try{l=await qP.promises.readdir(u,{withFileTypes:!0})}catch{continue}for(let p of l){let g=fi.default.join(u,p.name);if(p.isDirectory()){a.push(g);continue}if(!p.isFile()||!p.name.toLowerCase().includes(o))continue;let v=p.name.replace(/\\/g,"/"),h=fi.default.relative(s,g).replace(/\\/g,"/"),b=h&&!h.startsWith("..")?h:g;if(n.push({label:v,path:b,fsPath:g}),n.length>=r)break}}if(n.length>=r)break}return n}function v2(t){let e=["*","?","[","]","{","}","!","\\"],r="";for(let o of t)r+=e.includes(o)?"\\"+o:o;return r}var FP,qP,fi,g2,ZP=E(()=>{FP=require("node:child_process"),qP=require("node:fs"),fi=H(require("node:path"));er();g2=(t,e)=>new Promise(r=>{try{let o=(0,FP.spawn)(t[0],t.slice(1),{cwd:e,env:{...process.env},stdio:["ignore","pipe","pipe"]});if(!o.pid){r({stdout:"",code:1});return}let n=[];o.stdout?.on("data",i=>{n.push(i)}),o.once("error",()=>r({stdout:"",code:1})),o.once("exit",i=>r({stdout:Buffer.concat(n).toString("utf8"),code:i}))}catch{r({stdout:"",code:1})}})});function BP(t){return t.split(/[\\/]/).pop()??t}var HP=E(()=>{});var ru,VP=E(()=>{ru=class{constructor(e,r=[],o=[],n){this.child=e;this.stdoutChunks=r;this.stderrChunks=o;this.promise=n.then(({code:i,signal:s})=>({type:"resolve",code:i,signal:s}),i=>({type:"reject",error:i}))}result=null;promise;check(){return this.wait().then(({stdout:e,stderr:r,code:o,signal:n})=>{if(o===0)return{stdout:e,stderr:r};throw new Error(`process exited with code ${o}, signal ${n}`)})}wait(){return this.promise.then(e=>{switch(e.type){case"resolve":{let{code:r,signal:o}=e;return{stdout:Buffer.concat(this.stdoutChunks).toString("utf8"),stderr:Buffer.concat(this.stderrChunks).toString("utf8"),code:r,signal:o}}case"reject":throw e.error}})}getStdout(){return Buffer.concat(this.stdoutChunks)}getStderr(){return Buffer.concat(this.stderrChunks)}getExitCode(){return this.result?.type==="resolve"?this.result.code:null}isDone(){return this.result!=null}kill(){this.child.kill()}}});function w2(){return _2}function nu(t,e){return w2().startSpan(t,e)}var b2,_2,d_=E(()=>{b2={startSpan:(t,e)=>e()},_2=b2});function GP(t){let e=t[0]??"process";return e==="git"&&t[1]?{op:"git.exec",name:`git ${t[1]}`}:{op:"process.exec",name:e}}function Tr({args:t,cwd:e,env:r,signal:o,stdoutChunkHandler:n,stderrChunkHandler:i}){if(NR())return W().info("[spawnCodexProcess] spawning codex process inside WSL"),x2(t,e,r?S2(r):void 0,o,n,i);let s=t[0],a=t.slice(1),c={cwd:e,env:{...process.env,...r},stdio:["ignore","pipe","pipe"]},u=(0,p_.spawn)(s,a,c);if(!u.pid)throw new Error(`failed to start process from ${e}: \`${t.join(" ")}\``);let l=[],p=[],g=new Promise((h,b)=>{let _=KP(u,o);u.stdout?.on("data",w=>{l.push(w),n?.(w)}),u.stderr?.on("data",w=>{p.push(w),i?.(w)}),u.on("close",(w,T)=>{_?.(),h({code:w,signal:T})}),u.on("error",w=>{_?.(),b(w)})}),v=GP(t);return new ru(u,l,p,nu(v,()=>g))}function x2(t,e,r,o,n,i){let s=e?Zt(e):".",a=["RUST_LOG=warn"];r&&a.push(...E2(r));let c=["-d","Ubuntu"];c.push("--cd",s),c.push("--exec","/usr/bin/env",...a,...t);let u={env:{...process.env},stdio:["ignore","pipe","pipe"]};W().info(`[spawnAsyncInsideWsl] spawning process inside WSL: wsl.exe ${c.join(" ")}`);let l=(0,p_.spawn)("wsl.exe",c,u);if(!l.pid)throw new Error(`failed to start process from ${e}: \`${t.join(" ")}\``);let p=[],g=[],v=new Promise((b,_)=>{let w=KP(l,o);l.stdout?.on("data",T=>{p.push(T),n?.(T)}),l.stderr?.on("data",T=>{g.push(T),i?.(T)}),l.on("close",(T,P)=>{w?.(),b({code:T,signal:P})}),l.on("error",T=>{w?.(),_(T)})}),h=GP(t);return new ru(l,p,g,nu(h,()=>v))}function KP(t,e){if(!e)return;let r=()=>{t.kill()};return e.addEventListener("abort",r),e.aborted&&r(),()=>{e.removeEventListener("abort",r)}}function S2(t){let e={};for(let[r,o]of Object.entries(t))o!=null&&process.env[r]!==o&&(e[r]=o);return e}function E2(t){let e=[];for(let[r,o]of Object.entries(t)){let n=k2(o)?Zt(o):o;e.push(`${r}=${n}`)}return e}function k2(t){return t.includes(";")?!1:!!(/^(?:[a-zA-Z]:[\\/]|\\\\|\/\/)/.test(t)||/^(\\\\|\/\/)(wsl\$|wsl\.localhost)[\\/]/i.test(t))}var p_,ou=E(()=>{p_=require("child_process");er();VP();d_();Yf()});function I2(t,e){let r=t.slice(0,e).split(/\r\n|\n|\r/g);return[r.length,r.pop().length+1]}function T2(t,e,r){let o=t.split(/\r\n|\n|\r/g),n="",i=(Math.log10(e+1)|0)+1;for(let s=e-1;s<=e+1;s++){let a=o[s-1];a&&(n+=s.toString().padEnd(i," "),n+=":  ",n+=a,n+=`
`,s===e&&(n+=" ".repeat(i+r+2),n+=`^
`))}return n}var ye,mi=E(()=>{ye=class extends Error{line;column;codeblock;constructor(e,r){let[o,n]=I2(r.toml,r.ptr),i=T2(r.toml,o,n);super(`Invalid TOML document: ${e}

${i}`,r),this.line=o,this.column=n,this.codeblock=i}}});function $2(t,e){let r=0;for(;t[e-++r]==="\\";);return--r&&r%2}function Ls(t,e=0,r=t.length){let o=t.indexOf(`
`,e);return t[o-1]==="\r"&&o--,o<=r?o:-1}function iu(t,e){for(let r=e;r<t.length;r++){let o=t[r];if(o===`
`)return r;if(o==="\r"&&t[r+1]===`
`)return r+1;if(o<" "&&o!=="	"||o==="\x7F")throw new ye("control characters are not allowed in comments",{toml:t,ptr:e})}return t.length}function $r(t,e,r,o){let n;for(;(n=t[e])===" "||n==="	"||!r&&(n===`
`||n==="\r"&&t[e+1]===`
`);)e++;return o||n!=="#"?e:$r(t,iu(t,e),r)}function f_(t,e,r,o,n=!1){if(!o)return e=Ls(t,e),e<0?t.length:e;for(let i=e;i<t.length;i++){let s=t[i];if(s==="#")i=Ls(t,i);else{if(s===r)return i+1;if(s===o||n&&(s===`
`||s==="\r"&&t[i+1]===`
`))return i}}throw new ye("cannot find end of structure",{toml:t,ptr:e})}function um(t,e){let r=t[e],o=r===t[e+1]&&t[e+1]===t[e+2]?t.slice(e,e+3):r;e+=o.length-1;do e=t.indexOf(o,++e);while(e>-1&&r!=="'"&&$2(t,e));return e>-1&&(e+=o.length,o.length>1&&(t[e]===r&&e++,t[e]===r&&e++)),e}var su=E(()=>{mi();});var R2,au,m_=E(()=>{R2=/^(\d{4}-\d{2}-\d{2})?[T ]?(?:(\d{2}):\d{2}:\d{2}(?:\.\d+)?)?(Z|[-+]\d{2}:\d{2})?$/i,au=class t extends Date{#t=!1;#r=!1;#e=null;constructor(e){let r=!0,o=!0,n="Z";if(typeof e=="string"){let i=e.match(R2);i?(i[1]||(r=!1,e=`0000-01-01T${e}`),o=!!i[2],o&&e[10]===" "&&(e=e.replace(" ","T")),i[2]&&+i[2]>23?e="":(n=i[3]||null,e=e.toUpperCase(),!n&&o&&(e+="Z"))):e=""}super(e),isNaN(this.getTime())||(this.#t=r,this.#r=o,this.#e=n)}isDateTime(){return this.#t&&this.#r}isLocal(){return!this.#t||!this.#r||!this.#e}isDate(){return this.#t&&!this.#r}isTime(){return this.#r&&!this.#t}isValid(){return this.#t||this.#r}toISOString(){let e=super.toISOString();if(this.isDate())return e.slice(0,10);if(this.isTime())return e.slice(11,23);if(this.#e===null)return e.slice(0,-1);if(this.#e==="Z")return e;let r=+this.#e.slice(1,3)*60+ +this.#e.slice(4,6);return r=this.#e[0]==="-"?r:-r,new Date(this.getTime()-r*6e4).toISOString().slice(0,-1)+this.#e}static wrapAsOffsetDateTime(e,r="Z"){let o=new t(e);return o.#e=r,o}static wrapAsLocalDateTime(e){let r=new t(e);return r.#e=null,r}static wrapAsLocalDate(e){let r=new t(e);return r.#r=!1,r.#e=null,r}static wrapAsLocalTime(e){let r=new t(e);return r.#t=!1,r.#e=null,r}}});function lm(t,e=0,r=t.length){let o=t[e]==="'",n=t[e++]===t[e]&&t[e]===t[e+1];n&&(r-=2,t[e+=2]==="\r"&&e++,t[e]===`
`&&e++);let i=0,s,a="",c=e;for(;e<r-1;){let u=t[e++];if(u===`
`||u==="\r"&&t[e]===`
`){if(!n)throw new ye("newlines are not allowed in strings",{toml:t,ptr:e-1})}else if(u<" "&&u!=="	"||u==="\x7F")throw new ye("control characters are not allowed in strings",{toml:t,ptr:e-1});if(s){if(s=!1,u==="u"||u==="U"){let l=t.slice(e,e+=u==="u"?4:8);if(!O2.test(l))throw new ye("invalid unicode escape",{toml:t,ptr:i});try{a+=String.fromCodePoint(parseInt(l,16))}catch{throw new ye("invalid unicode escape",{toml:t,ptr:i})}}else if(n&&(u===`
`||u===" "||u==="	"||u==="\r")){if(e=$r(t,e-1,!0),t[e]!==`
`&&t[e]!=="\r")throw new ye("invalid escape: only line-ending whitespace may be escaped",{toml:t,ptr:i});e=$r(t,e)}else if(u in JP)a+=JP[u];else throw new ye("unrecognized escape sequence",{toml:t,ptr:i});c=e}else!o&&u==="\\"&&(i=e-1,s=!0,a+=t.slice(c,i))}return a+t.slice(c,r-1)}function YP(t,e,r,o){if(t==="true")return!0;if(t==="false")return!1;if(t==="-inf")return-1/0;if(t==="inf"||t==="+inf")return 1/0;if(t==="nan"||t==="+nan"||t==="-nan")return NaN;if(t==="-0")return o?0n:0;let n=P2.test(t);if(n||C2.test(t)){if(A2.test(t))throw new ye("leading zeroes are not allowed",{toml:e,ptr:r});t=t.replace(/_/g,"");let s=+t;if(isNaN(s))throw new ye("invalid number",{toml:e,ptr:r});if(n){if((n=!Number.isSafeInteger(s))&&!o)throw new ye("integer value cannot be represented losslessly",{toml:e,ptr:r});(n||o===!0)&&(s=BigInt(t))}return s}let i=new au(t);if(!i.isValid())throw new ye("invalid value",{toml:e,ptr:r});return i}var P2,C2,A2,O2,JP,h_=E(()=>{su();m_();mi();P2=/^((0x[0-9a-fA-F](_?[0-9a-fA-F])*)|(([+-]|0[ob])?\d(_?\d)*))$/,C2=/^[+-]?\d(_?\d)*(\.\d(_?\d)*)?([eE][+-]?\d(_?\d)*)?$/,A2=/^[+-]?0[0-9_]/,O2=/^[0-9a-f]{4,8}$/i,JP={b:"\b",t:"	",n:`
`,f:"\f",r:"\r",'"':'"',"\\":"\\"}});function N2(t,e,r,o){let n=t.slice(e,r),i=n.indexOf("#");i>-1&&(iu(t,i),n=n.slice(0,i));let s=n.trimEnd();if(!o){let a=n.indexOf(`
`,s.length);if(a>-1)throw new ye("newlines are not allowed in inline tables",{toml:t,ptr:e+a})}return[s,i]}function cu(t,e,r,o,n){if(o===0)throw new ye("document contains excessively nested structures. aborting.",{toml:t,ptr:e});let i=t[e];if(i==="["||i==="{"){let[c,u]=i==="["?QP(t,e,o,n):XP(t,e,o,n),l=r?f_(t,u,",",r):u;if(u-l&&r==="}"){let p=Ls(t,u,l);if(p>-1)throw new ye("newlines are not allowed in inline tables",{toml:t,ptr:p})}return[c,l]}let s;if(i==='"'||i==="'"){s=um(t,e);let c=lm(t,e,s);if(r){if(s=$r(t,s,r!=="]"),t[s]&&t[s]!==","&&t[s]!==r&&t[s]!==`
`&&t[s]!=="\r")throw new ye("unexpected character encountered",{toml:t,ptr:s});s+=+(t[s]===",")}return[c,s]}s=f_(t,e,",",r);let a=N2(t,e,s-+(t[s-1]===","),r==="]");if(!a[0])throw new ye("incomplete key-value declaration: no value specified",{toml:t,ptr:e});return r&&a[1]>-1&&(s=$r(t,e+a[1]),s+=+(t[s]===",")),[YP(a[0],t,e,n),s]}var g_=E(()=>{h_();y_();su();mi();});function dm(t,e,r="="){let o=e-1,n=[],i=t.indexOf(r,e);if(i<0)throw new ye("incomplete key-value: cannot find end of key",{toml:t,ptr:e});do{let s=t[e=++o];if(s!==" "&&s!=="	")if(s==='"'||s==="'"){if(s===t[e+1]&&s===t[e+2])throw new ye("multiline strings are not allowed in keys",{toml:t,ptr:e});let a=um(t,e);if(a<0)throw new ye("unfinished string encountered",{toml:t,ptr:e});o=t.indexOf(".",a);let c=t.slice(a,o<0||o>i?i:o),u=Ls(c);if(u>-1)throw new ye("newlines are not allowed in keys",{toml:t,ptr:e+o+u});if(c.trimStart())throw new ye("found extra tokens after the string part",{toml:t,ptr:a});if(i<a&&(i=t.indexOf(r,a),i<0))throw new ye("incomplete key-value: cannot find end of key",{toml:t,ptr:e});n.push(lm(t,e,a))}else{o=t.indexOf(".",e);let a=t.slice(e,o<0||o>i?i:o);if(!D2.test(a))throw new ye("only letter, numbers, dashes and underscores are allowed in keys",{toml:t,ptr:e});n.push(a.trimEnd())}}while(o+1&&o<i);return[n,$r(t,i+1,!0,!0)]}function XP(t,e,r,o){let n={},i=new Set,s,a=0;for(e++;(s=t[e++])!=="}"&&s;){let c={toml:t,ptr:e-1};if(s===`
`)throw new ye("newlines are not allowed in inline tables",c);if(s==="#")throw new ye("inline tables cannot contain comments",c);if(s===",")throw new ye("expected key-value, found comma",c);if(s!==" "&&s!=="	"){let u,l=n,p=!1,[g,v]=dm(t,e-1);for(let _=0;_<g.length;_++){if(_&&(l=p?l[u]:l[u]={}),u=g[_],(p=Object.hasOwn(l,u))&&(typeof l[u]!="object"||i.has(l[u])))throw new ye("trying to redefine an already defined value",{toml:t,ptr:e});!p&&u==="__proto__"&&Object.defineProperty(l,u,{enumerable:!0,configurable:!0,writable:!0})}if(p)throw new ye("trying to redefine an already defined value",{toml:t,ptr:e});let[h,b]=cu(t,v,"}",r-1,o);i.add(h),l[u]=h,e=b,a=t[e-1]===","?e-1:0}}if(a)throw new ye("trailing commas are not allowed in inline tables",{toml:t,ptr:a});if(!s)throw new ye("unfinished table encountered",{toml:t,ptr:e});return[n,e]}function QP(t,e,r,o){let n=[],i;for(e++;(i=t[e++])!=="]"&&i;){if(i===",")throw new ye("expected value, found comma",{toml:t,ptr:e-1});if(i==="#")e=iu(t,e);else if(i!==" "&&i!=="	"&&i!==`
`&&i!=="\r"){let s=cu(t,e-1,"]",r-1,o);n.push(s[0]),e=s[1]}}if(!i)throw new ye("unfinished array encountered",{toml:t,ptr:e});return[n,e]}var D2,y_=E(()=>{h_();g_();su();mi();D2=/^[a-zA-Z0-9-_]+[ \t]*$/});function e0(t,e,r,o){let n=e,i=r,s,a=!1,c;for(let u=0;u<t.length;u++){if(u){if(n=a?n[s]:n[s]={},i=(c=i[s]).c,o===0&&(c.t===1||c.t===2))return null;if(c.t===2){let l=n.length-1;n=n[l],i=i[l].c}}if(s=t[u],(a=Object.hasOwn(n,s))&&i[s]?.t===0&&i[s]?.d)return null;a||(s==="__proto__"&&(Object.defineProperty(n,s,{enumerable:!0,configurable:!0,writable:!0}),Object.defineProperty(i,s,{enumerable:!0,configurable:!0,writable:!0})),i[s]={t:u<t.length-1&&o===2?3:o,d:!1,i:0,c:{}})}if(c=i[s],c.t!==o&&!(o===1&&c.t===3)||(o===2&&(c.d||(c.d=!0,n[s]=[]),n[s].push(n={}),c.c[c.i++]=c={t:1,d:!1,i:0,c:{}}),c.d))return null;if(c.d=!0,o===1)n=a?n[s]:n[s]={};else if(o===0&&a)return null;return[s,n,c.c]}function v_(t,{maxDepth:e=1e3,integersAsBigInt:r}={}){let o={},n={},i=o,s=n;for(let a=$r(t,0);a<t.length;){if(t[a]==="["){let c=t[++a]==="[",u=dm(t,a+=+c,"]");if(c){if(t[u[1]-1]!=="]")throw new ye("expected end of table declaration",{toml:t,ptr:u[1]-1});u[1]++}let l=e0(u[0],o,n,c?2:1);if(!l)throw new ye("trying to redefine an already defined table or value",{toml:t,ptr:a});s=l[2],i=l[1],a=u[1]}else{let c=dm(t,a),u=e0(c[0],i,s,0);if(!u)throw new ye("trying to redefine an already defined table or value",{toml:t,ptr:a});let l=cu(t,c[1],void 0,e,r);u[1][u[0]]=l[0],a=l[1]}if(a=$r(t,a,!0),t[a]&&t[a]!==`
`&&t[a]!=="\r")throw new ye("each key-value declaration must be followed by an end-of-line",{toml:t,ptr:a});a=$r(t,a)}return o}var t0=E(()=>{y_();g_();su();mi();});var r0=E(()=>{});var n0=E(()=>{t0();r0();m_();mi();});function a0(t){let e=t.find(o=>_t.basename(o.configPath)===lR&&o.type==="success");if(e?.type==="success")return e;let r=t.find(o=>o.type==="success");return r||t[0]}async function c0(t,e){let r=_t.resolve(e),o=_t.resolve(t);for(let n=0;n<50;n++){let i=_t.join(r,".codex","environments"),s=await i0(i);if(s.length>0)return s0(s);let a=o0(r),c=await pm(r)||a==null;!c&&a!=null&&(r=a);let u=_t.join(o,".codex","environments"),l=await i0(u);if(l.length>0)return s0(l);let p=o0(o),g=await pm(o)||p==null;if(!g&&p!=null&&(o=p),c&&g)return[]}return[]}async function M2(t){let e;try{let o=await So.readFile(t,"utf8");e=v_(o)}catch(o){return{configPath:t,cwdRelativeToGitRoot:t,type:"error",error:new Error(`Failed to parse environment config at ${t}: ${String(o)}`)}}let r=dR.safeParse(e);return r.success?{configPath:t,cwdRelativeToGitRoot:await L2(t),type:"success",environment:z2(r.data)}:{configPath:t,cwdRelativeToGitRoot:t,type:"error",error:new Error(`Invalid environment config at ${t}: ${r.error.toString()}`)}}function z2(t){return{...t,name:t.name.trim(),setup:j2(t.setup),actions:t.actions?t.actions.map(e=>({...e,name:e.name.trim(),command:e.command.trim()})):void 0}}function j2(t){return{...t,script:t.script.trim(),darwin:t.darwin?{script:t.darwin.script.trim()}:void 0,linux:t.linux?{script:t.linux.script.trim()}:void 0,win32:t.win32?{script:t.win32.script.trim()}:void 0}}async function L2(t){let e=await U2(t),r=e;for(;r!==_t.dirname(r)&&!await pm(r);)r=_t.dirname(r);let o=_t.relative(r,e);return o===""?".":o}async function pm(t){try{let e=await So.stat(_t.join(t,".git"));return e.isDirectory()||e.isFile()}catch{return!1}}function o0(t){let e=_t.dirname(t);return e===t?null:e}async function i0(t){try{return(await So.stat(t)).isDirectory()?(await So.readdir(t)).filter(o=>o.endsWith(".toml")).map(o=>_t.join(t,o)):[]}catch{return[]}}async function s0(t){return Promise.all(t.map(async e=>M2(e)))}async function U2(t){let e=_t.dirname(t);for(;e!==_t.dirname(e);){if(await F2(e))return e;if(await pm(e))return e;e=_t.dirname(e)}return t}async function F2(t){try{let e=await So.stat(_t.join(t,".codex"));return e.isDirectory()||e.isFile()}catch{return!1}}var So,_t,b_=E(()=>{So=H(require("node:fs/promises")),_t=H(require("node:path"));Qe();n0()});function u0(t,e){let r=[];for(let n of t.split(`
`)){let i=n.trim();i&&q2(i)&&r.push(i)}for(let n of r){let i=W2(n);if(i){if(i.includes("non-fast-forward")||i.includes("fetch first")||i.includes("stale info"))return"remote-updated";if(i.includes("remote rejected")||i.includes("remote failure")||i.includes("pre-receive hook declined"))return"remote-rejected"}}let o=e.toLowerCase();return o.includes("no upstream")||o.includes("set the remote as upstream")||o.includes("has no upstream branch")?"no-upstream":o.includes("authentication failed")||o.includes("could not read username")||o.includes("permission denied")||o.includes("access denied")?"auth":"unknown"}function q2(t){let e=t.toLowerCase();if(e.startsWith("ok ")||e.startsWith("error"))return!0;let r=t[0];return r==="!"||r==="="||r==="+"||r==="-"||r==="*"||r==="?"}function W2(t){let e=[],r=t.match(/\[([^\]]+)\]/);r&&e.push(r[1]);let o=t.match(/\(([^)]+)\)\s*$/);o&&e.push(o[1]);let n=t.match(/^error[: ]+(.+)$/i);return n&&e.push(n[1]),e.length===0?null:e.join(" ").toLowerCase()}var l0=E(()=>{});function Z2(t,e){let r=new Set,o=new Set,n=new Set,i=null,s=[t,e].filter(Boolean).join(`
`),a=(At,Me)=>{let ue=(Me??"").trim();if(!ue)return;let tt=ue.charAt(0),Kl=ue.charAt(ue.length-1),Xi=ue;(tt==="'"||tt==='"')&&Kl===tt&&ue.length>=2&&(Xi=ue.slice(1,-1)),Xi&&At.add(Xi)},c=(At,Me)=>{for(let ue of Me)if(At[ue])return At[ue]},u=/^(?:Applied patch(?: to)?\s+(?:(["'])(?<qpath>.+?)\1|(?<path>.+?))\s+cleanly\.?)$/i,l=/^(?:Applied patch(?: to)?\s+(?:(["'])(?<qpath>.+?)\1|(?<path>.+?))\s+with conflicts\.?)$/i,p=/^(?:Applying patch\s+(?:(["'])(?<qpath>.+?)\1|(?<path>.+?))\s+with\s+\d+\s+rejects?\.{0,3})$/i,g=/^(?:Checking patch\s+(?:(["'])(?<qpath>.+?)\1|(?<path>.+?))\.\.\.)$/i,v=/^(?:Performing three-way merge|Falling back to three-way merge)\.\.\.$/i,h=/^Failed to perform three-way merge\.\.\.$/i,b=/^Falling back to direct application\.\.\.$/i,_=/^U\s+(?<path>.+)$/,w=/^error:\s+patch failed:\s+(?<path>.+?)(?::\d+)?(?:\s|$)/i,T=/^error:\s+(?<path>.+?):\s+patch does not apply$/i,P=/^(?:error: )?repository lacks the necessary blob to (?:perform|fall back on) 3-?way merge\.?$/i,D=/^error:\s+(?<path>.+?):\s+does not match index\b/i,q=/^error:\s+(?<path>.+?):\s+does not exist in index\b/i,ge=/^error:\s+(?<path>.+?)\s+already exists in (?:the )?working directory\b/i,Ze=/^error:\s+patch failed:\s+(?<path>.+?)\s+File exists/i,Se=/^error:\s+path\s+(?<path>.+?)\s+has been renamed\/deleted/i,oe=/^error:\s+cannot apply binary patch to\s+['"]?(?<path>.+?)['"]?\s+without full index line$/i,$e=/^error:\s+binary patch does not apply to\s+['"]?(?<path>.+?)['"]?$/i,rt=/^error:\s+binary patch to\s+['"]?(?<path>.+?)['"]?\s+creates incorrect result\b/i,Ce=/^error:\s+cannot read the current contents of\s+['"]?(?<path>.+?)['"]?$/i,ur=/^Skipped patch\s+['"]?(?<path>.+?)['"]\.$/i,zr=/^warning:\s*Cannot merge binary files:\s+(?<path>.+?)\s+\(ours\s+vs\.\s+theirs\)/i;for(let At of s.split(/\r?\n/)){let Me=At.trim();if(!Me)continue;let ue;if(ue=Me.match(u)){let tt=c(ue.groups??{},["qpath","path"]);a(r,tt),i=tt??i,n.delete(tt??""),o.delete(tt??"");continue}if(ue=Me.match(l)){let tt=c(ue.groups??{},["qpath","path"]);a(n,tt),i=tt??i,r.delete(tt??""),o.delete(tt??"");continue}if(ue=Me.match(p)){let tt=c(ue.groups??{},["qpath","path"]);a(n,tt),i=tt??i,r.delete(tt??""),o.delete(tt??"");continue}if(ue=Me.match(_)){a(n,ue.groups?.path),i=ue.groups?.path??i,r.delete(ue.groups?.path??""),o.delete(ue.groups?.path??"");continue}if(ue=Me.match(g)){i=c(ue.groups??{},["qpath","path"])??i;continue}if((ue=Me.match(w))||(ue=Me.match(T))){a(o,ue.groups?.path),i=ue.groups?.path??i;continue}if(!(v.test(Me)||b.test(Me))){if(h.test(Me)){i&&(a(o,i),r.delete(i),n.delete(i));continue}if(P.test(Me)){i&&(a(o,i),r.delete(i),n.delete(i));continue}if((ue=Me.match(D))||(ue=Me.match(q))||(ue=Me.match(ge))||(ue=Me.match(Ze))||(ue=Me.match(Se))||(ue=Me.match(oe))||(ue=Me.match($e))||(ue=Me.match(rt))||(ue=Me.match(Ce))||(ue=Me.match(ur))){a(o,ue.groups?.path),i=ue.groups?.path??i,r.delete(ue.groups?.path??""),n.delete(ue.groups?.path??"");continue}if(ue=Me.match(zr)){a(n,ue.groups?.path),i=ue.groups?.path??i,r.delete(ue.groups?.path??""),o.delete(ue.groups?.path??"");continue}}}for(let At of n)r.delete(At),o.delete(At);for(let At of r)o.delete(At);return{appliedPaths:Array.from(r).sort(),skippedPaths:Array.from(o).sort(),conflictedPaths:Array.from(n).sort()}}function B2(t){let e=new Set,r=/^diff --git a\/(.*?) b\/(.*)$/gm,o;for(;(o=r.exec(t))!=null;){let[n,i,s]=o;i&&i!=="/dev/null"&&e.add(i),s&&s!=="/dev/null"&&e.add(s)}return Array.from(e)}async function Us(t,{resolveRoot:e=Nt,preferWslPaths:r=!1,convertWindowsPathToWslPath:o,convertWslPathToWindowsPath:n,signal:i}={}){let{cwd:s,env:a,diff:c,revert:u,target:l="unstaged"}=t,p=W(),g=await e(s);if(!g)throw new Error(`${s} is not a git repository`);if(i?.aborted)return{status:"error",appliedPaths:[],skippedPaths:[],conflictedPaths:[]};let v=await uu.promises.mkdtemp(fm.join((0,d0.tmpdir)(),"codex-apply-")),h=fm.join(v,"patch.diff");await uu.promises.writeFile(h,c,"utf8"),r&&o&&(h=o(h));try{let b=a;if(u&&l==="unstaged"){let oe=await hm(g);if(!oe)p.warn(`[applyPatch] Unable to resolve git index path for ${g}; applying without temp index`);else{let $e=await gm({tmpDir:v,indexPath:oe,preferWslPaths:r,convertWindowsPathToWslPath:o});b={...a,GIT_INDEX_FILE:$e},await H2(g,c,{preferWslPaths:r,convertWslPathToWindowsPath:n,env:{...a,GIT_INDEX_FILE:$e},signal:i})}}let _=["git","apply"];u&&_.push("-R"),_.push("--3way"),l==="staged"?_.push("--cached"):l==="staged-and-unstaged"&&_.push("--index"),_.push(h);let T=await Tr({args:_,cwd:g,env:b,signal:i}).wait(),{code:P,stdout:D,stderr:q}=T;p.info(`applyPatch revert:${u} target:${l} code:${P} stdout:${D} stderr:${q}`);let{appliedPaths:ge,skippedPaths:Ze,conflictedPaths:Se}=Z2(D,q);return{status:i?.aborted||P==null?"error":P===0?"success":P===1?"partial-success":"error",appliedPaths:ge,skippedPaths:Ze,conflictedPaths:Se}}finally{await uu.promises.rm(v,{recursive:!0,force:!0})}}async function H2(t,e,{preferWslPaths:r,convertWslPathToWindowsPath:o,env:n,signal:i}){let s=B2(e);if(s.length===0)return;let a=[];if(await Promise.all(s.map(async c=>{let u=__(t,t,c),l=fm.join(t,u);r&&o&&(l=o(l));try{await uu.promises.access(l),a.push(u)}catch{}})),a.length!==0){if(i?.aborted)throw new Error("Apply patch canceled");await Tr({args:["git","add","--",...a],cwd:t,env:n,signal:i}).check()}}var uu,d0,fm,mm=E(()=>{uu=require("node:fs"),d0=require("node:os"),fm=H(require("node:path"));er();ou();yn()});function __(t,e,r){let o=V2(e,r),n=G2(t,o);return n?x_(n):r}function x_(t){return t.split(/[/\\]+/).join("/")}function V2(t,e){return(0,We.isAbsolute)(e)?e:(0,We.resolve)(t,e)}function G2(t,e){let r=(0,We.relative)(t,e);return r===""||r.startsWith("..")||(0,We.isAbsolute)(r)?null:r}async function we(t,e,{env:r,signal:o,timeoutMs:n,onStdoutRaw:i,onStderrRaw:s,trim:a=!0,allowedNonZeroExitCodes:c}={}){if(o&&o.aborted)return{success:!1,code:null,stdout:"",stderr:"git process aborted"};let u=!1,l=!1,p;try{p=Tr({args:["git",...e],cwd:t,env:r?{...process.env,...r}:process.env,stdoutChunkHandler:h=>{i?.(h)},stderrChunkHandler:h=>{s?.(h)}})}catch(h){return{success:!1,code:null,stdout:"",stderr:h instanceof Error?h.message:"Failed to start git process"}}let g=()=>{Pr().debug(`aborted: ${t} ${e.join(" ")}`),l=!0,p.kill()};o&&(o.addEventListener("abort",g),o.aborted&&g());let v=n!=null?setTimeout(()=>{u=!0,p.kill()},n):null;try{let{stdout:h,stderr:b,code:_}=await p.wait(),w=a?h.trim():h,T=a?b.trim():b;return v&&clearTimeout(v),o&&o.removeEventListener("abort",g),l?{success:!1,code:_,stdout:w,stderr:T?`${T}
git process aborted`:"git process aborted"}:{success:_!=null&&(_===0||Array.isArray(c)&&c.includes(_)),code:_,stdout:w,stderr:u?`${T}git process timed out after ${n}ms`:T}}catch(h){v&&clearTimeout(v),o&&o.removeEventListener("abort",g);let b=p.getStdout().toString("utf8"),_=p.getStderr().toString("utf8"),w=h instanceof Error?h.message:String(h);return{success:!1,code:null,stdout:b,stderr:w?`${_}${w}`:_}}}async function hi(t,e,r={}){return we(t,[...K2,...J2,...e],r)}async function Nt(t,e){let{success:r,stdout:o}=await we(t,["rev-parse","--show-toplevel"],{signal:e});return r&&o?o:null}async function E_(t,e){let{success:r,stdout:o}=await we(t,["rev-parse","--git-dir"],{signal:e});return!r||!o?null:(0,We.isAbsolute)(o)?o:(0,We.join)(t,o)}async function qs(t,e){let{success:r,stdout:o}=await we(t,["rev-parse","--abbrev-ref","HEAD"],{signal:e});return!r||!o?null:o!=="HEAD"?o:null}async function m0(t,e=Fs,r){let o=await we(t,["symbolic-ref","--quiet",`refs/remotes/${e}/HEAD`],{signal:r});if(o.success&&o.stdout){let s=o.stdout.split("/");return s[s.length-1]??null}let n=await we(t,["remote","show",e],{env:{GIT_TERMINAL_PROMPT:"0"},timeoutMs:1e4,signal:r});if(!n.success||!n.stdout)return null;let i=/HEAD branch:\s*(.+)/.exec(n.stdout);return i?i[1].trim():null}async function Ws(t,e){let r=await vm(t,e);if(r.length===0)return null;for(let o of r){let n=await m0(t,o,e);if(n)return{remote:o,branch:n}}return null}async function vm(t,e){let r=await we(t,["remote"],{signal:e});if(!r.success||!r.stdout)return[];let o=r.stdout.split(`
`).map(n=>n.trim()).filter(n=>n.length>0);return o.includes(Fs)&&o.length>1?[Fs,...o.filter(n=>n!==Fs)]:o}async function h0(t,e){let{success:r,stdout:o}=await we(t,["rev-parse","--git-common-dir"],{signal:e});if(!r||!o)return null;let n=(0,We.isAbsolute)(o)?o:(0,We.resolve)(t,o);return n}async function hm(t){return y0(t,"index")}async function g0(t){return y0(t,"HEAD")}async function y0(t,e,r){let{success:o,stdout:n}=await we(t,["rev-parse","--git-path",e],{signal:r});if(!o||!n)return null;if((0,We.isAbsolute)(n))return n;if(n.startsWith(".git/"))return(0,We.join)(t,n);let i=await E_(t,r);return i?(0,We.join)(i,n):null}async function gm({tmpDir:t,indexPath:e,preferWslPaths:r=!1,convertWindowsPathToWslPath:o=void 0}){let n=We.default.join(t,"index");await Rr.promises.copyFile(e,n);let i=n;return r&&o&&(i=o(n)),i}function Y2(){return(0,We.join)(mt(),"worktrees")}async function k_(t,e,r){let{success:o,stdout:n}=await we(t,["for-each-ref",`--count=${e}`,"--sort=-committerdate","refs/heads","--format=%(refname:short)"],{signal:r});return!o||!n?[]:n.split(`
`).map(i=>i.trim()).filter(i=>i.length>0)}async function lu(t,e,r){let o=e.trim();if(!o)return null;let n=async b=>(await we(t,["rev-parse","--verify","--quiet",b],{signal:r})).success,i=[],s=new Set,a=async b=>{let _=b?.trim();!_||s.has(_)||await n(_)&&(i.push(_),s.add(_))},c=await we(t,["for-each-ref","--format=%(upstream:short)",`refs/heads/${o}`],{signal:r}),u=c.success?c.stdout.trim():null;await a(u),await a(o);let l=await we(t,["remote"],{signal:r});if(l.success&&l.stdout){let b=l.stdout.split(`
`).map(ge=>ge.trim()).filter(ge=>ge.length>0),_=new Set(b),w=o.indexOf("/"),T=w>0?o.slice(0,w):null,P=T!=null&&_.has(T),D=P&&w+1<o.length?o.slice(w+1):null,q=[];for(let ge of b){if(P&&ge===T){D&&q.push(a(`refs/remotes/${ge}/${D}`));continue}q.push(a(`${ge}/${o}`),a(`refs/remotes/${ge}/${o}`))}await Promise.all(q)}let p=i[0];if(!p)return null;let{success:g,stdout:v}=await we(t,["merge-base","HEAD",p],{signal:r});if(!g||!v)return null;let h=v.trim();return h.length>0?h:null}async function I_(t,{includePaths:e,signal:r}={}){let o=["ls-files","--others","--exclude-standard","-z"];e&&e.length>0&&o.push("--",...e);let n=await we(t,o,{trim:!1,signal:r});return n.success?{success:!0,paths:n.stdout.split("\0").map(s=>s.trim()).filter(s=>s.length>0)??[],gitRoot:t}:{success:!1,paths:[],gitRoot:t}}async function T_(t,e,r){if(!e.success||!e.gitRoot)return{success:!1,sections:[]};let o=e.gitRoot??t,n=await Promise.all(e.paths.map(async s=>{let a=await hi(o,["--no-index","--","/dev/null",s],{trim:!1,allowedNonZeroExitCodes:[0,1],signal:r});return a.success?{success:!0,section:a.stdout.trim().length>0?a.stdout:null}:{success:!1,section:null}}));return n.some(({success:s})=>!s)?{success:!1,sections:[]}:{success:!0,sections:n.map(({section:s})=>s).filter(s=>!!s)}}async function v0(t,e){let r=await E_(t,e);if(!r)return{type:"error"};let o=null;try{o=await Rr.promises.mkdtemp((0,We.join)((0,S_.tmpdir)(),"codex-git-index"));let n=(0,We.join)(r,"index"),i=(0,We.join)(o,"index");await Rr.promises.copyFile(n,i).catch(u=>{if(u.code!=="ENOENT")throw u});let s={GIT_INDEX_FILE:i},a=await we(t,["add","-A"],{env:s,signal:e});if(!a.success)return Pr().warn(`failed to stage uncommitted diff in ${t}: ${a.stderr||a.stdout}`),{type:"error"};let c=await hi(t,["--cached"],{trim:!1,allowedNonZeroExitCodes:[0,1],env:s,signal:e});return c.success?{type:"success",unifiedDiff:c.stdout}:(Pr().warn(`failed to collect uncommitted diff in ${t}: ${c.stderr||c.stdout}`),{type:"error"})}catch(n){return Pr().error(`failed to collect uncommitted diff: ${String(n)}`),{type:"error"}}finally{o&&await Rr.promises.rm(o,{recursive:!0,force:!0})}}async function X2(t,e){let r=await hi(t,[],{trim:!1,allowedNonZeroExitCodes:[0,1],signal:e});if(!r.success)return{type:"error"};let o=[];r.stdout.trim().length>0&&o.push(r.stdout);let n=await I_(t,{signal:e}),i=await T_(t,n,e);return i.success?(o.push(...i.sections),{type:"success",unifiedDiff:o.map(s=>s.trim()).join(`
`)}):{type:"error"}}async function Q2(t,e,r,o){if(!e||e.trim().length===0)return{type:"error"};let n=await hi(t,[e],{trim:!1,allowedNonZeroExitCodes:[0,1],signal:o});if(!n.success||!r.success)return{type:"error"};let i=[];n.stdout.trim().length>0&&i.push(n.stdout);let s=await T_(t,r,o);return s.success?(i.push(...s.sections),{type:"success",unifiedDiff:i.map(a=>a.trim()).join(`
`)}):{type:"error"}}async function b0(t,e){let r=await Nt(t,e);if(!r)return{stagedChanges:{type:"error"},unstagedChanges:{type:"error"}};let[o,n]=await Promise.all([hi(r,["--cached"],{trim:!1,allowedNonZeroExitCodes:[0,1],signal:e}),X2(r,e)]);return{stagedChanges:o.success?{type:"success",unifiedDiff:o.stdout}:{type:"error"},unstagedChanges:n}}async function _0(t,e,r){let o=await Nt(t,r);if(!o)return{stagedChanges:{type:"error"},unstagedChanges:{type:"error"}};let n=x_((0,We.relative)(o,t)),i=e.map(h=>{let b=x_(h),w=n.length>0&&(b===n||b.startsWith(`${n}/`))?o:t;return __(o,w,h)});if(i.length===0)return{stagedChanges:{type:"success",unifiedDiff:""},unstagedChanges:{type:"success",unifiedDiff:""}};let s=["--cached","--",...i],a=["--",...i],[c,u]=await Promise.all([hi(o,s,{trim:!1,allowedNonZeroExitCodes:[0,1],signal:r}),hi(o,a,{trim:!1,allowedNonZeroExitCodes:[0,1],signal:r})]),l=c.success?{type:"success",unifiedDiff:c.stdout}:{type:"error"},p=await I_(o,{includePaths:i,signal:r}),g=await T_(t,p,r);if(g.success&&g.sections.length>0){let h=u.success&&u.stdout?`${u.stdout.trimEnd()}
${g.sections.join(`
`)}`:g.sections.join(`
`);return{stagedChanges:l,unstagedChanges:{type:"success",unifiedDiff:h}}}let v=u.success?{type:"success",unifiedDiff:u.stdout}:{type:"error"};return{stagedChanges:l,unstagedChanges:v}}async function w0(t,e){let r=await Nt(t,e);if(!r)return{gitRoot:null,branch:null,baseBranch:null,baseBranchRemote:null,branchChanges:{type:"error"}};let[o,n]=await Promise.all([qs(r,e),Ws(r,e)]);if(!o)return{gitRoot:r,branch:null,baseBranch:null,baseBranchRemote:null,branchChanges:{type:"error"}};if(!n)return{gitRoot:r,branch:o,baseBranch:null,baseBranchRemote:null,branchChanges:{type:"error"}};let{branch:i,remote:s}=n,a=i,c=a.includes("/")?a:`${s}/${a}`,u=await lu(r,c,e);if(!u)return{gitRoot:r,branch:o,baseBranch:a,baseBranchRemote:s,branchChanges:{type:"error"}};let l=await I_(r,{signal:e}),p=await Q2(t,u,l,e);return{gitRoot:r,branch:o,baseBranch:a,baseBranchRemote:s,branchChanges:p}}async function bm(t,e){let[r,o]=await Promise.all([Nt(t,e),v0(t,e)]),n=r?await qs(r,e):null;return{gitRoot:r,branch:n,baseBranch:n,baseBranchRemote:null,uncommittedChanges:o}}async function x0(t,e){let r=await we(t,["status","--porcelain=v1","-z"],{trim:!1,signal:e});if(!r.success)return{type:"error"};let o=0,n=0,i=0,s=r.stdout,a=0;for(;a<s.length&&!(a+1>=s.length);){let c=s[a],u=s[a+1];c==="?"&&u==="?"?i+=1:(c!==" "&&(o+=1),u!==" "&&(n+=1));let l=s.indexOf("\0",a);if(l===-1)break;if(a=l+1,c==="R"||c==="C"||u==="R"||u==="C"){let p=s.indexOf("\0",a);if(p===-1)break;a=p+1}}return{type:"success",stagedCount:o,unstagedCount:n,untrackedCount:i}}async function S0(t,e){let r=await E_(t,e);if(!r)return{lastModified:0};let o=(0,We.join)(r,"index");try{return{lastModified:(await Rr.promises.stat(o)).mtimeMs}}catch(n){return n.code==="ENOENT"?{lastModified:0}:(Pr().error(`failed to read index info for ${o}: ${String(n)}`),{lastModified:0})}}async function _m(t,e,r){let o=await we(t,["config","--get",...e],{signal:r});return o.success&&o.stdout?o.stdout:null}async function wm(t,e){return _m(t,[`remote.${Fs}.url`],e)}async function E0({cwd:t,refspec:e,setUpstream:r}){let o=t.trim();if(!o)throw new Error("No workspace available for push");let n=["push","--porcelain"];r&&n.push("-u");let i="";if(!i){let c=await Nt(o);c&&(i=(await Ws(c))?.remote??"",i||(i=(await vm(c))[0]??""))}if(!i)throw new Error("No git remote configured for push");n.push(i);let s=e?.trim();s&&n.push(s);let a=await we(o,n,{env:{GIT_TERMINAL_PROMPT:"0"}});return a.success?{status:"success",remote:i,refspec:s??null}:{status:"error",error:u0(a.stdout,a.stderr)}}async function k0({cwd:t,branch:e}){let r=t.trim();if(!r)throw new Error("No workspace available for branch creation");let o=e.trim();if(!o)throw new Error("Branch name is required");let n=await we(r,["checkout","-b",o],{allowedNonZeroExitCodes:[128,1],env:{GIT_TERMINAL_PROMPT:"0"}});if(!n.success){let i=await we(r,["checkout",o],{allowedNonZeroExitCodes:[128,1],env:{GIT_TERMINAL_PROMPT:"0"}});if(!i.success)throw new Error(i.stderr||i.stdout||n.stderr||n.stdout||"Failed to checkout branch")}return{status:"success",branch:o}}function eH(t){let e=t.trim();return e=e.replace(/^[a-z]+:\/\//i,""),e=e.replace(/^[^@]+@/,""),e=e.replace(":","/"),e=e.replace(/^github\.com\/(?!\d)/,""),e=e.replace(/\.git$/,""),e=e.replace(/[/\\]+/g,"__"),e=e.replace(/^([a-zA-Z0-9._-]+)\.com_/,"$1_"),e=e.replace(/[^a-zA-Z0-9._-]/g,"_"),e=e.replace(/_+/g,"_"),e=e.replace(/^[_-]+|[_-]+$/g,""),e}async function tH({originUrl:t,workspaceRoot:e,worktreesRoot:r=Y2(),signal:o}){let n=await Nt(e,o);if(!n)return Pr().error(`[createWorktreePath] failed to resolve git root for workspace ${e}`),{success:!1};let i=t?eH(t):BP(e),s=(0,We.join)(r,i),a=new Date().toISOString().slice(2,16).replace(/[-T:]/g,""),u=`${`${a.slice(0,6)}-${a.slice(6,10)}`}-${(0,ym.randomUUID)().split("-")[0]}`,l=(0,We.join)(s,u),p=(0,We.relative)(n,e),g=(0,We.join)(l,p);return{success:!0,worktreeGitRoot:l,worktreeWorkspaceRoot:g}}async function rH(t,e,r){let o=async()=>e.type==="branch"?e.branchName:await qs(t,r)??await m0(t,Fs,r)??"HEAD",n=async()=>{if(e.type!=="working-tree")return null;let a=await v0(t,r);return a.type==="error"?null:a.unifiedDiff},[i,s]=await Promise.all([o(),n()]);return{startingRef:i,startingDiff:s}}async function nH(t,e,r,o){let n=o?.onLog,i=o?.signal;if(i&&i.aborted)return{success:!1,error:new Error("Operation canceled")};let{startingRef:s,startingDiff:a}=await rH(t,r,i);if(i&&i.aborted)return{success:!1,error:new Error("Operation canceled")};let c=["worktree","add","--detach",e,s];Pr().info(`git ${t} ${c.join(" ")}`);let u=await we(t,c,{onStdoutRaw:n?l=>n("stdout",l):void 0,onStderrRaw:n?l=>n("stderr",l):void 0,signal:i});if(!u.success)return{success:!1,error:new Error(`git worktree add failed: ${u.stderr||u.stdout}`)};if(i&&i.aborted)return{success:!1,error:new Error("Operation canceled")};if(a){n?.("info",Buffer.from(`[info] Applying working tree diff to new worktree
`,"utf8"));let l=await Us({cwd:e,diff:a,revert:!1},{resolveRoot:async p=>p});if(l.status!=="success"){let p=`git apply failed: applied:${l.appliedPaths.length} skipped:${l.skippedPaths.length} conflicted:${l.conflictedPaths.length}`;return n?.("info",Buffer.from(`${p}
`,"utf8")),{success:!1,error:new Error(p)}}}return{success:!0}}async function I0({workspaceRoot:t,startingState:e,signal:r,onLog:o}){if(r?.aborted)return{success:!1,error:new Error("Request canceled")};let n=await Nt(t,r);if(!n)return{success:!1,error:new Error("Not a git repository")};if(r?.aborted)return{success:!1,error:new Error("Request canceled")};let i=await _m(n,["remote.origin.url"],r)??null;if(r?.aborted)return{success:!1,error:new Error("Request canceled")};let s=await tH({originUrl:i,workspaceRoot:t,signal:r});if(!s.success)return{success:!1,error:new Error("Failed to compute worktree path")};if(r?.aborted)return{success:!1,error:new Error("Request canceled")};let{worktreeGitRoot:a,worktreeWorkspaceRoot:c}=s,u=await nH(n,a,e,{onLog:o,signal:r});if(!u.success)return{success:!1,error:u.error};if(r?.aborted)return{success:!1,error:new Error("Request canceled")};o?.("info",Buffer.from(`Worktree created at ${c}
`,"utf8"));let l=await c0(t,c);if(r?.aborted)return{success:!1,error:new Error("Request canceled")};let p=a0(l);if(!p)return o?.("info",Buffer.from(`No local environment setup found
`,"utf8")),{success:!0,worktreeGitRoot:a,worktreeWorkspaceRoot:c,setupResult:null};if(p.type==="error")return o?.("stderr",Buffer.from(`${p.error.message}
`,"utf8")),{success:!1,error:p.error};o?.("info",Buffer.from(`Running setup script ${p.configPath}
`,"utf8"));let g=await oH(a,p,(v,h)=>{o?.(v,h)},r);return r?.aborted?{success:!1,error:new Error("Request canceled")}:g?.status==="failed"?(o?.("stderr",Buffer.from(`${g.error??"Setup script failed"}
`,"utf8")),{success:!1,error:new Error(g.error??"Setup script failed")}):(g?.status==="succeeded"&&o?.("info",Buffer.from(`Setup script completed
`,"utf8")),{success:!0,worktreeGitRoot:a,worktreeWorkspaceRoot:c,setupResult:g??null})}async function oH(t,e,r,o){let n=iH(e.environment.setup,process.platform);if(!n||n.length===0)return null;let i=Date.now();if(o&&o.aborted)return{cwd:t,scriptPath:e.configPath,status:"failed",startedAt:i,finishedAt:Date.now(),error:"Setup script canceled",log:""};let s=null;try{let a=We.default.join(t,e.cwdRelativeToGitRoot);W().info(`[local-environment] invoking setup script (cwd: ${a})`),s=await Rr.promises.mkdtemp(We.default.join((0,S_.tmpdir)(),"codex-local-environment-"));let c=We.default.join(s,`${(0,ym.randomUUID)()}-setup_script.sh`),u=We.default.join(s,`${(0,ym.randomUUID)()}-setup_exit_code.txt`),l=n.replace(/\r\n/g,`
`);await Rr.promises.writeFile(c,l,{mode:448});let p=`bash -xeo pipefail ${JSON.stringify(c)}; echo $? > ${JSON.stringify(u)}`,g=(0,f0.spawn)("bash",["-lc",p],{stdio:["ignore","pipe","pipe"],cwd:a}),v=new Array,h=new w_.StringDecoder("utf8"),b=new w_.StringDecoder("utf8"),_="",w="",T=(Se,oe,$e)=>{r?.($e,Se);let zr=(($e==="stdout"?_:w)+($e==="stdout"?h:b).write(Se)).split(/\r?\n/),At=zr.pop()??"";$e==="stdout"?_=At:w=At;for(let Me of zr)Me&&(v.push(Me),oe(`[${$e}] ${Me}`))},P=()=>{let Se=(oe,$e)=>{let ur=(oe==="stdout"?_:w)+(oe==="stdout"?h:b).end();oe==="stdout"?_="":w="";for(let zr of ur.split(/\r?\n/))zr&&(v.push(zr),$e(`[${oe}] ${zr}`))};Se("stdout",oe=>Pr().info(oe)),Se("stderr",oe=>Pr().error(oe))};g.stdout?.on("data",Se=>T(Se,oe=>Pr().info(oe),"stdout")),g.stderr?.on("data",Se=>T(Se,oe=>Pr().error(oe),"stderr"));let D=async()=>{try{let Se=await Rr.promises.readFile(u,"utf8"),oe=Number.parseInt(Se.trim(),10);return Number.isNaN(oe)?null:oe}catch{return null}},q=async()=>{s!=null&&await Rr.promises.rm(s,{recursive:!0,force:!0})},ge=!1,Ze=()=>{ge=!0,g.kill()};return o&&o.addEventListener("abort",Ze),new Promise(Se=>{g.once("error",oe=>{o&&o.removeEventListener("abort",Ze),(async()=>(P(),await q(),Se({scriptPath:c,cwd:a,status:"failed",startedAt:i,finishedAt:Date.now(),error:oe?.message??"Failed to run setup script",log:v.join(`
`)})))()}),g.once("close",oe=>{o&&o.removeEventListener("abort",Ze),(async()=>{let rt=await D()??oe;P(),await q();let Ce,ur;ge?(Ce="failed",ur="Setup script canceled"):rt===0?Ce="succeeded":(Ce="failed",ur=`worktree_init.sh exited with code ${rt??"unknown"}`),Se({scriptPath:c,cwd:a,status:Ce,startedAt:i,finishedAt:Date.now(),error:ur,log:v.join(`
`)})})()})})}catch(a){return s!=null&&await Rr.promises.rm(s,{recursive:!0,force:!0}),{cwd:t,scriptPath:e.configPath,status:"failed",startedAt:i,finishedAt:Date.now(),error:String(a),log:""}}}function iH(t,e){if(e==="darwin"){let r=t.darwin?.script;if(r&&r.length>0)return r}if(e==="linux"){let r=t.linux?.script;if(r&&r.length>0)return r}if(e==="win32"){let r=t.win32?.script;if(r&&r.length>0)return r}return t.script}async function T0(t,e){let r=await we(t,["worktree","list","--porcelain"],{signal:e});if(!r.success)throw new Error(r.stderr||r.stdout||"Failed to list worktrees for repository");return sH(r.stdout??"")}async function $0(t,e,r=!1,o){Pr().info(`Deleting worktree force: ${r} at ${e}`);let n=["worktree","remove"];r&&n.push("--force"),n.push(e);let i=await we(t,n,{signal:o});if(!i.success)throw new Error(`git worktree remove failed: ${i.stderr||i.stdout}`);try{await Rr.promises.rm(e,{recursive:!0,force:!0})}catch(s){Pr().warn(`failed to remove directory ${e}: ${String(s)}`)}}function sH(t){let e=[],r=null,o=t.split(/\r?\n/);for(let n of o){let i=n.trim();if(i.length===0){r&&(e.push(r),r=null);continue}if(i.startsWith("worktree ")){r&&e.push(r);let s=i.slice(9).trim();if(!s){r=null;continue}r={root:s,prunable:!1,locked:!1,headRef:{sha:"",type:"detached"}};continue}if(r){if(i.startsWith("HEAD ")){let s=i.slice(5).trim();r.headRef={sha:s,type:"detached"};continue}if(i.startsWith("branch ")){let s=i.slice(7).trim();s.startsWith("refs/heads/")?r.headRef={sha:r.headRef.sha,type:"branch",string:s.slice(11)}:r.headRef={sha:r.headRef.sha,type:"branch",string:s};continue}if(i==="detached"){r.headRef={sha:r.headRef.sha,type:"detached"};continue}if(i.startsWith("prunable")){r.prunable=!0;continue}i.startsWith("locked")&&(r.locked=!0)}}return r&&e.push(r),e}var f0,ym,Rr,S_,We,w_,Pr,Ude,Fs,K2,J2,yn=E(()=>{Qe();f0=require("node:child_process"),ym=require("node:crypto"),Rr=require("node:fs"),S_=require("node:os"),We=H(require("node:path")),w_=require("node:string_decoder");Wn();er();HP();ou();b_();l0();mm();Pr=Kf("git");Ude=200*1024*1024,Fs="origin",K2=["-c","diff.mnemonicPrefix=false","-c","diff.noprefix=false","-c","core.quotePath=false"],J2=["diff","--no-ext-diff","--no-textconv","--color=never","--src-prefix=a/","--dst-prefix=b/"]});async function R0(t){return Promise.all(t.map(aH))}async function aH(t){let e=await Nt(t)??t,r=await wm(e);return{dir:t,root:e,originUrl:r??null}}var P0=E(()=>{yn()});var cH,C0,A0=E(()=>{Hf();cH=re.object({state:re.string().optional(),number:re.number().optional(),url:re.string().optional()}),C0=re.array(cH)});async function Zs(t,e={}){let r={...process.env,...lH,...e.env??{}};try{let{stdout:o,stderr:n}=await uH("gh",t,{cwd:e.cwd,encoding:"utf8",env:r,timeout:e.timeoutMs});return{success:!0,code:0,stdout:o.trim(),stderr:n.trim(),isExecutableMissing:!1}}catch(o){let n=o,i=(n.stdout??"").toString(),s=(n.stderr??"").toString(),a=i.trim(),c=s.trim(),u=e.timeoutMs!=null&&n.killed===!0;!c&&!a&&u&&(c="GitHub CLI command timed out");let l=n.code,p=null;if(typeof l=="number")p=l;else if(typeof l=="string"){let g=Number.parseInt(l,10);p=Number.isFinite(g)?g:null}return{success:!1,code:p,stdout:a,stderr:c,isExecutableMissing:n.code==="ENOENT"}}}var O0,N0,uH,lH,$_=E(()=>{O0=require("node:child_process"),N0=require("node:util"),uH=(0,N0.promisify)(O0.execFile),lH={GIT_TERMINAL_PROMPT:"0",GH_PROMPT_DISABLED:"1"}});function dH(t){try{let e=new URL(t),r=e.hostname;if(!r)return{success:!1};let n=e.pathname.replace(/^\/+/,"").replace(/\.git$/i,"").split("/").filter(i=>i.length>0);return n.length>=2&&n[0]&&n[1]?{success:!0,value:{host:r,owner:n[0],repo:n[1]}}:{success:!1}}catch{return{success:!1}}}function pH(t){if(t.includes("://"))return{success:!1};let e=/^(?:[^@]+@)?([^:]+):(.+)$/.exec(t);if(!e)return{success:!1};let r=e[1]?.trim(),o=e[2]?.trim().replace(/^\/+/,"").replace(/\.git$/i,"");if(!r||!o)return{success:!1};let n=o.split("/").filter(i=>i.length>0);return n.length<2||!n[0]||!n[1]?{success:!1}:{success:!0,value:{host:r,owner:n[0],repo:n[1]}}}function D0(t){let e=t.trim();if(!e||/^[a-zA-Z]:[\\/]/.test(e))return null;if(e.includes("://")){let o=dH(e);return o.success?o.value:null}let r=pH(e);return r.success?r.value:null}var M0=E(()=>{});function z0(t){let e=D0(t);return e?e.host==="github.com"?`${e.owner}/${e.repo}`:`${e.host}/${e.owner}/${e.repo}`:null}function fH(t){if(!t)return null;let e=t.split("/").filter(r=>r.length>0);return e.length<2?null:e[e.length-2]??null}function mH(t){if(t.code===4)return!0;let e=`${t.stderr}
${t.stdout}`.toLowerCase();return e.includes("gh auth login")||e.includes("not logged into any github hosts")||e.includes("gh_token")||e.includes("gh_enterprise_token")}async function j0({cwd:t,headBranch:e}){let r=t.trim();if(!r)throw new Error("No workspace available for pull request status");let o=await Nt(r);if(!o)throw new Error("No git repository found for pull request status");let n=e.trim();if(!n)throw new Error("Head branch is required to check pull request status");let[i,s]=await Promise.all([wm(o),_m(o,["remote.upstream.url"])]),a=i?z0(i):null,c=s?z0(s):null,u=fH(a),l=c!=null&&a!=null&&c!==a,p=u&&!n.includes(":")?`${u}:${n}`:n,g=[];l&&g.push({repoArg:c,headArg:p}),g.push({repoArg:a,headArg:n});let v=async({repoArg:_,headArg:w})=>{let T=["pr","list","--head",w,"--author","@me","--state","all","--json","number,url,state"];_&&T.push("--repo",_);let P=await Zs(T,{cwd:o,timeoutMs:5e3});if(!P.success)throw P.isExecutableMissing?new Error("GitHub CLI (gh) is not installed"):mH(P)?new Error("GitHub CLI (gh) is not authenticated."):new Error(P.stderr||P.stdout||"Failed to determine pull request status");let D=P.stdout||"[]",q;try{q=JSON.parse(D)}catch{throw new Error("Failed to parse GitHub CLI response")}let ge=C0.safeParse(q);if(!ge.success)throw new Error("Unexpected GitHub CLI response");let Ze=ge.data.find(oe=>oe.state?.toUpperCase()==="OPEN"),Se=ge.data.find(oe=>oe.state?.toUpperCase()==="MERGED");return{openPullRequest:Ze??null,mergedPullRequest:Se??null}},h=null,b=null;for(let _ of g){let w=await v(_);if(w.openPullRequest){h=w.openPullRequest;break}b==null&&w.mergedPullRequest!=null&&(b=w.mergedPullRequest)}return{status:"success",hasOpenPr:!!h,url:h?.url??b?.url??null,number:h?.number??b?.number??null}}var L0=E(()=>{yn();A0();$_();M0()});function hH(t){let e=Array.from(t.matchAll(/https?:\/\/\S+/g));for(let r of e){let o=r[0].replace(/[),.]+$/,"");if(o&&/\/pull\/\d+(?:\b|$)/.test(o))return o}return null}async function R_(){return(await Zs(["--version"],{timeoutMs:1e3})).success?{isInstalled:!0,isAuthenticated:(await Zs(["auth","status"],{timeoutMs:5e3})).success}:{isInstalled:!1,isAuthenticated:!1}}async function gH(){let t=await R_();if(!t.isInstalled)throw new Error("GitHub CLI (gh) is not installed");if(!t.isAuthenticated)throw new Error("GitHub CLI (gh) is not authenticated.")}async function U0({cwd:t,headBranch:e,baseBranch:r}){let o=t?.trim();if(!o)throw new Error("No workspace available for PR creation");await gH();let n=await Nt(o);if(!n)throw new Error("No git repository found for PR creation");let i=e.trim();if(!i)throw new Error("Head branch is required");let s=await we(n,["log","-1","--pretty=%s"]),a=s.success&&s.stdout.trim().length>0?s.stdout.trim():i,c=await we(n,["log","-1","--pretty=%b"]),u=c.success?c.stdout.trim():"",l=["pr","create","--head",i,"--title",a],p=r?.trim();p&&l.push("--base",p),l.push("--body",u);let g=await Zs(l,{cwd:n,timeoutMs:15e3});if(!g.success)throw g.isExecutableMissing?new Error("GitHub CLI (gh) is not installed"):new Error(g.stderr||g.stdout||"Failed to create pull request");let v=`${g.stdout}
${g.stderr}`.trim();return{status:"success",url:v?hH(v):null}}var F0=E(()=>{yn();$_()});var q0=E(()=>{xo()});var W0=E(()=>{xo()});var Z0=E(()=>{xo()});var B0=E(()=>{xo()});function Eo(){if(process.platform==="win32")return xm.join("\\\\.\\pipe","codex-ipc");let t=xm.join(V0.tmpdir(),"codex-ipc");Sm.existsSync(t)||Sm.mkdirSync(t,{recursive:!0});let e=process.getuid?.();return xm.join(t,e?`ipc-${e}.sock`:"ipc.sock")}function Em(t,e,r,o){let n=Buffer.alloc(0),i=null,s=(c,u)=>{let l=c instanceof Error?c:new Error(String(c));try{o.reportNonFatal(l,{kind:"ipc-attachMessageReader",extra:u}),r(l)}catch{}finally{t.off("data",a),t.destroy()}},a=c=>{if(c.length!==0){if(n.length+c.length>H0){s(new Error(`[IPC] Buffer exceeded limit (${H0} bytes), terminating socket`),{bufferLengthBytes:n.length,dataLengthBytes:c.length});return}try{n=Buffer.concat([n,c])}catch(u){s(u);return}for(;;){if(i==null){if(n.length<4)return;if(i=n.readUInt32LE(0),n=n.subarray(4),i>du){s(new Error(`[IPC] Frame exceeded limit (${i} > ${du} bytes)`));return}}if(i==null||n.length<i)return;let u=n.subarray(0,i);n=n.subarray(i),i=null;let l;try{l=JSON.parse(u.toString("utf8"))}catch(p){s(p);return}try{e(l)}catch(p){s(p);return}}}};return t.on("data",a),()=>t.off("data",a)}function wt(t,e){let r=yH(e);W().debug(`[IPC] Write message: ${Gb(e)}`),t.write(r)}function yH(t){let e=Buffer.from(JSON.stringify(t),"utf8"),r=Buffer.alloc(4+e.length);return r.writeUInt32LE(e.length,0),e.copy(r,4),r}var Sm,V0,xm,du,H0,km=E(()=>{Sm=H(require("node:fs")),V0=H(require("node:os")),xm=H(require("node:path"));er();du=32*1024*1024,H0=64*1024*1024});var P_,G0,pu,C_=E(()=>{P_=require("crypto");Qe();er();km();G0=1e4,pu=class{constructor(e,r){this.server=e;this.errorReporter=r}logger=Qt("IpcRouter");clients=new Map;clientsById=new Map;pendingRequests=new Map;pendingClientDiscoveryRequests=new Map;start(){this.server.on("connection",e=>{this.logger.info("I am the router");let r=Em(e,n=>void this.handleMessage(e,n),n=>{this.logger.error("Failed to parse message",n),e.destroy()},this.errorReporter),o=()=>{r(),this.unregisterClient(e)};e.on("close",o),e.on("end",o),e.on("error",n=>{this.logger.warn("Socket error",n)})}),this.server.on("close",()=>{this.logger.info("Server closed"),this.clients.clear(),this.clientsById.clear();for(let[e,r]of this.pendingRequests.entries())clearTimeout(r.timeout),this.pendingRequests.delete(e),r.sourceSocket.writable&&wt(r.sourceSocket,{type:"response",requestId:r.originalRequestId,resultType:"error",error:"server-closed"});for(let[,e]of this.pendingClientDiscoveryRequests.entries())clearTimeout(e.timeout),e.reject(new Error("server-closed"));this.pendingClientDiscoveryRequests.clear()})}async handleMessage(e,r){switch(r.type){case"broadcast":{this.handleBroadcast(e,r);return}case"request":{this.handleRequest(e,r);return}case"response":{this.handleResponse(r);return}case"client-discovery-request":{this.logger.warn("Received unexpected client discovery request");return}case"client-discovery-response":{this.handleClientDiscoveryResponse(r);return}}}async handleBroadcast(e,r){let n=this.clients.get(e)?.id??r.sourceClientId,i={...r,sourceClientId:n};for(let s of this.clients.values())s.socket!==e&&s.socket.writable&&wt(s.socket,i)}async handleRequest(e,r){if(r.method==="initialize"){this.registerClient(e,r.requestId,r.params);return}try{let o=await this.findClientForRequest(e,r);this.forwardRequest(e,r,o)}catch{wt(e,{type:"response",requestId:r.requestId,resultType:"error",error:"no-client-found"})}}async handleResponse(e){let r=this.pendingRequests.get(e.requestId);if(!r){this.logger.warn("No pending request found for response",e.requestId);return}clearTimeout(r.timeout),this.pendingRequests.delete(e.requestId),r.sourceSocket.writable&&wt(r.sourceSocket,e)}async findClientForRequest(e,r){if(r.targetClientId){let n=this.clientsById.get(r.targetClientId);if(n&&n.socket!==e)return n;throw new Error("client-not-found")}let o=Array.from(this.clients.values()).filter(n=>n.socket!==e);return Promise.any(o.map(n=>this.sendClientDiscoveryRequest(r,n)))}async sendClientDiscoveryRequest(e,r){let o={type:"client-discovery-request",requestId:(0,P_.randomUUID)(),request:e},n=new Promise((i,s)=>{this.pendingClientDiscoveryRequests.set(o.requestId,{clientId:r.id,resolve:i,reject:s,timeout:setTimeout(()=>{this.pendingClientDiscoveryRequests.delete(o.requestId),s(new Error("timeout"))},G0)})});return wt(r.socket,o),n}async handleClientDiscoveryResponse(e){let r=this.pendingClientDiscoveryRequests.get(e.requestId);if(!r)return;let o=this.clientsById.get(r.clientId);if(this.pendingClientDiscoveryRequests.delete(e.requestId),clearTimeout(r.timeout),e.response.canHandle&&o){r.resolve(o);return}else e.response.canHandle?r.reject(new Error("client-disconnected")):r.reject(new Error("client-cannot-handle-request"))}registerClient(e,r,o){let n=this.clients.get(e);if(n){this.logger.debug("Client re-registered",n.id,o.clientType),wt(e,{type:"response",requestId:r,resultType:"success",method:"initialize",handledByClientId:n.id,result:{clientId:n.id}});return}let i=(0,P_.randomUUID)(),s={id:i,type:o.clientType,socket:e};this.clients.set(e,s),this.clientsById.set(i,s),this.broadcastClientStatus(s,"connected"),wt(e,{type:"response",requestId:r,resultType:"success",method:"initialize",handledByClientId:i,result:{clientId:i}})}unregisterClient(e){let r=this.clients.get(e);if(r){this.clients.delete(e),this.clientsById.delete(r.id),this.broadcastClientStatus(r,"disconnected");for(let[o,n]of this.pendingRequests.entries())(n.targetClientId===r.id||n.sourceClientId===r.id)&&(clearTimeout(n.timeout),this.pendingRequests.delete(o),n.sourceClientId!==r.id&&n.sourceSocket.writable&&wt(n.sourceSocket,{type:"response",requestId:n.originalRequestId,resultType:"error",error:"client-disconnected"}));for(let[o,n]of this.pendingClientDiscoveryRequests.entries())n.clientId===r.id&&(clearTimeout(n.timeout),this.pendingClientDiscoveryRequests.delete(o),n.reject(new Error("client-disconnected")))}}broadcastClientStatus(e,r){this.logger.debug("Broadcasting client status change to all clients",e.id,r);let o={type:"broadcast",method:"client-status-changed",sourceClientId:e.id,version:Vf("client-status-changed"),params:{clientId:e.id,clientType:e.type,status:r}};for(let n of this.clients.values())n.id!==e.id&&wt(n.socket,o)}forwardRequest(e,r,o,n){this.logger.debug(`Forwarding message (${r.method}) to client (${o.id})`);let i=r.requestId,s=setTimeout(()=>{let a=this.pendingRequests.get(i);a&&(this.pendingRequests.delete(i),a.sourceSocket.writable&&wt(a.sourceSocket,{type:"response",requestId:a.originalRequestId,resultType:"error",error:"request-timeout"}))},G0);this.pendingRequests.set(i,{sourceClientId:r.sourceClientId??"",sourceSocket:e,targetClientId:o.id,originalRequestId:n??r.requestId,timeout:s}),wt(o.socket,{...r,requestId:i})}}});var Im,Tm,fu,A_=E(()=>{Im=H(require("node:fs")),Tm=H(require("node:net"));er();C_();km();fu=class{constructor(e){this.errorReporter=e}logger=Qt("IpcRouterManager");routerStarted=!1;async startRouterIfNeeded(){if(this.routerStarted){this.logger.debug("Router already started.");return}if(this.logger.debug("Starting router..."),process.platform!=="win32")try{!await this.canConnectToSocket()&&Im.existsSync(Eo())&&Im.unlinkSync(Eo())}catch{}let e=Tm.createServer(),r=new pu(e,this.errorReporter);e.on("error",o=>{if(o.code==="EADDRINUSE"){this.logger.debug("Another router is active."),e.close();return}this.logger.error("Server error",o)}),e.listen(Eo(),()=>{this.routerStarted=!0,this.logger.info("Listening on",Eo()),r.start()})}async canConnectToSocket(){let e=Eo();return new Promise(r=>{let o=Tm.connect(e,()=>{o.end(),r(!0)});o.on("error",()=>r(!1))})}}});var K0,J0,vH,bH,O_,mu,Y0=E(()=>{K0=require("node:crypto"),J0=H(require("node:net"));Qe();er();A_();km();vH=1e3,bH=5e3,O_="initializing-client",mu=class{logger=Qt("IpcClient");routerManager;errorReporter;requestHandlers=new Map;broadcastHandlers=new Map;anyBroadcastHandlers=new Set;pendingResponses=new Map;disposed=!1;detachReader=null;clientId=O_;socket=null;constructor(e,r){this.errorReporter=r,this.routerManager=new fu(r),this.connect(e)}async sendBroadcast(e,r){if(!this.socket||!this.socket.writable)throw new Error("not-connected");let o=Vf(e),n={type:"broadcast",method:e,sourceClientId:this.clientId,params:r,version:o},i=Buffer.byteLength(JSON.stringify(n),"utf8");if(i>du){this.logger.warn(`[IPC] Dropping broadcast ${e} (${i} bytes > ${du} bytes)`);return}wt(this.socket,n)}addBroadcastHandler(e,r){return this.broadcastHandlers.set(e,r),()=>{this.broadcastHandlers.delete(e)}}addAnyBroadcastHandler(e){return this.anyBroadcastHandlers.add(e),()=>{this.anyBroadcastHandlers.delete(e)}}async sendRequest(e,r,{targetClientId:o}={}){let n=this.socket;if(!n||!n.writable)throw new Error("not-connected");if(this.clientId===O_&&e!=="initialize")throw new Error("not-initialized");let i={type:"request",requestId:(0,K0.randomUUID)(),sourceClientId:this.clientId,method:e,params:r,targetClientId:o};return new Promise((s,a)=>{let c=setTimeout(()=>{this.pendingResponses.delete(i.requestId),a(new Error("timeout"))},bH);this.pendingResponses.set(i.requestId,{resolve:u=>{s(u)},reject:a,timer:c}),wt(n,i)})}addRequestHandler(e,r,o){return this.requestHandlers.set(e,[r,o]),()=>{this.requestHandlers.delete(e)}}async connect(e){if(this.disposed)return;try{await this.routerManager.startRouterIfNeeded()}catch(o){this.logger.warn("Unable to start router if needed",o)}let r=Eo();await new Promise(o=>{let n=J0.connect(r,()=>{if(this.disposed){n.destroy(),o();return}this.socket=n,this.detachReader=Em(n,i=>this.handleMessage(i),i=>{this.logger.warn("Failed to parse message",i),n.destroy()},this.errorReporter),this.sendRequest("initialize",{clientType:e}).then(i=>{i.resultType==="success"&&i.method==="initialize"&&(this.clientId=i.result.clientId)}).catch(i=>{this.logger.warn("initialize failed",i),n.destroy()}),o()});n.on("error",i=>{this.logger.debug("connect error",i),o()}),n.on("close",()=>{this.detachReader&&(this.detachReader(),this.detachReader=null),this.clientId=O_;for(let[i,s]of this.pendingResponses.entries())clearTimeout(s.timer),s.reject(new Error("connection-closed")),this.pendingResponses.delete(i);this.disposed||setTimeout(()=>this.connect(e),vH)})})}async handleMessage(e){switch(e.type){case"broadcast":{this.handleBroadcast(e);return}case"client-discovery-request":{this.handleClientDiscoveryRequest(e);return}case"client-discovery-response":{this.logger.warn("Received unexpected client discovery response");return}case"response":{let r=this.pendingResponses.get(e.requestId);r&&(this.pendingResponses.delete(e.requestId),clearTimeout(r.timer),r.resolve(e),e.resultType==="success"&&e.method==="initialize"&&(this.clientId=e.result.clientId));return}case"request":{this.handleRequest(e);return}}}async handleBroadcast(e){let r=this.broadcastHandlers.get(e.method);if(this.anyBroadcastHandlers.size>0&&await Promise.all(Array.from(this.anyBroadcastHandlers).map(o=>o(e))),r){await r(e);return}this.anyBroadcastHandlers.size===0&&this.logger.warn(`Received broadcast but no handler is configured for ${e.method}`,e.method)}async handleClientDiscoveryRequest(e){let r=this.socket;if(!r){this.logger.warn("Received ipc request but there is no socket");return}let o=e.request;try{let n=this.requestHandlers.get(o.method);if(!n){wt(r,{type:"client-discovery-response",requestId:e.requestId,response:{canHandle:!1}});return}let[i]=n,s=await i(o.params);wt(r,{type:"client-discovery-response",requestId:e.requestId,response:{canHandle:s}})}catch{wt(r,{type:"client-discovery-response",requestId:e.requestId,response:{canHandle:!1}})}}async handleRequest(e){let r=this.socket;if(!r){this.logger.warn("Received ipc request but there is no socket");return}try{let o=this.requestHandlers.get(e.method);if(!o){this.logger.warn("Received ipc request but no handler is configured for method",e.method);return}let[n,i]=o,s=await i(e);wt(r,{type:"response",requestId:e.requestId,resultType:"success",method:e.method,handledByClientId:this.clientId,result:s})}catch(o){wt(r,{type:"response",requestId:e.requestId,resultType:"error",error:o instanceof Error?o.message:"error-handling-request"})}}dispose(){this.disposed=!0;for(let[,e]of this.pendingResponses)clearTimeout(e.timer),e.reject(new Error("disposed"));this.pendingResponses.clear(),this.detachReader&&(this.detachReader(),this.detachReader=null),this.socket?.destroy()}getClientId(){return this.clientId}}});var X0=E(()=>{Y0();C_();A_()});function eC(t,e){return Q0[t]<=Q0[e]}function tC(t){switch(t){case"prod":return"info";case"internal-alpha":case"public-beta":return"debug";case"dev":return"trace"}}var Q0,rC=E(()=>{Q0={error:0,warning:1,info:2,debug:3,trace:4}});var nC=E(()=>{});async function uC(t){return process.platform==="win32"?wH(t):_H(t)}async function _H(t){let{stdout:e}=await sC("ps",["-ax","-o","pid=,ppid=,etime=,command="],{encoding:"utf8",timeout:aC,maxBuffer:cC}),r=xH(e);return lC(r,t)}async function wH(t){let e=["$ErrorActionPreference = 'Stop';","Get-CimInstance Win32_Process","| Select-Object ProcessId,ParentProcessId,CommandLine,@{Name='AgeSeconds';Expression={[int]((Get-Date) - $_.CreationDate).TotalSeconds}}","| ConvertTo-Json -Depth 2"].join(" "),{stdout:r}=await sC("powershell.exe",["-NoProfile","-NonInteractive","-Command",e],{encoding:"utf8",timeout:aC,maxBuffer:cC,windowsHide:!0}),o=SH(r);return lC(o,t)}function xH(t){let e=[],r=t.split(`
`);for(let o of r){let n=o.trim();if(!n)continue;let i=/^(\d+)\s+(\d+)\s+(\S+)\s+(.+)$/.exec(n);if(!i)continue;let s=Number.parseInt(i[1],10),a=Number.parseInt(i[2],10);if(!Number.isFinite(s)||!Number.isFinite(a))continue;let c=EH(i[3]);e.push({pid:s,parentPid:a,command:i[4].trim(),ageSeconds:c})}return e}function SH(t){let e=t.trim();if(!e)return[];let r=null;try{r=JSON.parse(e)}catch{return[]}let o=Array.isArray(r)?r:[r],n=[];for(let i of o){if(!i||typeof i!="object")continue;let s=i,a=Number(s.ProcessId),c=Number(s.ParentProcessId);if(!Number.isFinite(a)||!Number.isFinite(c))continue;let u=typeof s.CommandLine=="string"?s.CommandLine.trim():"",l=typeof s.AgeSeconds=="number"&&Number.isFinite(s.AgeSeconds)?Math.max(0,Math.floor(s.AgeSeconds)):null;n.push({pid:a,parentPid:c,command:u,ageSeconds:l})}return n}function EH(t){let e=t.trim();if(e.length===0)return null;let r=0,o=e,n=e.indexOf("-");if(n>=0){let l=Number.parseInt(e.slice(0,n),10);if(!Number.isFinite(l))return null;r=l,o=e.slice(n+1)}let i=o.split(":");if(i.length<2||i.length>3)return null;let s=0,a=0,c=0;if(i.length===2){let l=Number.parseInt(i[0],10),p=Number.parseInt(i[1],10);if(!Number.isFinite(l)||!Number.isFinite(p))return null;a=l,c=p}else{let l=Number.parseInt(i[0],10),p=Number.parseInt(i[1],10),g=Number.parseInt(i[2],10);if(!Number.isFinite(l)||!Number.isFinite(p)||!Number.isFinite(g))return null;s=l,a=p,c=g}let u=c+a*60+s*3600+r*86400;return Number.isFinite(u)?u:null}function lC(t,e){let r=new Map,o=new Map;for(let c of t){r.set(c.pid,c);let u=o.get(c.parentPid);u||(u=[],o.set(c.parentPid,u)),u.push(c.pid)}let n=[],i=[],s=o.get(e);s&&i.push(...s);let a=new Set;for(;i.length>0;){let c=i.shift();if(c===void 0||a.has(c))continue;a.add(c);let u=r.get(c);u&&n.push(u);let l=o.get(c);l&&i.push(...l)}return n}var oC,iC,sC,aC,cC,dC=E(()=>{oC=require("node:child_process"),iC=require("node:util"),sC=(0,iC.promisify)(oC.execFile),aC=2e3,cC=1024*1024});async function pC(t){let e=$m.default.join(mt({preferWsl:t?.preferWsl??!1}),"prompts"),r;try{r=await N_.promises.readdir(e,{withFileTypes:!0})}catch(n){return n.code!=="ENOENT"&&console.warn(`[prompts] Failed to read prompts: ${String(n)}`),[]}let o=[];return await Promise.all(r.filter(n=>n.isFile()&&n.name.endsWith(".md")).map(async n=>{try{let i=await N_.promises.readFile($m.default.join(e,n.name),"utf8"),{description:s,argumentHint:a,content:c}=kH(i);o.push({id:$m.default.parse(n.name).name,description:s??null,argumentHint:a??null,content:c})}catch(i){console.warn(`[prompts] Failed to load prompt ${n.name}: ${String(i)}`)}})),o.sort((n,i)=>n.id.localeCompare(i.id))}function kH(t){let e=t.match(/^---\s*\n([\s\S]*?)\n---\s*/);if(!e)return{content:t.trim()};let r={},o=e[1].split(/\r?\n/);for(let i of o){let s=i.indexOf(":");if(s===-1)continue;let a=i.slice(0,s).trim(),u=i.slice(s+1).trim().replace(/^['"](.*)['"]$/,"$1");a==="description"?r.description=u:a==="argument-hint"&&(r.argumentHint=u)}let n=t.slice(e[0].length).trim();return{...r,content:n}}var N_,$m,fC=E(()=>{N_=require("node:fs"),$m=H(require("node:path"));Wn()});var Rm,mC=E(()=>{Rm=class{store={};subscribers=new Set;get(e){if(e in this.store)return this.store[e]}set(e,r){r===void 0?delete this.store[e]:this.store[e]=r,this.notifySubscribers(e,r)}addSubscriber(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}notifySubscribers(e,r){this.subscribers.forEach(o=>o(e,r))}}});async function Am({refresh:t=!1,preferWsl:e=!1,bundledRepoRoot:r=null}={}){let o=mt({preferWsl:e}),n=Dt.default.join(o,"vendor_imports"),i=Dt.default.join(n,"skills"),s=Dt.default.join(i,D_),a=Dt.default.join(n,"skills-curated-cache.json"),c=r?Dt.default.resolve(r):null,u=c?Dt.default.join(c,D_):null,l=await MH(a),p=t||!l||DH(l),g=await Bs(Dt.default.join(i,".git")),v=await Bs(s),h=u?await Bs(u):!1;try{if(!t&&!g&&!v&&h){let T=await hC({repoRoot:c??i,curatedRoot:u??s}),P=Date.now();return await yC(a,{fetchedAt:P,skills:T}),{skills:T,fetchedAt:P,source:"bundled",error:null}}let b=!1;p&&(g||!v)&&(await CH({repoRoot:i,vendorRoot:n}),await AH(i),await OH(i),b=!0);let _=await hC({repoRoot:i,curatedRoot:s}),w=b?Date.now():l?.fetchedAt??Date.now();return await yC(a,{fetchedAt:w,skills:_}),{skills:_,fetchedAt:w,source:b?"git":"cache",error:null}}catch(b){let _=b instanceof Error?b.message:String(b);return IH().warn(`[recommended-skills] ${_}`),l?{skills:l.skills,fetchedAt:l.fetchedAt,source:"cache",error:_}:{skills:[],fetchedAt:null,source:"cache",error:_}}}async function hC({repoRoot:t,curatedRoot:e}){let r=await ko.promises.readdir(e,{withFileTypes:!0});return(await Promise.all(r.map(async n=>{if(n.name.startsWith("."))return null;let i=Dt.default.join(e,n.name),s=n.isDirectory()?Dt.default.join(i,"SKILL.md"):i;if(!await Bs(s))return null;let a=await ko.promises.readFile(s,"utf8"),c=PH(a),u=n.isDirectory()?n.name:Dt.default.parse(n.name).name,l=c.description??c.shortDescription??u,p=n.isDirectory()?gC(t,i):gC(t,s);return{id:u,name:c.name??u,description:l,shortDescription:c.shortDescription??null,repoPath:p}}))).filter(n=>n!=null).sort((n,i)=>n.name.localeCompare(i.name))}function PH(t){let e=t.match(/^---\s*\n([\s\S]*?)\n---\s*/);if(!e)return{};let r={},o=e[1].split(/\r?\n/),n=!1;for(let i of o){if(i.trim().length===0)continue;if(!/^\s+/.test(i)){n=!1;let g=i.indexOf(":");if(g===-1)continue;let v=i.slice(0,g).trim(),b=i.slice(g+1).trim().replace(/^['"](.*)['"]$/,"$1");v==="name"?r.name=b:v==="description"?r.description=b:v==="short-description"||v==="short_description"||v==="shortDescription"?r.shortDescription=b:v==="metadata"&&(n=!0);continue}if(!n)continue;let a=i.trim(),c=a.indexOf(":");if(c===-1)continue;let u=a.slice(0,c).trim(),p=a.slice(c+1).trim().replace(/^['"](.*)['"]$/,"$1");(u==="short-description"||u==="short_description"||u==="shortDescription")&&(r.shortDescription=p)}return r}async function CH({repoRoot:t,vendorRoot:e}){if(await Bs(Dt.default.join(t,".git")))return;if(await Bs(t))throw new Error(`Expected ${t} to be a git checkout but found an existing directory`);await ko.promises.mkdir(e,{recursive:!0});let r=await we(e,["clone","--depth","1","--filter=blob:none","--sparse",TH,t],{env:Cm(),timeoutMs:Pm});if(!r.success)throw new Error(`git clone failed: ${r.stderr||r.stdout}`)}async function AH(t){let e=await we(t,["fetch","--depth","1","origin",$H],{env:Cm(),timeoutMs:Pm});if(!e.success)throw new Error(`git fetch failed: ${e.stderr||e.stdout}`);let r=await we(t,["reset","--hard","FETCH_HEAD"],{env:Cm(),timeoutMs:Pm});if(!r.success)throw new Error(`git reset failed: ${r.stderr||r.stdout}`)}async function OH(t){let e=await we(t,["sparse-checkout","set",NH(D_)],{env:Cm(),timeoutMs:Pm});if(!e.success)throw new Error(`git sparse-checkout failed: ${e.stderr||e.stdout}`)}function NH(t){return t.split(Dt.default.sep).join("/")}function gC(t,e){return Dt.default.relative(t,e).split(Dt.default.sep).join("/")}function Cm(){return{GIT_TERMINAL_PROMPT:"0"}}function DH(t){return Date.now()-t.fetchedAt>RH}async function Bs(t){try{return await ko.promises.stat(t),!0}catch{return!1}}async function MH(t){try{let e=await ko.promises.readFile(t,"utf8"),r=JSON.parse(e);return typeof r.fetchedAt!="number"||!Array.isArray(r.skills)?null:r}catch{return null}}async function yC(t,e){await ko.promises.mkdir(Dt.default.dirname(t),{recursive:!0}),await ko.promises.writeFile(t,JSON.stringify(e),"utf8")}var ko,Dt,IH,TH,$H,D_,RH,Pm,M_=E(()=>{ko=require("node:fs"),Dt=H(require("node:path"));Wn();yn();er();IH=Kf("recommended-skills"),TH="https://github.com/openai/skills.git",$H="main",D_=Dt.default.join("skills",".curated"),RH=10*6e4,Pm=3e4});async function _C({skillId:t,repoPath:e,installRoot:r,preferWsl:o=!1,bundledRepoRoot:n=null}){let i=mt({preferWsl:o}),s=Qr.default.join(i,"vendor_imports","skills"),a=n?Qr.default.resolve(n):null,c=await vC({repoRoot:s,bundledRepoRoot:a,repoPath:e});if(c||(await Am({refresh:!0,preferWsl:o,bundledRepoRoot:a}),c=await vC({repoRoot:s,bundledRepoRoot:a,repoPath:e})),!c)throw new Error(`Recommended skill not found at ${e}`);let u=r?Qr.default.join(r,".codex","skills"):Qr.default.join(i,"skills"),l=Qr.default.join(u,t);return await z_(l)?{destination:l}:(await gi.promises.mkdir(u,{recursive:!0}),(await gi.promises.stat(c)).isDirectory()?await gi.promises.cp(c,l,{recursive:!0}):(await gi.promises.mkdir(l,{recursive:!0}),await gi.promises.copyFile(c,Qr.default.join(l,"SKILL.md"))),{destination:l})}async function vC({repoRoot:t,bundledRepoRoot:e,repoPath:r}){let o=bC(t,r);if(await z_(o))return o;if(!e)return null;let n=bC(e,r);return await z_(n)?n:null}function bC(t,e){let r=e.split("/").join(Qr.default.sep),o=Qr.default.resolve(t,r),n=Qr.default.resolve(t);if(o===n||o.startsWith(`${n}${Qr.default.sep}`))return o;throw new Error(`Invalid skill repo path: ${e}`)}async function z_(t){try{return await gi.promises.stat(t),!0}catch{return!1}}var gi,Qr,wC=E(()=>{gi=require("node:fs"),Qr=H(require("node:path"));Wn();M_()});async function xC({skillPath:t,preferWsl:e=!1}){let r=mt({preferWsl:e}),o=mr.default.resolve(r,"skills"),n=zH({skillPath:t,codexHome:r,root:o}),i=await jH({candidates:n});if(!i)throw new Error(`Skill path is not removable: ${t}`);return await j_.promises.rm(i,{recursive:!0,force:!0}),{deletedPath:i}}function zH({skillPath:t,codexHome:e,root:r}){let o=new Set,n=t.replace(/[\\/]+$/,""),i=n.replace(/\\/g,"/"),s=mr.default.dirname(e);return o.add(mr.default.resolve(n)),i.startsWith(".codex/")&&o.add(mr.default.resolve(s,n)),i.startsWith("skills/")&&o.add(mr.default.resolve(r,i.slice(7))),o.add(mr.default.resolve(e,n)),o.add(mr.default.resolve(r,n)),Array.from(o)}async function jH({candidates:t}){return(await Promise.all(t.map(async r=>{let o=await UH(r);if(!o)return null;let n=o.isDirectory()?r:mr.default.dirname(r);return LH(n)?n:null}))).find(r=>r!=null)??null}function LH(t){let e=mr.default.resolve(t),r=e.split(mr.default.sep).filter(Boolean),o=FH(r);if(o==null)return!1;let n=mr.default.join(mr.default.sep,...r.slice(0,o+2));return e!==n&&e.startsWith(`${n}${mr.default.sep}`)}async function UH(t){try{return await j_.promises.stat(t)}catch{return null}}function FH(t){for(let e=0;e<t.length-1;e+=1)if(t[e]===".codex"&&t[e+1]==="skills")return e;return null}var j_,mr,SC=E(()=>{j_=require("node:fs"),mr=H(require("node:path"));Wn()});function IC(t){return["Generate a concise UI title (20-40 characters) for this task.","Return only the title. No quotes or trailing punctuation.","If the task includes a ticket reference (e.g. ABC-123), include it verbatim.","","Task:",t].join(`
`)}function TC(t){let r=(t.replace(/\r\n/g,`
`).split(`
`).find(o=>o.trim().length>0)??"").trim();return r.length===0||(r=r.replace(/^title[:\s]+/i,""),r=r.replace(/^[`"'\u201c\u201d\u2018\u2019]+|[`"'\u201c\u201d\u2018\u2019]+$/g,""),r=r.replace(/\s+/g," ").trim(),r=r.replace(/[.?!]+$/,"").trim(),r.length===0)||r.length<20?null:r.length>40?`${r.slice(0,39).trimEnd()}\u2026`:r}function Om(t){if(!t||typeof t!="object"||Array.isArray(t))return{titles:{},order:[]};let e=t,r={};if(e.titles&&typeof e.titles=="object")for(let[n,i]of Object.entries(e.titles))typeof i=="string"&&i.trim().length>0&&(r[n]=i);else for(let[n,i]of Object.entries(t))typeof i=="string"&&i.trim().length>0&&(r[n]=i);let o=Array.isArray(e.order)?e.order.filter(n=>typeof n=="string"&&n in r):[];for(let n of Object.keys(r))o.includes(n)||o.push(n);return qH({titles:r,order:o},200)}function qH(t,e){if(t.order.length<=e)return t;let r={...t.titles},o=[...t.order];for(;o.length>e;){let n=o.pop();n&&delete r[n]}return{titles:r,order:o}}var EC,kC,$C=E(()=>{EC="gpt-5.1-codex-mini",kC="medium"});async function AC({worktreePath:t,targetGitRoot:e,signal:r}){if(!e)throw new Error("Cannot apply worktree changes because the original checkout was not recorded");let o=Qt("applyWorktreeChanges");o.info(`start path:${t} original:${e}`);let{uncommittedChanges:n}=await bm(t,r);if(n.type==="error")throw new Error("Failed to collect worktree changes");if(n.unifiedDiff.trim().length===0)return{status:"success",appliedPaths:[],skippedPaths:[],conflictedPaths:[]};let i=await hm(e),s=async a=>(await ZH(e,a,r),Us({cwd:e,diff:n.unifiedDiff,env:a===void 0?void 0:{[CC]:a}},{signal:r}));return i?WH(i,s):(o.warn(`Failed to resolve git index path for ${e}, applying without a temp index`),s(void 0))}async function WH(t,e){let r=await L_.default.mkdtemp(PC.default.join((0,RC.tmpdir)(),"codex-index-"));try{let o=await gm({tmpDir:r,indexPath:t});return await e(o)}finally{await L_.default.rm(r,{recursive:!0,force:!0})}}async function ZH(t,e,r){if(r?.aborted)throw new Error("Staging canceled");let o=Tr({args:["git","add","-A"],cwd:t,env:e===void 0?void 0:{[CC]:e}}),n=!1,i=()=>{n=!0,o.kill()};r&&(r.addEventListener("abort",i),r.aborted&&i());try{let s=await o.wait();if(n)throw new Error("Staging canceled");if(s.code!==0)throw new Error(`Failed to stage working tree changes in temp index: ${s.stderr.toString()}`)}finally{r&&r.removeEventListener("abort",i)}}var L_,RC,PC,CC,OC=E(()=>{L_=H(require("node:fs/promises")),RC=require("node:os"),PC=H(require("node:path"));er();ou();yn();mm();CC="GIT_INDEX_FILE"});var Nm,U_=E(()=>{Nm=class{constructor(e){this.emit=e}}});async function NC(t){try{return(await F_.default.promises.stat(t)).mtimeMs}catch{return null}}var F_,yi,Dm,DC=E(()=>{F_=H(require("node:fs")),yi=require("node:path");l_();yn();er();Dm=class{constructor(e){this.options=e;this.emitHeadChangedDebounced=u_(()=>{let r={type:"git-repo-changed",changeType:"head",commonDir:this.options.commonDir,root:this.options.root};this.options.emit({type:"worker-event",event:r})},500),this.emitRemoteRefsChangedDebounced=u_(()=>{let r={type:"git-repo-changed",changeType:"remote-refs",commonDir:this.options.commonDir,root:this.options.root};this.options.emit({type:"worker-event",event:r})},500)}logger=Qt("git-repo-watcher");watchers=[];emitHeadChangedDebounced;emitRemoteRefsChangedDebounced;async start(){this.logger.info(`Starting git repo watcher for ${this.options.root}`);let e=await g0(this.options.root);await this.tryWatch(e,this.emitHeadChangedDebounced),await this.tryWatch((0,yi.join)(this.options.commonDir,"FETCH_HEAD"),this.emitRemoteRefsChangedDebounced),await this.tryWatch((0,yi.join)(this.options.commonDir,"packed-refs"),this.emitRemoteRefsChangedDebounced)}dispose(){this.watchers.forEach(e=>{e.close()}),this.watchers.length=0}async tryWatch(e,r){if(e)try{let o=(0,yi.dirname)(e),n=(0,yi.basename)(e),i=await NC(e),s=F_.default.watch(o,(a,c)=>{c&&c!==n||NC(e).then(u=>{a!=="rename"&&u===i||(i=u,this.logger.info(`Git repo changed: ${e}`),r())})});this.watchers.push(s)}catch(o){this.logger.warn("Failed to watch git path",{path:e,error:o})}}}});var BH,Mm,q_=E(()=>{Qe();yn();OC();U_();DC();BH=3,Mm=class extends Nm{watchesByRoot=new Map;inFlightRequests=new Map;canceledRequests=new Set;uncancelableRequestIds=new Set;worktreeDeleteQueue=[];worktreeDeletePromises=new Map;worktreeDeleteInFlight=0;constructor(e){super(e)}async handleRequest(e){let r=new AbortController,o=e.method!=="delete-worktree";if(o){if(this.inFlightRequests.set(e.id,r),this.canceledRequests.has(e.id)){this.canceledRequests.delete(e.id),r.abort(),this.inFlightRequests.delete(e.id);return}}else this.uncancelableRequestIds.add(e.id),this.canceledRequests.delete(e.id);let n;try{switch(e.method){case"stable-metadata":{n=await this.handleResolveStableMetadata(e.params,r.signal);break}case"current-branch":{let s=await qs(e.params.root,r.signal);n=ct({branch:s});break}case"upstream-branch":{n=ct(await this.handleUpstreamBranch(e.params,r.signal));break}case"branch-ahead-count":{n=ct(await this.handleBranchAheadCount(e.params,r.signal));break}case"default-branch":{n=await this.handleDefaultBranch(e.params,r.signal);break}case"base-branch":{n=await this.handleBaseBranch(e.params,r.signal);break}case"recent-branches":{n=await this.handleRecentBranches(e.params,r.signal);break}case"branch-changes":{let s=await w0(String(e.params.cwd),r.signal);n=ct(s);break}case"status-summary":{let s=await x0(String(e.params.cwd),r.signal);n=ct(s);break}case"staged-and-unstaged-changes":{let s=await b0(String(e.params.cwd),r.signal);n=ct(s);break}case"staged-and-unstaged-changes-for-paths":{let s=await _0(String(e.params.cwd),e.params.paths,r.signal);n=ct(s);break}case"uncommitted-changes":{let s=await bm(String(e.params.cwd),r.signal);n=ct(s);break}case"index-info":{let s=await S0(String(e.params.cwd),r.signal);n=ct(s);break}case"create-worktree":{n=await this.handleCreateWorktree(e.params,r.signal);break}case"list-worktrees":{try{let s=await T0(e.params.cwd,r.signal);n=ct({worktrees:s})}catch(s){let a=s instanceof Error?s.message:String(s);n=Qc(a)}break}case"delete-worktree":{try{await this.scheduleWorktreeDelete(e.params),n=ct({success:!0})}catch(s){let a=s instanceof Error?s.message:String(s);n=Qc(a)}break}case"apply-worktree":{n=ct(await AC({...e.params,signal:r.signal}));break}case"commit":{n=await this.handleCommit(e.params,r.signal);break}}}finally{o?this.inFlightRequests.delete(e.id):this.uncancelableRequestIds.delete(e.id)}if(o&&r.signal.aborted)return;let i={id:e.id,method:e.method,result:n};this.emit({type:"worker-response",response:i}),this.canceledRequests.delete(e.id)}handleCancel(e){if(this.uncancelableRequestIds.has(e))return;let r=this.inFlightRequests.get(e);if(r){r.abort();return}this.canceledRequests.add(e)}async scheduleWorktreeDelete(e){let r=this.worktreeDeletePromises.get(e.worktree);if(r)return r;let o=this.deleteWorktreeWithLimit(e);this.worktreeDeletePromises.set(e.worktree,o);try{return await o}finally{this.worktreeDeletePromises.delete(e.worktree)}}async deleteWorktreeWithLimit(e){let r=await this.acquireWorktreeDeleteSlot();try{return await $0(e.root,e.worktree,e.force??!1),!0}finally{r()}}async acquireWorktreeDeleteSlot(){return this.worktreeDeleteInFlight<BH?(this.worktreeDeleteInFlight+=1,()=>{this.releaseWorktreeDeleteSlot()}):new Promise(e=>{this.worktreeDeleteQueue.push(()=>{this.worktreeDeleteInFlight+=1,e(()=>this.releaseWorktreeDeleteSlot())})})}releaseWorktreeDeleteSlot(){this.worktreeDeleteInFlight=Math.max(0,this.worktreeDeleteInFlight-1);let e=this.worktreeDeleteQueue.shift();e&&e()}async handleResolveStableMetadata(e,r){let o=await Nt(String(e.cwd),r),n=o?await h0(o,r):null;if(!o||!n)return Qc("Not a git repository");let i={commonDir:n,root:o};return await this.ensureWatching(i),ct(i)}async handleUpstreamBranch(e,r){let o=await qs(e.root,r),n=await we(e.root,["rev-parse","--abbrev-ref","--symbolic-full-name","@{u}"],{signal:r,allowedNonZeroExitCodes:[128,1]}),i=n.success&&n.stdout?n.stdout:null;return i?{branch:o,upstream:{branch:i}}:{branch:o,upstream:null}}async handleBranchAheadCount(e,r){let o=await Ws(e.root,r),n=o?.branch??null,i=o?.remote??null;i||(i=(await vm(e.root,r))[0]??null);let s=await we(e.root,["rev-parse","--abbrev-ref","--symbolic-full-name","@{u}"],{signal:r,allowedNonZeroExitCodes:[128,1]}),a=s.success&&s.stdout?s.stdout:null,c=async()=>{if(!a)return 0;let b=await we(e.root,["rev-list","--count",`${a}..HEAD`],{signal:r,allowedNonZeroExitCodes:[128,1]});if(b.success&&b.stdout){let _=Number.parseInt(b.stdout,10);if(!Number.isNaN(_))return _}return 0},u=async()=>{if(!i)return null;let b=await we(e.root,["rev-list","--count","HEAD","--not",`--remotes=${i}`],{signal:r,allowedNonZeroExitCodes:[128,1]});if(b.success&&b.stdout){let _=Number.parseInt(b.stdout,10);if(!Number.isNaN(_))return _}return null},l=async()=>{if(!n)return 0;let b=n.includes("/")?n:i?`${i}/${n}`:n,_=await lu(e.root,b,r);if(_){let w=await we(e.root,["rev-list","--count",`${_}..HEAD`],{signal:r,allowedNonZeroExitCodes:[128,1]});if(w.success&&w.stdout){let T=Number.parseInt(w.stdout,10);if(!Number.isNaN(T))return T}}return 0},[p,g,v]=await Promise.all([c(),u(),l()]),h=v;return g!=null?h=g:a!=null&&(h=p),{commitsAhead:h}}async handleDefaultBranch(e,r){let n=(await Ws(e.root,r))?.branch??null;return n||(n=(await k_(e.root,10,r)).find(s=>s==="main"||s==="master")??null),ct({branch:n})}async handleBaseBranch(e,r){let o=await Ws(e.root,r);return ct({local:o?.branch??null,remote:o?.remote??null})}async handleRecentBranches(e,r){let o=Math.max(1,Math.min(e.limit??10,25)),n=await k_(e.root,o,r);return ct({branches:n})}async handleCreateWorktree(e,r){let o=await I0({workspaceRoot:e.cwd,startingState:e.startingState,signal:r,onLog:(n,i)=>{r.aborted||this.emitCreateWorktreeStream(e.streamId,n,i)}});return o.success?ct({worktreeGitRoot:o.worktreeGitRoot,worktreeWorkspaceRoot:o.worktreeWorkspaceRoot}):Qc(o.error)}async handleCommit(e,r){let o=String(e.cwd).trim();if(!o)return ct({status:"error",error:"No workspace available for commit"});let n=await Nt(o,r);if(!n)return ct({status:"error",error:"No git repository found for commit"});let i=e.message.trim();if(!i)return ct({status:"error",error:"Commit message is required"});if(e.includeUnstaged){let c=await we(n,["add","--all"],{signal:r});if(!c.success)return ct({status:"error",error:c.stderr||c.stdout||"Failed to stage changes before commit"})}let s=await we(n,["commit","--message",i],{env:{GIT_TERMINAL_PROMPT:"0"},signal:r});if(!s.success)return ct({status:"error",error:s.stderr||s.stdout||"Failed to create commit"});let a=await we(n,["rev-parse","HEAD"],{signal:r});return ct({status:"success",commitSha:a.success&&a.stdout?a.stdout:null})}async ensureWatching(e){if(this.watchesByRoot.get(e.root))return;let o=new Dm({commonDir:e.commonDir,root:e.root,emit:n=>{this.emit(n)}});await o.start(),this.watchesByRoot.set(e.root,o)}emitCreateWorktreeStream(e,r,o){this.emit({type:"worker-event",event:{type:"create-worktree-stream",streamId:e,stream:r,data:o}})}}});function MC(t,e){switch(t){case"git":return new Mm(e)}}var zC=E(()=>{q_()});var Ge=E(()=>{FR();EP();NP();Wn();DP();a_();jP();l_();UP();ZP();yn();P0();mm();L0();F0();q0();W0();Z0();B0();X0();rC();er();nC();dC();fC();mC();wC();M_();SC();ou();xo();c_();$C();d_();zC();q_();U_();b_();Yf()});var WC=I((Xfe,qC)=>{function HH(){this.__data__=[],this.size=0}qC.exports=HH});var Z_=I((Qfe,ZC)=>{function VH(t,e){return t===e||t!==t&&e!==e}ZC.exports=VH});var hu=I((eme,BC)=>{var GH=Z_();function KH(t,e){for(var r=t.length;r--;)if(GH(t[r][0],e))return r;return-1}BC.exports=KH});var VC=I((tme,HC)=>{var JH=hu(),YH=Array.prototype,XH=YH.splice;function QH(t){var e=this.__data__,r=JH(e,t);if(r<0)return!1;var o=e.length-1;return r==o?e.pop():XH.call(e,r,1),--this.size,!0}HC.exports=QH});var KC=I((rme,GC)=>{var eV=hu();function tV(t){var e=this.__data__,r=eV(e,t);return r<0?void 0:e[r][1]}GC.exports=tV});var YC=I((nme,JC)=>{var rV=hu();function nV(t){return rV(this.__data__,t)>-1}JC.exports=nV});var QC=I((ome,XC)=>{var oV=hu();function iV(t,e){var r=this.__data__,o=oV(r,t);return o<0?(++this.size,r.push([t,e])):r[o][1]=e,this}XC.exports=iV});var gu=I((ime,eA)=>{var sV=WC(),aV=VC(),cV=KC(),uV=YC(),lV=QC();function Hs(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var o=t[e];this.set(o[0],o[1])}}Hs.prototype.clear=sV;Hs.prototype.delete=aV;Hs.prototype.get=cV;Hs.prototype.has=uV;Hs.prototype.set=lV;eA.exports=Hs});var rA=I((sme,tA)=>{var dV=gu();function pV(){this.__data__=new dV,this.size=0}tA.exports=pV});var oA=I((ame,nA)=>{function fV(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}nA.exports=fV});var sA=I((cme,iA)=>{function mV(t){return this.__data__.get(t)}iA.exports=mV});var cA=I((ume,aA)=>{function hV(t){return this.__data__.has(t)}aA.exports=hV});var B_=I((lme,uA)=>{var gV=typeof global=="object"&&global&&global.Object===Object&&global;uA.exports=gV});var vn=I((dme,lA)=>{var yV=B_(),vV=typeof self=="object"&&self&&self.Object===Object&&self,bV=yV||vV||Function("return this")();lA.exports=bV});var jm=I((pme,dA)=>{var _V=vn(),wV=_V.Symbol;dA.exports=wV});var hA=I((fme,mA)=>{var pA=jm(),fA=Object.prototype,xV=fA.hasOwnProperty,SV=fA.toString,yu=pA?pA.toStringTag:void 0;function EV(t){var e=xV.call(t,yu),r=t[yu];try{t[yu]=void 0;var o=!0}catch{}var n=SV.call(t);return o&&(e?t[yu]=r:delete t[yu]),n}mA.exports=EV});var yA=I((mme,gA)=>{var kV=Object.prototype,IV=kV.toString;function TV(t){return IV.call(t)}gA.exports=TV});var vu=I((hme,_A)=>{var vA=jm(),$V=hA(),RV=yA(),PV="[object Null]",CV="[object Undefined]",bA=vA?vA.toStringTag:void 0;function AV(t){return t==null?t===void 0?CV:PV:bA&&bA in Object(t)?$V(t):RV(t)}_A.exports=AV});var H_=I((gme,wA)=>{function OV(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}wA.exports=OV});var V_=I((yme,xA)=>{var NV=vu(),DV=H_(),MV="[object AsyncFunction]",zV="[object Function]",jV="[object GeneratorFunction]",LV="[object Proxy]";function UV(t){if(!DV(t))return!1;var e=NV(t);return e==zV||e==jV||e==MV||e==LV}xA.exports=UV});var EA=I((vme,SA)=>{var FV=vn(),qV=FV["__core-js_shared__"];SA.exports=qV});var TA=I((bme,IA)=>{var G_=EA(),kA=function(){var t=/[^.]+$/.exec(G_&&G_.keys&&G_.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function WV(t){return!!kA&&kA in t}IA.exports=WV});var K_=I((_me,$A)=>{var ZV=Function.prototype,BV=ZV.toString;function HV(t){if(t!=null){try{return BV.call(t)}catch{}try{return t+""}catch{}}return""}$A.exports=HV});var PA=I((wme,RA)=>{var VV=V_(),GV=TA(),KV=H_(),JV=K_(),YV=/[\\^$.*+?()[\]{}|]/g,XV=/^\[object .+?Constructor\]$/,QV=Function.prototype,eG=Object.prototype,tG=QV.toString,rG=eG.hasOwnProperty,nG=RegExp("^"+tG.call(rG).replace(YV,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function oG(t){if(!KV(t)||GV(t))return!1;var e=VV(t)?nG:XV;return e.test(JV(t))}RA.exports=oG});var AA=I((xme,CA)=>{function iG(t,e){return t?.[e]}CA.exports=iG});var vi=I((Sme,OA)=>{var sG=PA(),aG=AA();function cG(t,e){var r=aG(t,e);return sG(r)?r:void 0}OA.exports=cG});var Lm=I((Eme,NA)=>{var uG=vi(),lG=vn(),dG=uG(lG,"Map");NA.exports=dG});var bu=I((kme,DA)=>{var pG=vi(),fG=pG(Object,"create");DA.exports=fG});var jA=I((Ime,zA)=>{var MA=bu();function mG(){this.__data__=MA?MA(null):{},this.size=0}zA.exports=mG});var UA=I((Tme,LA)=>{function hG(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}LA.exports=hG});var qA=I(($me,FA)=>{var gG=bu(),yG="__lodash_hash_undefined__",vG=Object.prototype,bG=vG.hasOwnProperty;function _G(t){var e=this.__data__;if(gG){var r=e[t];return r===yG?void 0:r}return bG.call(e,t)?e[t]:void 0}FA.exports=_G});var ZA=I((Rme,WA)=>{var wG=bu(),xG=Object.prototype,SG=xG.hasOwnProperty;function EG(t){var e=this.__data__;return wG?e[t]!==void 0:SG.call(e,t)}WA.exports=EG});var HA=I((Pme,BA)=>{var kG=bu(),IG="__lodash_hash_undefined__";function TG(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=kG&&e===void 0?IG:e,this}BA.exports=TG});var GA=I((Cme,VA)=>{var $G=jA(),RG=UA(),PG=qA(),CG=ZA(),AG=HA();function Vs(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var o=t[e];this.set(o[0],o[1])}}Vs.prototype.clear=$G;Vs.prototype.delete=RG;Vs.prototype.get=PG;Vs.prototype.has=CG;Vs.prototype.set=AG;VA.exports=Vs});var YA=I((Ame,JA)=>{var KA=GA(),OG=gu(),NG=Lm();function DG(){this.size=0,this.__data__={hash:new KA,map:new(NG||OG),string:new KA}}JA.exports=DG});var QA=I((Ome,XA)=>{function MG(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}XA.exports=MG});var _u=I((Nme,eO)=>{var zG=QA();function jG(t,e){var r=t.__data__;return zG(e)?r[typeof e=="string"?"string":"hash"]:r.map}eO.exports=jG});var rO=I((Dme,tO)=>{var LG=_u();function UG(t){var e=LG(this,t).delete(t);return this.size-=e?1:0,e}tO.exports=UG});var oO=I((Mme,nO)=>{var FG=_u();function qG(t){return FG(this,t).get(t)}nO.exports=qG});var sO=I((zme,iO)=>{var WG=_u();function ZG(t){return WG(this,t).has(t)}iO.exports=ZG});var cO=I((jme,aO)=>{var BG=_u();function HG(t,e){var r=BG(this,t),o=r.size;return r.set(t,e),this.size+=r.size==o?0:1,this}aO.exports=HG});var J_=I((Lme,uO)=>{var VG=YA(),GG=rO(),KG=oO(),JG=sO(),YG=cO();function Gs(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var o=t[e];this.set(o[0],o[1])}}Gs.prototype.clear=VG;Gs.prototype.delete=GG;Gs.prototype.get=KG;Gs.prototype.has=JG;Gs.prototype.set=YG;uO.exports=Gs});var dO=I((Ume,lO)=>{var XG=gu(),QG=Lm(),e9=J_(),t9=200;function r9(t,e){var r=this.__data__;if(r instanceof XG){var o=r.__data__;if(!QG||o.length<t9-1)return o.push([t,e]),this.size=++r.size,this;r=this.__data__=new e9(o)}return r.set(t,e),this.size=r.size,this}lO.exports=r9});var fO=I((Fme,pO)=>{var n9=gu(),o9=rA(),i9=oA(),s9=sA(),a9=cA(),c9=dO();function Ks(t){var e=this.__data__=new n9(t);this.size=e.size}Ks.prototype.clear=o9;Ks.prototype.delete=i9;Ks.prototype.get=s9;Ks.prototype.has=a9;Ks.prototype.set=c9;pO.exports=Ks});var hO=I((qme,mO)=>{var u9="__lodash_hash_undefined__";function l9(t){return this.__data__.set(t,u9),this}mO.exports=l9});var yO=I((Wme,gO)=>{function d9(t){return this.__data__.has(t)}gO.exports=d9});var bO=I((Zme,vO)=>{var p9=J_(),f9=hO(),m9=yO();function Um(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new p9;++e<r;)this.add(t[e])}Um.prototype.add=Um.prototype.push=f9;Um.prototype.has=m9;vO.exports=Um});var wO=I((Bme,_O)=>{function h9(t,e){for(var r=-1,o=t==null?0:t.length;++r<o;)if(e(t[r],r,t))return!0;return!1}_O.exports=h9});var SO=I((Hme,xO)=>{function g9(t,e){return t.has(e)}xO.exports=g9});var Y_=I((Vme,EO)=>{var y9=bO(),v9=wO(),b9=SO(),_9=1,w9=2;function x9(t,e,r,o,n,i){var s=r&_9,a=t.length,c=e.length;if(a!=c&&!(s&&c>a))return!1;var u=i.get(t),l=i.get(e);if(u&&l)return u==e&&l==t;var p=-1,g=!0,v=r&w9?new y9:void 0;for(i.set(t,e),i.set(e,t);++p<a;){var h=t[p],b=e[p];if(o)var _=s?o(b,h,p,e,t,i):o(h,b,p,t,e,i);if(_!==void 0){if(_)continue;g=!1;break}if(v){if(!v9(e,function(w,T){if(!b9(v,T)&&(h===w||n(h,w,r,o,i)))return v.push(T)})){g=!1;break}}else if(!(h===b||n(h,b,r,o,i))){g=!1;break}}return i.delete(t),i.delete(e),g}EO.exports=x9});var IO=I((Gme,kO)=>{var S9=vn(),E9=S9.Uint8Array;kO.exports=E9});var $O=I((Kme,TO)=>{function k9(t){var e=-1,r=Array(t.size);return t.forEach(function(o,n){r[++e]=[n,o]}),r}TO.exports=k9});var PO=I((Jme,RO)=>{function I9(t){var e=-1,r=Array(t.size);return t.forEach(function(o){r[++e]=o}),r}RO.exports=I9});var DO=I((Yme,NO)=>{var CO=jm(),AO=IO(),T9=Z_(),$9=Y_(),R9=$O(),P9=PO(),C9=1,A9=2,O9="[object Boolean]",N9="[object Date]",D9="[object Error]",M9="[object Map]",z9="[object Number]",j9="[object RegExp]",L9="[object Set]",U9="[object String]",F9="[object Symbol]",q9="[object ArrayBuffer]",W9="[object DataView]",OO=CO?CO.prototype:void 0,X_=OO?OO.valueOf:void 0;function Z9(t,e,r,o,n,i,s){switch(r){case W9:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case q9:return!(t.byteLength!=e.byteLength||!i(new AO(t),new AO(e)));case O9:case N9:case z9:return T9(+t,+e);case D9:return t.name==e.name&&t.message==e.message;case j9:case U9:return t==e+"";case M9:var a=R9;case L9:var c=o&C9;if(a||(a=P9),t.size!=e.size&&!c)return!1;var u=s.get(t);if(u)return u==e;o|=A9,s.set(t,e);var l=$9(a(t),a(e),o,n,i,s);return s.delete(t),l;case F9:if(X_)return X_.call(t)==X_.call(e)}return!1}NO.exports=Z9});var zO=I((Xme,MO)=>{function B9(t,e){for(var r=-1,o=e.length,n=t.length;++r<o;)t[n+r]=e[r];return t}MO.exports=B9});var Fm=I((Qme,jO)=>{var H9=Array.isArray;jO.exports=H9});var UO=I((ehe,LO)=>{var V9=zO(),G9=Fm();function K9(t,e,r){var o=e(t);return G9(t)?o:V9(o,r(t))}LO.exports=K9});var qO=I((the,FO)=>{function J9(t,e){for(var r=-1,o=t==null?0:t.length,n=0,i=[];++r<o;){var s=t[r];e(s,r,t)&&(i[n++]=s)}return i}FO.exports=J9});var ZO=I((rhe,WO)=>{function Y9(){return[]}WO.exports=Y9});var VO=I((nhe,HO)=>{var X9=qO(),Q9=ZO(),eK=Object.prototype,tK=eK.propertyIsEnumerable,BO=Object.getOwnPropertySymbols,rK=BO?function(t){return t==null?[]:(t=Object(t),X9(BO(t),function(e){return tK.call(t,e)}))}:Q9;HO.exports=rK});var KO=I((ohe,GO)=>{function nK(t,e){for(var r=-1,o=Array(t);++r<t;)o[r]=e(r);return o}GO.exports=nK});var wu=I((ihe,JO)=>{function oK(t){return t!=null&&typeof t=="object"}JO.exports=oK});var XO=I((she,YO)=>{var iK=vu(),sK=wu(),aK="[object Arguments]";function cK(t){return sK(t)&&iK(t)==aK}YO.exports=cK});var rN=I((ahe,tN)=>{var QO=XO(),uK=wu(),eN=Object.prototype,lK=eN.hasOwnProperty,dK=eN.propertyIsEnumerable,pK=QO(function(){return arguments}())?QO:function(t){return uK(t)&&lK.call(t,"callee")&&!dK.call(t,"callee")};tN.exports=pK});var oN=I((che,nN)=>{function fK(){return!1}nN.exports=fK});var Q_=I((xu,Js)=>{var mK=vn(),hK=oN(),aN=typeof xu=="object"&&xu&&!xu.nodeType&&xu,iN=aN&&typeof Js=="object"&&Js&&!Js.nodeType&&Js,gK=iN&&iN.exports===aN,sN=gK?mK.Buffer:void 0,yK=sN?sN.isBuffer:void 0,vK=yK||hK;Js.exports=vK});var uN=I((uhe,cN)=>{var bK=9007199254740991,_K=/^(?:0|[1-9]\d*)$/;function wK(t,e){var r=typeof t;return e=e??bK,!!e&&(r=="number"||r!="symbol"&&_K.test(t))&&t>-1&&t%1==0&&t<e}cN.exports=wK});var ew=I((lhe,lN)=>{var xK=9007199254740991;function SK(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=xK}lN.exports=SK});var pN=I((dhe,dN)=>{var EK=vu(),kK=ew(),IK=wu(),TK="[object Arguments]",$K="[object Array]",RK="[object Boolean]",PK="[object Date]",CK="[object Error]",AK="[object Function]",OK="[object Map]",NK="[object Number]",DK="[object Object]",MK="[object RegExp]",zK="[object Set]",jK="[object String]",LK="[object WeakMap]",UK="[object ArrayBuffer]",FK="[object DataView]",qK="[object Float32Array]",WK="[object Float64Array]",ZK="[object Int8Array]",BK="[object Int16Array]",HK="[object Int32Array]",VK="[object Uint8Array]",GK="[object Uint8ClampedArray]",KK="[object Uint16Array]",JK="[object Uint32Array]",nt={};nt[qK]=nt[WK]=nt[ZK]=nt[BK]=nt[HK]=nt[VK]=nt[GK]=nt[KK]=nt[JK]=!0;nt[TK]=nt[$K]=nt[UK]=nt[RK]=nt[FK]=nt[PK]=nt[CK]=nt[AK]=nt[OK]=nt[NK]=nt[DK]=nt[MK]=nt[zK]=nt[jK]=nt[LK]=!1;function YK(t){return IK(t)&&kK(t.length)&&!!nt[EK(t)]}dN.exports=YK});var mN=I((phe,fN)=>{function XK(t){return function(e){return t(e)}}fN.exports=XK});var gN=I((Su,Ys)=>{var QK=B_(),hN=typeof Su=="object"&&Su&&!Su.nodeType&&Su,Eu=hN&&typeof Ys=="object"&&Ys&&!Ys.nodeType&&Ys,e3=Eu&&Eu.exports===hN,tw=e3&&QK.process,t3=function(){try{var t=Eu&&Eu.require&&Eu.require("util").types;return t||tw&&tw.binding&&tw.binding("util")}catch{}}();Ys.exports=t3});var rw=I((fhe,bN)=>{var r3=pN(),n3=mN(),yN=gN(),vN=yN&&yN.isTypedArray,o3=vN?n3(vN):r3;bN.exports=o3});var wN=I((mhe,_N)=>{var i3=KO(),s3=rN(),a3=Fm(),c3=Q_(),u3=uN(),l3=rw(),d3=Object.prototype,p3=d3.hasOwnProperty;function f3(t,e){var r=a3(t),o=!r&&s3(t),n=!r&&!o&&c3(t),i=!r&&!o&&!n&&l3(t),s=r||o||n||i,a=s?i3(t.length,String):[],c=a.length;for(var u in t)(e||p3.call(t,u))&&!(s&&(u=="length"||n&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||u3(u,c)))&&a.push(u);return a}_N.exports=f3});var SN=I((hhe,xN)=>{var m3=Object.prototype;function h3(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||m3;return t===r}xN.exports=h3});var kN=I((ghe,EN)=>{function g3(t,e){return function(r){return t(e(r))}}EN.exports=g3});var TN=I((yhe,IN)=>{var y3=kN(),v3=y3(Object.keys,Object);IN.exports=v3});var RN=I((vhe,$N)=>{var b3=SN(),_3=TN(),w3=Object.prototype,x3=w3.hasOwnProperty;function S3(t){if(!b3(t))return _3(t);var e=[];for(var r in Object(t))x3.call(t,r)&&r!="constructor"&&e.push(r);return e}$N.exports=S3});var CN=I((bhe,PN)=>{var E3=V_(),k3=ew();function I3(t){return t!=null&&k3(t.length)&&!E3(t)}PN.exports=I3});var ON=I((_he,AN)=>{var T3=wN(),$3=RN(),R3=CN();function P3(t){return R3(t)?T3(t):$3(t)}AN.exports=P3});var DN=I((whe,NN)=>{var C3=UO(),A3=VO(),O3=ON();function N3(t){return C3(t,O3,A3)}NN.exports=N3});var jN=I((xhe,zN)=>{var MN=DN(),D3=1,M3=Object.prototype,z3=M3.hasOwnProperty;function j3(t,e,r,o,n,i){var s=r&D3,a=MN(t),c=a.length,u=MN(e),l=u.length;if(c!=l&&!s)return!1;for(var p=c;p--;){var g=a[p];if(!(s?g in e:z3.call(e,g)))return!1}var v=i.get(t),h=i.get(e);if(v&&h)return v==e&&h==t;var b=!0;i.set(t,e),i.set(e,t);for(var _=s;++p<c;){g=a[p];var w=t[g],T=e[g];if(o)var P=s?o(T,w,g,e,t,i):o(w,T,g,t,e,i);if(!(P===void 0?w===T||n(w,T,r,o,i):P)){b=!1;break}_||(_=g=="constructor")}if(b&&!_){var D=t.constructor,q=e.constructor;D!=q&&"constructor"in t&&"constructor"in e&&!(typeof D=="function"&&D instanceof D&&typeof q=="function"&&q instanceof q)&&(b=!1)}return i.delete(t),i.delete(e),b}zN.exports=j3});var UN=I((She,LN)=>{var L3=vi(),U3=vn(),F3=L3(U3,"DataView");LN.exports=F3});var qN=I((Ehe,FN)=>{var q3=vi(),W3=vn(),Z3=q3(W3,"Promise");FN.exports=Z3});var ZN=I((khe,WN)=>{var B3=vi(),H3=vn(),V3=B3(H3,"Set");WN.exports=V3});var HN=I((Ihe,BN)=>{var G3=vi(),K3=vn(),J3=G3(K3,"WeakMap");BN.exports=J3});var eD=I((The,QN)=>{var nw=UN(),ow=Lm(),iw=qN(),sw=ZN(),aw=HN(),XN=vu(),Xs=K_(),VN="[object Map]",Y3="[object Object]",GN="[object Promise]",KN="[object Set]",JN="[object WeakMap]",YN="[object DataView]",X3=Xs(nw),Q3=Xs(ow),eJ=Xs(iw),tJ=Xs(sw),rJ=Xs(aw),bi=XN;(nw&&bi(new nw(new ArrayBuffer(1)))!=YN||ow&&bi(new ow)!=VN||iw&&bi(iw.resolve())!=GN||sw&&bi(new sw)!=KN||aw&&bi(new aw)!=JN)&&(bi=function(t){var e=XN(t),r=e==Y3?t.constructor:void 0,o=r?Xs(r):"";if(o)switch(o){case X3:return YN;case Q3:return VN;case eJ:return GN;case tJ:return KN;case rJ:return JN}return e});QN.exports=bi});var cD=I(($he,aD)=>{var cw=fO(),nJ=Y_(),oJ=DO(),iJ=jN(),tD=eD(),rD=Fm(),nD=Q_(),sJ=rw(),aJ=1,oD="[object Arguments]",iD="[object Array]",qm="[object Object]",cJ=Object.prototype,sD=cJ.hasOwnProperty;function uJ(t,e,r,o,n,i){var s=rD(t),a=rD(e),c=s?iD:tD(t),u=a?iD:tD(e);c=c==oD?qm:c,u=u==oD?qm:u;var l=c==qm,p=u==qm,g=c==u;if(g&&nD(t)){if(!nD(e))return!1;s=!0,l=!1}if(g&&!l)return i||(i=new cw),s||sJ(t)?nJ(t,e,r,o,n,i):oJ(t,e,c,r,o,n,i);if(!(r&aJ)){var v=l&&sD.call(t,"__wrapped__"),h=p&&sD.call(e,"__wrapped__");if(v||h){var b=v?t.value():t,_=h?e.value():e;return i||(i=new cw),n(b,_,r,o,i)}}return g?(i||(i=new cw),iJ(t,e,r,o,n,i)):!1}aD.exports=uJ});var pD=I((Rhe,dD)=>{var lJ=cD(),uD=wu();function lD(t,e,r,o,n){return t===e?!0:t==null||e==null||!uD(t)&&!uD(e)?t!==t&&e!==e:lJ(t,e,r,o,lD,n)}dD.exports=lD});var mD=I((Phe,fD)=>{var dJ=pD();function pJ(t,e){return dJ(t,e)}fD.exports=pJ});function tr(t,e){return wD().get(t)??e}async function Hm(t,e){let r=hJ[t]??ea.ConfigurationTarget.Global;await wD().update(t,e,r)}function wD(){return ea.workspace.getConfiguration("chatgpt")}var ea,hJ,Io=E(()=>{"use strict";Qe();ea=H(require("vscode")),hJ={[bt.COMMENT_CODELENS_ENABLED]:ea.ConfigurationTarget.Workspace,[bt.OPEN_ON_STARTUP]:ea.ConfigurationTarget.Workspace}});var ku=E(()=>{"use strict"});function xt(){return tr(bt.RUN_CODEX_IN_WSL,!1)?Bn()!=null&&!Zn():!1}function Zn(){return ED.env.remoteName==="wsl"}function Bn(t){return process.platform!=="win32"?null:!t&&Iu!==void 0?(W().debug(`[detectHasWsl] cachedEligibleWslDistro: ${Iu}`),Iu):(Iu=_J(),Iu)}function _J(){try{xD("wsl.exe",["--status"]);let t=xD("wsl.exe",["--list","--quiet"]);return W().info(`[wsl] eligible distro list: ${t}`),t.split(`
`).find(r=>r.trim().toLowerCase().startsWith("ubuntu"))??null}catch(t){return W().error(`[wsl] error retrieving eligible distro: ${String(t)}`),null}}function xD(t,e){try{W().debug(`[execWindowsCommand] executing ${t} ${e.join(" ")}`);let r=(0,SD.execFileSync)(t,e,{timeout:3e3,windowsHide:!0,encoding:"buffer",maxBuffer:1024*10});return wJ(r)}catch(r){throw W().error(`[execWindowsCommand] command exception for ${t} ${e.join(" ")}: ${r}`),r}}function wJ(t){let e;if(Buffer.isBuffer(t)){let r=t;if(r.length===0)return"";if(r.length>=2&&r[0]===255&&r[1]===254)e=r.slice(2).toString("utf16le");else if(r.length>=3&&r[0]===239&&r[1]===187&&r[2]===191)e=r.slice(3).toString("utf8");else{let o=Math.min(r.length-r.length%2,256),n=!1;if(o>0){let i=0,s=0;for(let a=0;a<o;a+=2)s++,r[a+1]===0&&i++;n=s>0&&i/s>.6}e=n?r.toString("utf16le"):r.toString("utf8")}}else e=t;return e.replace(/^\uFEFF/,"").replace(/\r\n/g,`
`).trim()}function kD(t){return Yb(t)}function Vm(t=bJ){return t.map(e=>{if(typeof e=="string")return e;switch(e.type){case"path":return`${e.name}/p`;case"list":return`${e.name}/l`;case"unix-only":return`${e.name}/u`;case"windows-only":return`${e.name}/w`}}).filter(Boolean).join(":")}var SD,ED,bJ,Iu,To=E(()=>{"use strict";SD=require("child_process");Qe();Ge();ED=H(require("vscode"));Io();bJ=[{name:"PATHEXT",type:"list"},{name:"COMSPEC",type:"path"},{name:"SYSTEMROOT",type:"path"},"SYSTEMDRIVE","USERNAME","USERDOMAIN",{name:"USERPROFILE",type:"path"},{name:"PROGRAMFILES",type:"path"},{name:"PROGRAMFILES(X86)",type:"path"},{name:"PROGRAMW6432",type:"path"},{name:"PROGRAMDATA",type:"path"},{name:"LOCALAPPDATA",type:"path"},{name:"APPDATA",type:"path"},{name:"TEMP",type:"path"},{name:"TMP",type:"path"},"POWERSHELL","PWSH","HTTP_PROXY","HTTPS_PROXY","NO_PROXY","NODE_TLS_REJECT_UNAUTHORIZED"]});function fw(t){return eC(t,tr(bt.LOG_LEVEL,xJ))}function SJ(){let t=ID.window.createOutputChannel("Codex",{log:!0}),e=(o,n)=>(i,...s)=>{fw(o)&&n(i,...s)},r={trace:e("trace",t.trace.bind(t)),debug:e("debug",t.debug.bind(t)),info:e("info",t.info.bind(t)),warn:e("warning",t.warn.bind(t)),error:e("error",t.error.bind(t)),dispose:()=>t.dispose()};return CR(r),OR(xt),r}var ID,xJ,Ht,St=E(()=>{"use strict";Qe();Ge();ID=H(require("vscode"));Io();ku();To();xJ=tC("prod");Ht=SJ()});var hl=I(Ue=>{"use strict";Object.defineProperty(Ue,"__esModule",{value:!0});Ue.regexpCode=Ue.getEsmExportName=Ue.getProperty=Ue.safeStringify=Ue.stringify=Ue.strConcat=Ue.addCodeArg=Ue.str=Ue._=Ue.nil=Ue._Code=Ue.Name=Ue.IDENTIFIER=Ue._CodeOrName=void 0;var fl=class{};Ue._CodeOrName=fl;Ue.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var Li=class extends fl{constructor(e){if(super(),!Ue.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};Ue.Name=Li;var Wr=class extends fl{constructor(e){super(),this._items=typeof e=="string"?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let e=this._items[0];return e===""||e==='""'}get str(){var e;return(e=this._str)!==null&&e!==void 0?e:this._str=this._items.reduce((r,o)=>`${r}${o}`,"")}get names(){var e;return(e=this._names)!==null&&e!==void 0?e:this._names=this._items.reduce((r,o)=>(o instanceof Li&&(r[o.str]=(r[o.str]||0)+1),r),{})}};Ue._Code=Wr;Ue.nil=new Wr("");function bL(t,...e){let r=[t[0]],o=0;for(;o<e.length;)gS(r,e[o]),r.push(t[++o]);return new Wr(r)}Ue._=bL;var hS=new Wr("+");function _L(t,...e){let r=[ml(t[0])],o=0;for(;o<e.length;)r.push(hS),gS(r,e[o]),r.push(hS,ml(t[++o]));return OQ(r),new Wr(r)}Ue.str=_L;function gS(t,e){e instanceof Wr?t.push(...e._items):e instanceof Li?t.push(e):t.push(MQ(e))}Ue.addCodeArg=gS;function OQ(t){let e=1;for(;e<t.length-1;){if(t[e]===hS){let r=NQ(t[e-1],t[e+1]);if(r!==void 0){t.splice(e-1,3,r);continue}t[e++]="+"}e++}}function NQ(t,e){if(e==='""')return t;if(t==='""')return e;if(typeof t=="string")return e instanceof Li||t[t.length-1]!=='"'?void 0:typeof e!="string"?`${t.slice(0,-1)}${e}"`:e[0]==='"'?t.slice(0,-1)+e.slice(1):void 0;if(typeof e=="string"&&e[0]==='"'&&!(t instanceof Li))return`"${t}${e.slice(1)}`}function DQ(t,e){return e.emptyStr()?t:t.emptyStr()?e:_L`${t}${e}`}Ue.strConcat=DQ;function MQ(t){return typeof t=="number"||typeof t=="boolean"||t===null?t:ml(Array.isArray(t)?t.join(","):t)}function zQ(t){return new Wr(ml(t))}Ue.stringify=zQ;function ml(t){return JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}Ue.safeStringify=ml;function jQ(t){return typeof t=="string"&&Ue.IDENTIFIER.test(t)?new Wr(`.${t}`):bL`[${t}]`}Ue.getProperty=jQ;function LQ(t){if(typeof t=="string"&&Ue.IDENTIFIER.test(t))return new Wr(`${t}`);throw new Error(`CodeGen: invalid export name: ${t}, use explicit $id name mapping`)}Ue.getEsmExportName=LQ;function UQ(t){return new Wr(t.toString())}Ue.regexpCode=UQ});var bS=I(vr=>{"use strict";Object.defineProperty(vr,"__esModule",{value:!0});vr.ValueScope=vr.ValueScopeName=vr.Scope=vr.varKinds=vr.UsedValueState=void 0;var yr=hl(),yS=class extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`),this.value=e.value}},Eg;(function(t){t[t.Started=0]="Started",t[t.Completed=1]="Completed"})(Eg||(vr.UsedValueState=Eg={}));vr.varKinds={const:new yr.Name("const"),let:new yr.Name("let"),var:new yr.Name("var")};var kg=class{constructor({prefixes:e,parent:r}={}){this._names={},this._prefixes=e,this._parent=r}toName(e){return e instanceof yr.Name?e:this.name(e)}name(e){return new yr.Name(this._newName(e))}_newName(e){let r=this._names[e]||this._nameGroup(e);return`${e}${r.index++}`}_nameGroup(e){var r,o;if(!((o=(r=this._parent)===null||r===void 0?void 0:r._prefixes)===null||o===void 0)&&o.has(e)||this._prefixes&&!this._prefixes.has(e))throw new Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}};vr.Scope=kg;var Ig=class extends yr.Name{constructor(e,r){super(r),this.prefix=e}setValue(e,{property:r,itemIndex:o}){this.value=e,this.scopePath=(0,yr._)`.${new yr.Name(r)}[${o}]`}};vr.ValueScopeName=Ig;var FQ=(0,yr._)`\n`,vS=class extends kg{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts={...e,_n:e.lines?FQ:yr.nil}}get(){return this._scope}name(e){return new Ig(e,this._newName(e))}value(e,r){var o;if(r.ref===void 0)throw new Error("CodeGen: ref must be passed in value");let n=this.toName(e),{prefix:i}=n,s=(o=r.key)!==null&&o!==void 0?o:r.ref,a=this._values[i];if(a){let l=a.get(s);if(l)return l}else a=this._values[i]=new Map;a.set(s,n);let c=this._scope[i]||(this._scope[i]=[]),u=c.length;return c[u]=r.ref,n.setValue(r,{property:i,itemIndex:u}),n}getValue(e,r){let o=this._values[e];if(o)return o.get(r)}scopeRefs(e,r=this._values){return this._reduceValues(r,o=>{if(o.scopePath===void 0)throw new Error(`CodeGen: name "${o}" has no value`);return(0,yr._)`${e}${o.scopePath}`})}scopeCode(e=this._values,r,o){return this._reduceValues(e,n=>{if(n.value===void 0)throw new Error(`CodeGen: name "${n}" has no value`);return n.value.code},r,o)}_reduceValues(e,r,o={},n){let i=yr.nil;for(let s in e){let a=e[s];if(!a)continue;let c=o[s]=o[s]||new Map;a.forEach(u=>{if(c.has(u))return;c.set(u,Eg.Started);let l=r(u);if(l){let p=this.opts.es5?vr.varKinds.var:vr.varKinds.const;i=(0,yr._)`${i}${p} ${u} = ${l};${this.opts._n}`}else if(l=n?.(u))i=(0,yr._)`${i}${l}${this.opts._n}`;else throw new yS(u);c.set(u,Eg.Completed)})}return i}};vr.ValueScope=vS});var ke=I(Te=>{"use strict";Object.defineProperty(Te,"__esModule",{value:!0});Te.or=Te.and=Te.not=Te.CodeGen=Te.operators=Te.varKinds=Te.ValueScopeName=Te.ValueScope=Te.Scope=Te.Name=Te.regexpCode=Te.stringify=Te.getProperty=Te.nil=Te.strConcat=Te.str=Te._=void 0;var De=hl(),un=bS(),qo=hl();Object.defineProperty(Te,"_",{enumerable:!0,get:function(){return qo._}});Object.defineProperty(Te,"str",{enumerable:!0,get:function(){return qo.str}});Object.defineProperty(Te,"strConcat",{enumerable:!0,get:function(){return qo.strConcat}});Object.defineProperty(Te,"nil",{enumerable:!0,get:function(){return qo.nil}});Object.defineProperty(Te,"getProperty",{enumerable:!0,get:function(){return qo.getProperty}});Object.defineProperty(Te,"stringify",{enumerable:!0,get:function(){return qo.stringify}});Object.defineProperty(Te,"regexpCode",{enumerable:!0,get:function(){return qo.regexpCode}});Object.defineProperty(Te,"Name",{enumerable:!0,get:function(){return qo.Name}});var Pg=bS();Object.defineProperty(Te,"Scope",{enumerable:!0,get:function(){return Pg.Scope}});Object.defineProperty(Te,"ValueScope",{enumerable:!0,get:function(){return Pg.ValueScope}});Object.defineProperty(Te,"ValueScopeName",{enumerable:!0,get:function(){return Pg.ValueScopeName}});Object.defineProperty(Te,"varKinds",{enumerable:!0,get:function(){return Pg.varKinds}});Te.operators={GT:new De._Code(">"),GTE:new De._Code(">="),LT:new De._Code("<"),LTE:new De._Code("<="),EQ:new De._Code("==="),NEQ:new De._Code("!=="),NOT:new De._Code("!"),OR:new De._Code("||"),AND:new De._Code("&&"),ADD:new De._Code("+")};var to=class{optimizeNodes(){return this}optimizeNames(e,r){return this}},_S=class extends to{constructor(e,r,o){super(),this.varKind=e,this.name=r,this.rhs=o}render({es5:e,_n:r}){let o=e?un.varKinds.var:this.varKind,n=this.rhs===void 0?"":` = ${this.rhs}`;return`${o} ${this.name}${n};`+r}optimizeNames(e,r){if(e[this.name.str])return this.rhs&&(this.rhs=ja(this.rhs,e,r)),this}get names(){return this.rhs instanceof De._CodeOrName?this.rhs.names:{}}},Tg=class extends to{constructor(e,r,o){super(),this.lhs=e,this.rhs=r,this.sideEffects=o}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,r){if(!(this.lhs instanceof De.Name&&!e[this.lhs.str]&&!this.sideEffects))return this.rhs=ja(this.rhs,e,r),this}get names(){let e=this.lhs instanceof De.Name?{}:{...this.lhs.names};return Rg(e,this.rhs)}},wS=class extends Tg{constructor(e,r,o,n){super(e,o,n),this.op=r}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}},xS=class extends to{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}},SS=class extends to{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`break${this.label?` ${this.label}`:""};`+e}},ES=class extends to{constructor(e){super(),this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}},kS=class extends to{constructor(e){super(),this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,r){return this.code=ja(this.code,e,r),this}get names(){return this.code instanceof De._CodeOrName?this.code.names:{}}},gl=class extends to{constructor(e=[]){super(),this.nodes=e}render(e){return this.nodes.reduce((r,o)=>r+o.render(e),"")}optimizeNodes(){let{nodes:e}=this,r=e.length;for(;r--;){let o=e[r].optimizeNodes();Array.isArray(o)?e.splice(r,1,...o):o?e[r]=o:e.splice(r,1)}return e.length>0?this:void 0}optimizeNames(e,r){let{nodes:o}=this,n=o.length;for(;n--;){let i=o[n];i.optimizeNames(e,r)||(qQ(e,i.names),o.splice(n,1))}return o.length>0?this:void 0}get names(){return this.nodes.reduce((e,r)=>qi(e,r.names),{})}},ro=class extends gl{render(e){return"{"+e._n+super.render(e)+"}"+e._n}},IS=class extends gl{},za=class extends ro{};za.kind="else";var Ui=class t extends ro{constructor(e,r){super(r),this.condition=e}render(e){let r=`if(${this.condition})`+super.render(e);return this.else&&(r+="else "+this.else.render(e)),r}optimizeNodes(){super.optimizeNodes();let e=this.condition;if(e===!0)return this.nodes;let r=this.else;if(r){let o=r.optimizeNodes();r=this.else=Array.isArray(o)?new za(o):o}if(r)return e===!1?r instanceof t?r:r.nodes:this.nodes.length?this:new t(wL(e),r instanceof t?[r]:r.nodes);if(!(e===!1||!this.nodes.length))return this}optimizeNames(e,r){var o;if(this.else=(o=this.else)===null||o===void 0?void 0:o.optimizeNames(e,r),!!(super.optimizeNames(e,r)||this.else))return this.condition=ja(this.condition,e,r),this}get names(){let e=super.names;return Rg(e,this.condition),this.else&&qi(e,this.else.names),e}};Ui.kind="if";var Fi=class extends ro{};Fi.kind="for";var TS=class extends Fi{constructor(e){super(),this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,r){if(super.optimizeNames(e,r))return this.iteration=ja(this.iteration,e,r),this}get names(){return qi(super.names,this.iteration.names)}},$S=class extends Fi{constructor(e,r,o,n){super(),this.varKind=e,this.name=r,this.from=o,this.to=n}render(e){let r=e.es5?un.varKinds.var:this.varKind,{name:o,from:n,to:i}=this;return`for(${r} ${o}=${n}; ${o}<${i}; ${o}++)`+super.render(e)}get names(){let e=Rg(super.names,this.from);return Rg(e,this.to)}},$g=class extends Fi{constructor(e,r,o,n){super(),this.loop=e,this.varKind=r,this.name=o,this.iterable=n}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,r){if(super.optimizeNames(e,r))return this.iterable=ja(this.iterable,e,r),this}get names(){return qi(super.names,this.iterable.names)}},yl=class extends ro{constructor(e,r,o){super(),this.name=e,this.args=r,this.async=o}render(e){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(e)}};yl.kind="func";var vl=class extends gl{render(e){return"return "+super.render(e)}};vl.kind="return";var RS=class extends ro{render(e){let r="try"+super.render(e);return this.catch&&(r+=this.catch.render(e)),this.finally&&(r+=this.finally.render(e)),r}optimizeNodes(){var e,r;return super.optimizeNodes(),(e=this.catch)===null||e===void 0||e.optimizeNodes(),(r=this.finally)===null||r===void 0||r.optimizeNodes(),this}optimizeNames(e,r){var o,n;return super.optimizeNames(e,r),(o=this.catch)===null||o===void 0||o.optimizeNames(e,r),(n=this.finally)===null||n===void 0||n.optimizeNames(e,r),this}get names(){let e=super.names;return this.catch&&qi(e,this.catch.names),this.finally&&qi(e,this.finally.names),e}},bl=class extends ro{constructor(e){super(),this.error=e}render(e){return`catch(${this.error})`+super.render(e)}};bl.kind="catch";var _l=class extends ro{render(e){return"finally"+super.render(e)}};_l.kind="finally";var PS=class{constructor(e,r={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...r,_n:r.lines?`
`:""},this._extScope=e,this._scope=new un.Scope({parent:e}),this._nodes=[new IS]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,r){let o=this._extScope.value(e,r);return(this._values[o.prefix]||(this._values[o.prefix]=new Set)).add(o),o}getScopeValue(e,r){return this._extScope.getValue(e,r)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,r,o,n){let i=this._scope.toName(r);return o!==void 0&&n&&(this._constants[i.str]=o),this._leafNode(new _S(e,i,o)),i}const(e,r,o){return this._def(un.varKinds.const,e,r,o)}let(e,r,o){return this._def(un.varKinds.let,e,r,o)}var(e,r,o){return this._def(un.varKinds.var,e,r,o)}assign(e,r,o){return this._leafNode(new Tg(e,r,o))}add(e,r){return this._leafNode(new wS(e,Te.operators.ADD,r))}code(e){return typeof e=="function"?e():e!==De.nil&&this._leafNode(new kS(e)),this}object(...e){let r=["{"];for(let[o,n]of e)r.length>1&&r.push(","),r.push(o),(o!==n||this.opts.es5)&&(r.push(":"),(0,De.addCodeArg)(r,n));return r.push("}"),new De._Code(r)}if(e,r,o){if(this._blockNode(new Ui(e)),r&&o)this.code(r).else().code(o).endIf();else if(r)this.code(r).endIf();else if(o)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new Ui(e))}else(){return this._elseNode(new za)}endIf(){return this._endBlockNode(Ui,za)}_for(e,r){return this._blockNode(e),r&&this.code(r).endFor(),this}for(e,r){return this._for(new TS(e),r)}forRange(e,r,o,n,i=this.opts.es5?un.varKinds.var:un.varKinds.let){let s=this._scope.toName(e);return this._for(new $S(i,s,r,o),()=>n(s))}forOf(e,r,o,n=un.varKinds.const){let i=this._scope.toName(e);if(this.opts.es5){let s=r instanceof De.Name?r:this.var("_arr",r);return this.forRange("_i",0,(0,De._)`${s}.length`,a=>{this.var(i,(0,De._)`${s}[${a}]`),o(i)})}return this._for(new $g("of",n,i,r),()=>o(i))}forIn(e,r,o,n=this.opts.es5?un.varKinds.var:un.varKinds.const){if(this.opts.ownProperties)return this.forOf(e,(0,De._)`Object.keys(${r})`,o);let i=this._scope.toName(e);return this._for(new $g("in",n,i,r),()=>o(i))}endFor(){return this._endBlockNode(Fi)}label(e){return this._leafNode(new xS(e))}break(e){return this._leafNode(new SS(e))}return(e){let r=new vl;if(this._blockNode(r),this.code(e),r.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(vl)}try(e,r,o){if(!r&&!o)throw new Error('CodeGen: "try" without "catch" and "finally"');let n=new RS;if(this._blockNode(n),this.code(e),r){let i=this.name("e");this._currNode=n.catch=new bl(i),r(i)}return o&&(this._currNode=n.finally=new _l,this.code(o)),this._endBlockNode(bl,_l)}throw(e){return this._leafNode(new ES(e))}block(e,r){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(r),this}endBlock(e){let r=this._blockStarts.pop();if(r===void 0)throw new Error("CodeGen: not in self-balancing block");let o=this._nodes.length-r;if(o<0||e!==void 0&&o!==e)throw new Error(`CodeGen: wrong number of nodes: ${o} vs ${e} expected`);return this._nodes.length=r,this}func(e,r=De.nil,o,n){return this._blockNode(new yl(e,r,o)),n&&this.code(n).endFunc(),this}endFunc(){return this._endBlockNode(yl)}optimize(e=1){for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,r){let o=this._currNode;if(o instanceof e||r&&o instanceof r)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${r?`${e.kind}/${r.kind}`:e.kind}"`)}_elseNode(e){let r=this._currNode;if(!(r instanceof Ui))throw new Error('CodeGen: "else" without "if"');return this._currNode=r.else=e,this}get _root(){return this._nodes[0]}get _currNode(){let e=this._nodes;return e[e.length-1]}set _currNode(e){let r=this._nodes;r[r.length-1]=e}};Te.CodeGen=PS;function qi(t,e){for(let r in e)t[r]=(t[r]||0)+(e[r]||0);return t}function Rg(t,e){return e instanceof De._CodeOrName?qi(t,e.names):t}function ja(t,e,r){if(t instanceof De.Name)return o(t);if(!n(t))return t;return new De._Code(t._items.reduce((i,s)=>(s instanceof De.Name&&(s=o(s)),s instanceof De._Code?i.push(...s._items):i.push(s),i),[]));function o(i){let s=r[i.str];return s===void 0||e[i.str]!==1?i:(delete e[i.str],s)}function n(i){return i instanceof De._Code&&i._items.some(s=>s instanceof De.Name&&e[s.str]===1&&r[s.str]!==void 0)}}function qQ(t,e){for(let r in e)t[r]=(t[r]||0)-(e[r]||0)}function wL(t){return typeof t=="boolean"||typeof t=="number"||t===null?!t:(0,De._)`!${CS(t)}`}Te.not=wL;var WQ=xL(Te.operators.AND);function ZQ(...t){return t.reduce(WQ)}Te.and=ZQ;var BQ=xL(Te.operators.OR);function HQ(...t){return t.reduce(BQ)}Te.or=HQ;function xL(t){return(e,r)=>e===De.nil?r:r===De.nil?e:(0,De._)`${CS(e)} ${t} ${CS(r)}`}function CS(t){return t instanceof De.Name?t:(0,De._)`(${t})`}});var Fe=I(Pe=>{"use strict";Object.defineProperty(Pe,"__esModule",{value:!0});Pe.checkStrictMode=Pe.getErrorPath=Pe.Type=Pe.useFunc=Pe.setEvaluated=Pe.evaluatedPropsToName=Pe.mergeEvaluated=Pe.eachItem=Pe.unescapeJsonPointer=Pe.escapeJsonPointer=Pe.escapeFragment=Pe.unescapeFragment=Pe.schemaRefOrVal=Pe.schemaHasRulesButRef=Pe.schemaHasRules=Pe.checkUnknownRules=Pe.alwaysValidSchema=Pe.toHash=void 0;var et=ke(),VQ=hl();function GQ(t){let e={};for(let r of t)e[r]=!0;return e}Pe.toHash=GQ;function KQ(t,e){return typeof e=="boolean"?e:Object.keys(e).length===0?!0:(kL(t,e),!IL(e,t.self.RULES.all))}Pe.alwaysValidSchema=KQ;function kL(t,e=t.schema){let{opts:r,self:o}=t;if(!r.strictSchema||typeof e=="boolean")return;let n=o.RULES.keywords;for(let i in e)n[i]||RL(t,`unknown keyword: "${i}"`)}Pe.checkUnknownRules=kL;function IL(t,e){if(typeof t=="boolean")return!t;for(let r in t)if(e[r])return!0;return!1}Pe.schemaHasRules=IL;function JQ(t,e){if(typeof t=="boolean")return!t;for(let r in t)if(r!=="$ref"&&e.all[r])return!0;return!1}Pe.schemaHasRulesButRef=JQ;function YQ({topSchemaRef:t,schemaPath:e},r,o,n){if(!n){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,et._)`${r}`}return(0,et._)`${t}${e}${(0,et.getProperty)(o)}`}Pe.schemaRefOrVal=YQ;function XQ(t){return TL(decodeURIComponent(t))}Pe.unescapeFragment=XQ;function QQ(t){return encodeURIComponent(OS(t))}Pe.escapeFragment=QQ;function OS(t){return typeof t=="number"?`${t}`:t.replace(/~/g,"~0").replace(/\//g,"~1")}Pe.escapeJsonPointer=OS;function TL(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}Pe.unescapeJsonPointer=TL;function eee(t,e){if(Array.isArray(t))for(let r of t)e(r);else e(t)}Pe.eachItem=eee;function SL({mergeNames:t,mergeToName:e,mergeValues:r,resultToName:o}){return(n,i,s,a)=>{let c=s===void 0?i:s instanceof et.Name?(i instanceof et.Name?t(n,i,s):e(n,i,s),s):i instanceof et.Name?(e(n,s,i),i):r(i,s);return a===et.Name&&!(c instanceof et.Name)?o(n,c):c}}Pe.mergeEvaluated={props:SL({mergeNames:(t,e,r)=>t.if((0,et._)`${r} !== true && ${e} !== undefined`,()=>{t.if((0,et._)`${e} === true`,()=>t.assign(r,!0),()=>t.assign(r,(0,et._)`${r} || {}`).code((0,et._)`Object.assign(${r}, ${e})`))}),mergeToName:(t,e,r)=>t.if((0,et._)`${r} !== true`,()=>{e===!0?t.assign(r,!0):(t.assign(r,(0,et._)`${r} || {}`),NS(t,r,e))}),mergeValues:(t,e)=>t===!0?!0:{...t,...e},resultToName:$L}),items:SL({mergeNames:(t,e,r)=>t.if((0,et._)`${r} !== true && ${e} !== undefined`,()=>t.assign(r,(0,et._)`${e} === true ? true : ${r} > ${e} ? ${r} : ${e}`)),mergeToName:(t,e,r)=>t.if((0,et._)`${r} !== true`,()=>t.assign(r,e===!0?!0:(0,et._)`${r} > ${e} ? ${r} : ${e}`)),mergeValues:(t,e)=>t===!0?!0:Math.max(t,e),resultToName:(t,e)=>t.var("items",e)})};function $L(t,e){if(e===!0)return t.var("props",!0);let r=t.var("props",(0,et._)`{}`);return e!==void 0&&NS(t,r,e),r}Pe.evaluatedPropsToName=$L;function NS(t,e,r){Object.keys(r).forEach(o=>t.assign((0,et._)`${e}${(0,et.getProperty)(o)}`,!0))}Pe.setEvaluated=NS;var EL={};function tee(t,e){return t.scopeValue("func",{ref:e,code:EL[e.code]||(EL[e.code]=new VQ._Code(e.code))})}Pe.useFunc=tee;var AS;(function(t){t[t.Num=0]="Num",t[t.Str=1]="Str"})(AS||(Pe.Type=AS={}));function ree(t,e,r){if(t instanceof et.Name){let o=e===AS.Num;return r?o?(0,et._)`"[" + ${t} + "]"`:(0,et._)`"['" + ${t} + "']"`:o?(0,et._)`"/" + ${t}`:(0,et._)`"/" + ${t}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,et.getProperty)(t).toString():"/"+OS(t)}Pe.getErrorPath=ree;function RL(t,e,r=t.opts.strictSchema){if(r){if(e=`strict mode: ${e}`,r===!0)throw new Error(e);t.self.logger.warn(e)}}Pe.checkStrictMode=RL});var no=I(DS=>{"use strict";Object.defineProperty(DS,"__esModule",{value:!0});var Kt=ke(),nee={data:new Kt.Name("data"),valCxt:new Kt.Name("valCxt"),instancePath:new Kt.Name("instancePath"),parentData:new Kt.Name("parentData"),parentDataProperty:new Kt.Name("parentDataProperty"),rootData:new Kt.Name("rootData"),dynamicAnchors:new Kt.Name("dynamicAnchors"),vErrors:new Kt.Name("vErrors"),errors:new Kt.Name("errors"),this:new Kt.Name("this"),self:new Kt.Name("self"),scope:new Kt.Name("scope"),json:new Kt.Name("json"),jsonPos:new Kt.Name("jsonPos"),jsonLen:new Kt.Name("jsonLen"),jsonPart:new Kt.Name("jsonPart")};DS.default=nee});var wl=I(Jt=>{"use strict";Object.defineProperty(Jt,"__esModule",{value:!0});Jt.extendErrors=Jt.resetErrorsCount=Jt.reportExtraError=Jt.reportError=Jt.keyword$DataError=Jt.keywordError=void 0;var ze=ke(),Cg=Fe(),ar=no();Jt.keywordError={message:({keyword:t})=>(0,ze.str)`must pass "${t}" keyword validation`};Jt.keyword$DataError={message:({keyword:t,schemaType:e})=>e?(0,ze.str)`"${t}" keyword must be ${e} ($data)`:(0,ze.str)`"${t}" keyword is invalid ($data)`};function oee(t,e=Jt.keywordError,r,o){let{it:n}=t,{gen:i,compositeRule:s,allErrors:a}=n,c=AL(t,e,r);o??(s||a)?PL(i,c):CL(n,(0,ze._)`[${c}]`)}Jt.reportError=oee;function iee(t,e=Jt.keywordError,r){let{it:o}=t,{gen:n,compositeRule:i,allErrors:s}=o,a=AL(t,e,r);PL(n,a),i||s||CL(o,ar.default.vErrors)}Jt.reportExtraError=iee;function see(t,e){t.assign(ar.default.errors,e),t.if((0,ze._)`${ar.default.vErrors} !== null`,()=>t.if(e,()=>t.assign((0,ze._)`${ar.default.vErrors}.length`,e),()=>t.assign(ar.default.vErrors,null)))}Jt.resetErrorsCount=see;function aee({gen:t,keyword:e,schemaValue:r,data:o,errsCount:n,it:i}){if(n===void 0)throw new Error("ajv implementation error");let s=t.name("err");t.forRange("i",n,ar.default.errors,a=>{t.const(s,(0,ze._)`${ar.default.vErrors}[${a}]`),t.if((0,ze._)`${s}.instancePath === undefined`,()=>t.assign((0,ze._)`${s}.instancePath`,(0,ze.strConcat)(ar.default.instancePath,i.errorPath))),t.assign((0,ze._)`${s}.schemaPath`,(0,ze.str)`${i.errSchemaPath}/${e}`),i.opts.verbose&&(t.assign((0,ze._)`${s}.schema`,r),t.assign((0,ze._)`${s}.data`,o))})}Jt.extendErrors=aee;function PL(t,e){let r=t.const("err",e);t.if((0,ze._)`${ar.default.vErrors} === null`,()=>t.assign(ar.default.vErrors,(0,ze._)`[${r}]`),(0,ze._)`${ar.default.vErrors}.push(${r})`),t.code((0,ze._)`${ar.default.errors}++`)}function CL(t,e){let{gen:r,validateName:o,schemaEnv:n}=t;n.$async?r.throw((0,ze._)`new ${t.ValidationError}(${e})`):(r.assign((0,ze._)`${o}.errors`,e),r.return(!1))}var Wi={keyword:new ze.Name("keyword"),schemaPath:new ze.Name("schemaPath"),params:new ze.Name("params"),propertyName:new ze.Name("propertyName"),message:new ze.Name("message"),schema:new ze.Name("schema"),parentSchema:new ze.Name("parentSchema")};function AL(t,e,r){let{createErrors:o}=t.it;return o===!1?(0,ze._)`{}`:cee(t,e,r)}function cee(t,e,r={}){let{gen:o,it:n}=t,i=[uee(n,r),lee(t,r)];return dee(t,e,i),o.object(...i)}function uee({errorPath:t},{instancePath:e}){let r=e?(0,ze.str)`${t}${(0,Cg.getErrorPath)(e,Cg.Type.Str)}`:t;return[ar.default.instancePath,(0,ze.strConcat)(ar.default.instancePath,r)]}function lee({keyword:t,it:{errSchemaPath:e}},{schemaPath:r,parentSchema:o}){let n=o?e:(0,ze.str)`${e}/${t}`;return r&&(n=(0,ze.str)`${n}${(0,Cg.getErrorPath)(r,Cg.Type.Str)}`),[Wi.schemaPath,n]}function dee(t,{params:e,message:r},o){let{keyword:n,data:i,schemaValue:s,it:a}=t,{opts:c,propertyName:u,topSchemaRef:l,schemaPath:p}=a;o.push([Wi.keyword,n],[Wi.params,typeof e=="function"?e(t):e||(0,ze._)`{}`]),c.messages&&o.push([Wi.message,typeof r=="function"?r(t):r]),c.verbose&&o.push([Wi.schema,s],[Wi.parentSchema,(0,ze._)`${l}${p}`],[ar.default.data,i]),u&&o.push([Wi.propertyName,u])}});var NL=I(La=>{"use strict";Object.defineProperty(La,"__esModule",{value:!0});La.boolOrEmptySchema=La.topBoolOrEmptySchema=void 0;var pee=wl(),fee=ke(),mee=no(),hee={message:"boolean schema is false"};function gee(t){let{gen:e,schema:r,validateName:o}=t;r===!1?OL(t,!1):typeof r=="object"&&r.$async===!0?e.return(mee.default.data):(e.assign((0,fee._)`${o}.errors`,null),e.return(!0))}La.topBoolOrEmptySchema=gee;function yee(t,e){let{gen:r,schema:o}=t;o===!1?(r.var(e,!1),OL(t)):r.var(e,!0)}La.boolOrEmptySchema=yee;function OL(t,e){let{gen:r,data:o}=t,n={gen:r,keyword:"false schema",data:o,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:t};(0,pee.reportError)(n,hee,void 0,e)}});var MS=I(Ua=>{"use strict";Object.defineProperty(Ua,"__esModule",{value:!0});Ua.getRules=Ua.isJSONType=void 0;var vee=["string","number","integer","boolean","null","object","array"],bee=new Set(vee);function _ee(t){return typeof t=="string"&&bee.has(t)}Ua.isJSONType=_ee;function wee(){let t={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...t,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},t.number,t.string,t.array,t.object],post:{rules:[]},all:{},keywords:{}}}Ua.getRules=wee});var zS=I(Wo=>{"use strict";Object.defineProperty(Wo,"__esModule",{value:!0});Wo.shouldUseRule=Wo.shouldUseGroup=Wo.schemaHasRulesForType=void 0;function xee({schema:t,self:e},r){let o=e.RULES.types[r];return o&&o!==!0&&DL(t,o)}Wo.schemaHasRulesForType=xee;function DL(t,e){return e.rules.some(r=>ML(t,r))}Wo.shouldUseGroup=DL;function ML(t,e){var r;return t[e.keyword]!==void 0||((r=e.definition.implements)===null||r===void 0?void 0:r.some(o=>t[o]!==void 0))}Wo.shouldUseRule=ML});var xl=I(Yt=>{"use strict";Object.defineProperty(Yt,"__esModule",{value:!0});Yt.reportTypeError=Yt.checkDataTypes=Yt.checkDataType=Yt.coerceAndCheckDataType=Yt.getJSONTypes=Yt.getSchemaTypes=Yt.DataType=void 0;var See=MS(),Eee=zS(),kee=wl(),xe=ke(),zL=Fe(),Fa;(function(t){t[t.Correct=0]="Correct",t[t.Wrong=1]="Wrong"})(Fa||(Yt.DataType=Fa={}));function Iee(t){let e=jL(t.type);if(e.includes("null")){if(t.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!e.length&&t.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');t.nullable===!0&&e.push("null")}return e}Yt.getSchemaTypes=Iee;function jL(t){let e=Array.isArray(t)?t:t?[t]:[];if(e.every(See.isJSONType))return e;throw new Error("type must be JSONType or JSONType[]: "+e.join(","))}Yt.getJSONTypes=jL;function Tee(t,e){let{gen:r,data:o,opts:n}=t,i=$ee(e,n.coerceTypes),s=e.length>0&&!(i.length===0&&e.length===1&&(0,Eee.schemaHasRulesForType)(t,e[0]));if(s){let a=LS(e,o,n.strictNumbers,Fa.Wrong);r.if(a,()=>{i.length?Ree(t,e,i):US(t)})}return s}Yt.coerceAndCheckDataType=Tee;var LL=new Set(["string","number","integer","boolean","null"]);function $ee(t,e){return e?t.filter(r=>LL.has(r)||e==="array"&&r==="array"):[]}function Ree(t,e,r){let{gen:o,data:n,opts:i}=t,s=o.let("dataType",(0,xe._)`typeof ${n}`),a=o.let("coerced",(0,xe._)`undefined`);i.coerceTypes==="array"&&o.if((0,xe._)`${s} == 'object' && Array.isArray(${n}) && ${n}.length == 1`,()=>o.assign(n,(0,xe._)`${n}[0]`).assign(s,(0,xe._)`typeof ${n}`).if(LS(e,n,i.strictNumbers),()=>o.assign(a,n))),o.if((0,xe._)`${a} !== undefined`);for(let u of r)(LL.has(u)||u==="array"&&i.coerceTypes==="array")&&c(u);o.else(),US(t),o.endIf(),o.if((0,xe._)`${a} !== undefined`,()=>{o.assign(n,a),Pee(t,a)});function c(u){switch(u){case"string":o.elseIf((0,xe._)`${s} == "number" || ${s} == "boolean"`).assign(a,(0,xe._)`"" + ${n}`).elseIf((0,xe._)`${n} === null`).assign(a,(0,xe._)`""`);return;case"number":o.elseIf((0,xe._)`${s} == "boolean" || ${n} === null
              || (${s} == "string" && ${n} && ${n} == +${n})`).assign(a,(0,xe._)`+${n}`);return;case"integer":o.elseIf((0,xe._)`${s} === "boolean" || ${n} === null
              || (${s} === "string" && ${n} && ${n} == +${n} && !(${n} % 1))`).assign(a,(0,xe._)`+${n}`);return;case"boolean":o.elseIf((0,xe._)`${n} === "false" || ${n} === 0 || ${n} === null`).assign(a,!1).elseIf((0,xe._)`${n} === "true" || ${n} === 1`).assign(a,!0);return;case"null":o.elseIf((0,xe._)`${n} === "" || ${n} === 0 || ${n} === false`),o.assign(a,null);return;case"array":o.elseIf((0,xe._)`${s} === "string" || ${s} === "number"
              || ${s} === "boolean" || ${n} === null`).assign(a,(0,xe._)`[${n}]`)}}}function Pee({gen:t,parentData:e,parentDataProperty:r},o){t.if((0,xe._)`${e} !== undefined`,()=>t.assign((0,xe._)`${e}[${r}]`,o))}function jS(t,e,r,o=Fa.Correct){let n=o===Fa.Correct?xe.operators.EQ:xe.operators.NEQ,i;switch(t){case"null":return(0,xe._)`${e} ${n} null`;case"array":i=(0,xe._)`Array.isArray(${e})`;break;case"object":i=(0,xe._)`${e} && typeof ${e} == "object" && !Array.isArray(${e})`;break;case"integer":i=s((0,xe._)`!(${e} % 1) && !isNaN(${e})`);break;case"number":i=s();break;default:return(0,xe._)`typeof ${e} ${n} ${t}`}return o===Fa.Correct?i:(0,xe.not)(i);function s(a=xe.nil){return(0,xe.and)((0,xe._)`typeof ${e} == "number"`,a,r?(0,xe._)`isFinite(${e})`:xe.nil)}}Yt.checkDataType=jS;function LS(t,e,r,o){if(t.length===1)return jS(t[0],e,r,o);let n,i=(0,zL.toHash)(t);if(i.array&&i.object){let s=(0,xe._)`typeof ${e} != "object"`;n=i.null?s:(0,xe._)`!${e} || ${s}`,delete i.null,delete i.array,delete i.object}else n=xe.nil;i.number&&delete i.integer;for(let s in i)n=(0,xe.and)(n,jS(s,e,r,o));return n}Yt.checkDataTypes=LS;var Cee={message:({schema:t})=>`must be ${t}`,params:({schema:t,schemaValue:e})=>typeof t=="string"?(0,xe._)`{type: ${t}}`:(0,xe._)`{type: ${e}}`};function US(t){let e=Aee(t);(0,kee.reportError)(e,Cee)}Yt.reportTypeError=US;function Aee(t){let{gen:e,data:r,schema:o}=t,n=(0,zL.schemaRefOrVal)(t,o,"type");return{gen:e,keyword:"type",data:r,schema:o.type,schemaCode:n,schemaValue:n,parentSchema:o,params:{},it:t}}});var FL=I(Ag=>{"use strict";Object.defineProperty(Ag,"__esModule",{value:!0});Ag.assignDefaults=void 0;var qa=ke(),Oee=Fe();function Nee(t,e){let{properties:r,items:o}=t.schema;if(e==="object"&&r)for(let n in r)UL(t,n,r[n].default);else e==="array"&&Array.isArray(o)&&o.forEach((n,i)=>UL(t,i,n.default))}Ag.assignDefaults=Nee;function UL(t,e,r){let{gen:o,compositeRule:n,data:i,opts:s}=t;if(r===void 0)return;let a=(0,qa._)`${i}${(0,qa.getProperty)(e)}`;if(n){(0,Oee.checkStrictMode)(t,`default is ignored for: ${a}`);return}let c=(0,qa._)`${a} === undefined`;s.useDefaults==="empty"&&(c=(0,qa._)`${c} || ${a} === null || ${a} === ""`),o.if(c,(0,qa._)`${a} = ${(0,qa.stringify)(r)}`)}});var Zr=I(Je=>{"use strict";Object.defineProperty(Je,"__esModule",{value:!0});Je.validateUnion=Je.validateArray=Je.usePattern=Je.callValidateCode=Je.schemaProperties=Je.allSchemaProperties=Je.noPropertyInData=Je.propertyInData=Je.isOwnProperty=Je.hasPropFunc=Je.reportMissingProp=Je.checkMissingProp=Je.checkReportMissingProp=void 0;var it=ke(),FS=Fe(),Zo=no(),Dee=Fe();function Mee(t,e){let{gen:r,data:o,it:n}=t;r.if(WS(r,o,e,n.opts.ownProperties),()=>{t.setParams({missingProperty:(0,it._)`${e}`},!0),t.error()})}Je.checkReportMissingProp=Mee;function zee({gen:t,data:e,it:{opts:r}},o,n){return(0,it.or)(...o.map(i=>(0,it.and)(WS(t,e,i,r.ownProperties),(0,it._)`${n} = ${i}`)))}Je.checkMissingProp=zee;function jee(t,e){t.setParams({missingProperty:e},!0),t.error()}Je.reportMissingProp=jee;function qL(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,it._)`Object.prototype.hasOwnProperty`})}Je.hasPropFunc=qL;function qS(t,e,r){return(0,it._)`${qL(t)}.call(${e}, ${r})`}Je.isOwnProperty=qS;function Lee(t,e,r,o){let n=(0,it._)`${e}${(0,it.getProperty)(r)} !== undefined`;return o?(0,it._)`${n} && ${qS(t,e,r)}`:n}Je.propertyInData=Lee;function WS(t,e,r,o){let n=(0,it._)`${e}${(0,it.getProperty)(r)} === undefined`;return o?(0,it.or)(n,(0,it.not)(qS(t,e,r))):n}Je.noPropertyInData=WS;function WL(t){return t?Object.keys(t).filter(e=>e!=="__proto__"):[]}Je.allSchemaProperties=WL;function Uee(t,e){return WL(e).filter(r=>!(0,FS.alwaysValidSchema)(t,e[r]))}Je.schemaProperties=Uee;function Fee({schemaCode:t,data:e,it:{gen:r,topSchemaRef:o,schemaPath:n,errorPath:i},it:s},a,c,u){let l=u?(0,it._)`${t}, ${e}, ${o}${n}`:e,p=[[Zo.default.instancePath,(0,it.strConcat)(Zo.default.instancePath,i)],[Zo.default.parentData,s.parentData],[Zo.default.parentDataProperty,s.parentDataProperty],[Zo.default.rootData,Zo.default.rootData]];s.opts.dynamicRef&&p.push([Zo.default.dynamicAnchors,Zo.default.dynamicAnchors]);let g=(0,it._)`${l}, ${r.object(...p)}`;return c!==it.nil?(0,it._)`${a}.call(${c}, ${g})`:(0,it._)`${a}(${g})`}Je.callValidateCode=Fee;var qee=(0,it._)`new RegExp`;function Wee({gen:t,it:{opts:e}},r){let o=e.unicodeRegExp?"u":"",{regExp:n}=e.code,i=n(r,o);return t.scopeValue("pattern",{key:i.toString(),ref:i,code:(0,it._)`${n.code==="new RegExp"?qee:(0,Dee.useFunc)(t,n)}(${r}, ${o})`})}Je.usePattern=Wee;function Zee(t){let{gen:e,data:r,keyword:o,it:n}=t,i=e.name("valid");if(n.allErrors){let a=e.let("valid",!0);return s(()=>e.assign(a,!1)),a}return e.var(i,!0),s(()=>e.break()),i;function s(a){let c=e.const("len",(0,it._)`${r}.length`);e.forRange("i",0,c,u=>{t.subschema({keyword:o,dataProp:u,dataPropType:FS.Type.Num},i),e.if((0,it.not)(i),a)})}}Je.validateArray=Zee;function Bee(t){let{gen:e,schema:r,keyword:o,it:n}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(c=>(0,FS.alwaysValidSchema)(n,c))&&!n.opts.unevaluated)return;let s=e.let("valid",!1),a=e.name("_valid");e.block(()=>r.forEach((c,u)=>{let l=t.subschema({keyword:o,schemaProp:u,compositeRule:!0},a);e.assign(s,(0,it._)`${s} || ${a}`),t.mergeValidEvaluated(l,a)||e.if((0,it.not)(s))})),t.result(s,()=>t.reset(),()=>t.error(!0))}Je.validateUnion=Bee});var HL=I(An=>{"use strict";Object.defineProperty(An,"__esModule",{value:!0});An.validateKeywordUsage=An.validSchemaType=An.funcKeywordCode=An.macroKeywordCode=void 0;var cr=ke(),Zi=no(),Hee=Zr(),Vee=wl();function Gee(t,e){let{gen:r,keyword:o,schema:n,parentSchema:i,it:s}=t,a=e.macro.call(s.self,n,i,s),c=BL(r,o,a);s.opts.validateSchema!==!1&&s.self.validateSchema(a,!0);let u=r.name("valid");t.subschema({schema:a,schemaPath:cr.nil,errSchemaPath:`${s.errSchemaPath}/${o}`,topSchemaRef:c,compositeRule:!0},u),t.pass(u,()=>t.error(!0))}An.macroKeywordCode=Gee;function Kee(t,e){var r;let{gen:o,keyword:n,schema:i,parentSchema:s,$data:a,it:c}=t;Yee(c,e);let u=!a&&e.compile?e.compile.call(c.self,i,s,c):e.validate,l=BL(o,n,u),p=o.let("valid");t.block$data(p,g),t.ok((r=e.valid)!==null&&r!==void 0?r:p);function g(){if(e.errors===!1)b(),e.modifying&&ZL(t),_(()=>t.error());else{let w=e.async?v():h();e.modifying&&ZL(t),_(()=>Jee(t,w))}}function v(){let w=o.let("ruleErrs",null);return o.try(()=>b((0,cr._)`await `),T=>o.assign(p,!1).if((0,cr._)`${T} instanceof ${c.ValidationError}`,()=>o.assign(w,(0,cr._)`${T}.errors`),()=>o.throw(T))),w}function h(){let w=(0,cr._)`${l}.errors`;return o.assign(w,null),b(cr.nil),w}function b(w=e.async?(0,cr._)`await `:cr.nil){let T=c.opts.passContext?Zi.default.this:Zi.default.self,P=!("compile"in e&&!a||e.schema===!1);o.assign(p,(0,cr._)`${w}${(0,Hee.callValidateCode)(t,l,T,P)}`,e.modifying)}function _(w){var T;o.if((0,cr.not)((T=e.valid)!==null&&T!==void 0?T:p),w)}}An.funcKeywordCode=Kee;function ZL(t){let{gen:e,data:r,it:o}=t;e.if(o.parentData,()=>e.assign(r,(0,cr._)`${o.parentData}[${o.parentDataProperty}]`))}function Jee(t,e){let{gen:r}=t;r.if((0,cr._)`Array.isArray(${e})`,()=>{r.assign(Zi.default.vErrors,(0,cr._)`${Zi.default.vErrors} === null ? ${e} : ${Zi.default.vErrors}.concat(${e})`).assign(Zi.default.errors,(0,cr._)`${Zi.default.vErrors}.length`),(0,Vee.extendErrors)(t)},()=>t.error())}function Yee({schemaEnv:t},e){if(e.async&&!t.$async)throw new Error("async keyword in sync schema")}function BL(t,e,r){if(r===void 0)throw new Error(`keyword "${e}" failed to compile`);return t.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,cr.stringify)(r)})}function Xee(t,e,r=!1){return!e.length||e.some(o=>o==="array"?Array.isArray(t):o==="object"?t&&typeof t=="object"&&!Array.isArray(t):typeof t==o||r&&typeof t>"u")}An.validSchemaType=Xee;function Qee({schema:t,opts:e,self:r,errSchemaPath:o},n,i){if(Array.isArray(n.keyword)?!n.keyword.includes(i):n.keyword!==i)throw new Error("ajv implementation error");let s=n.dependencies;if(s?.some(a=>!Object.prototype.hasOwnProperty.call(t,a)))throw new Error(`parent schema must have dependencies of ${i}: ${s.join(",")}`);if(n.validateSchema&&!n.validateSchema(t[i])){let c=`keyword "${i}" value is invalid at path "${o}": `+r.errorsText(n.validateSchema.errors);if(e.validateSchema==="log")r.logger.error(c);else throw new Error(c)}}An.validateKeywordUsage=Qee});var GL=I(Bo=>{"use strict";Object.defineProperty(Bo,"__esModule",{value:!0});Bo.extendSubschemaMode=Bo.extendSubschemaData=Bo.getSubschema=void 0;var On=ke(),VL=Fe();function ete(t,{keyword:e,schemaProp:r,schema:o,schemaPath:n,errSchemaPath:i,topSchemaRef:s}){if(e!==void 0&&o!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(e!==void 0){let a=t.schema[e];return r===void 0?{schema:a,schemaPath:(0,On._)`${t.schemaPath}${(0,On.getProperty)(e)}`,errSchemaPath:`${t.errSchemaPath}/${e}`}:{schema:a[r],schemaPath:(0,On._)`${t.schemaPath}${(0,On.getProperty)(e)}${(0,On.getProperty)(r)}`,errSchemaPath:`${t.errSchemaPath}/${e}/${(0,VL.escapeFragment)(r)}`}}if(o!==void 0){if(n===void 0||i===void 0||s===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:o,schemaPath:n,topSchemaRef:s,errSchemaPath:i}}throw new Error('either "keyword" or "schema" must be passed')}Bo.getSubschema=ete;function tte(t,e,{dataProp:r,dataPropType:o,data:n,dataTypes:i,propertyName:s}){if(n!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');let{gen:a}=e;if(r!==void 0){let{errorPath:u,dataPathArr:l,opts:p}=e,g=a.let("data",(0,On._)`${e.data}${(0,On.getProperty)(r)}`,!0);c(g),t.errorPath=(0,On.str)`${u}${(0,VL.getErrorPath)(r,o,p.jsPropertySyntax)}`,t.parentDataProperty=(0,On._)`${r}`,t.dataPathArr=[...l,t.parentDataProperty]}if(n!==void 0){let u=n instanceof On.Name?n:a.let("data",n,!0);c(u),s!==void 0&&(t.propertyName=s)}i&&(t.dataTypes=i);function c(u){t.data=u,t.dataLevel=e.dataLevel+1,t.dataTypes=[],e.definedProperties=new Set,t.parentData=e.data,t.dataNames=[...e.dataNames,u]}}Bo.extendSubschemaData=tte;function rte(t,{jtdDiscriminator:e,jtdMetadata:r,compositeRule:o,createErrors:n,allErrors:i}){o!==void 0&&(t.compositeRule=o),n!==void 0&&(t.createErrors=n),i!==void 0&&(t.allErrors=i),t.jtdDiscriminator=e,t.jtdMetadata=r}Bo.extendSubschemaMode=rte});var ZS=I((i0e,KL)=>{"use strict";KL.exports=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var o,n,i;if(Array.isArray(e)){if(o=e.length,o!=r.length)return!1;for(n=o;n--!==0;)if(!t(e[n],r[n]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(i=Object.keys(e),o=i.length,o!==Object.keys(r).length)return!1;for(n=o;n--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[n]))return!1;for(n=o;n--!==0;){var s=i[n];if(!t(e[s],r[s]))return!1}return!0}return e!==e&&r!==r}});var YL=I((s0e,JL)=>{"use strict";var Ho=JL.exports=function(t,e,r){typeof e=="function"&&(r=e,e={}),r=e.cb||r;var o=typeof r=="function"?r:r.pre||function(){},n=r.post||function(){};Og(e,o,n,t,"",t)};Ho.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Ho.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Ho.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Ho.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Og(t,e,r,o,n,i,s,a,c,u){if(o&&typeof o=="object"&&!Array.isArray(o)){e(o,n,i,s,a,c,u);for(var l in o){var p=o[l];if(Array.isArray(p)){if(l in Ho.arrayKeywords)for(var g=0;g<p.length;g++)Og(t,e,r,p[g],n+"/"+l+"/"+g,i,n,l,o,g)}else if(l in Ho.propsKeywords){if(p&&typeof p=="object")for(var v in p)Og(t,e,r,p[v],n+"/"+l+"/"+nte(v),i,n,l,o,v)}else(l in Ho.keywords||t.allKeys&&!(l in Ho.skipKeywords))&&Og(t,e,r,p,n+"/"+l,i,n,l,o)}r(o,n,i,s,a,c,u)}}function nte(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}});var Sl=I(br=>{"use strict";Object.defineProperty(br,"__esModule",{value:!0});br.getSchemaRefs=br.resolveUrl=br.normalizeId=br._getFullPath=br.getFullPath=br.inlineRef=void 0;var ote=Fe(),ite=ZS(),ste=YL(),ate=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function cte(t,e=!0){return typeof t=="boolean"?!0:e===!0?!BS(t):e?XL(t)<=e:!1}br.inlineRef=cte;var ute=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function BS(t){for(let e in t){if(ute.has(e))return!0;let r=t[e];if(Array.isArray(r)&&r.some(BS)||typeof r=="object"&&BS(r))return!0}return!1}function XL(t){let e=0;for(let r in t){if(r==="$ref")return 1/0;if(e++,!ate.has(r)&&(typeof t[r]=="object"&&(0,ote.eachItem)(t[r],o=>e+=XL(o)),e===1/0))return 1/0}return e}function QL(t,e="",r){r!==!1&&(e=Wa(e));let o=t.parse(e);return e1(t,o)}br.getFullPath=QL;function e1(t,e){return t.serialize(e).split("#")[0]+"#"}br._getFullPath=e1;var lte=/#\/?$/;function Wa(t){return t?t.replace(lte,""):""}br.normalizeId=Wa;function dte(t,e,r){return r=Wa(r),t.resolve(e,r)}br.resolveUrl=dte;var pte=/^[a-z_][-a-z0-9._]*$/i;function fte(t,e){if(typeof t=="boolean")return{};let{schemaId:r,uriResolver:o}=this.opts,n=Wa(t[r]||e),i={"":n},s=QL(o,n,!1),a={},c=new Set;return ste(t,{allKeys:!0},(p,g,v,h)=>{if(h===void 0)return;let b=s+g,_=i[h];typeof p[r]=="string"&&(_=w.call(this,p[r])),T.call(this,p.$anchor),T.call(this,p.$dynamicAnchor),i[g]=_;function w(P){let D=this.opts.uriResolver.resolve;if(P=Wa(_?D(_,P):P),c.has(P))throw l(P);c.add(P);let q=this.refs[P];return typeof q=="string"&&(q=this.refs[q]),typeof q=="object"?u(p,q.schema,P):P!==Wa(b)&&(P[0]==="#"?(u(p,a[P],P),a[P]=p):this.refs[P]=b),P}function T(P){if(typeof P=="string"){if(!pte.test(P))throw new Error(`invalid anchor "${P}"`);w.call(this,`#${P}`)}}}),a;function u(p,g,v){if(g!==void 0&&!ite(p,g))throw l(v)}function l(p){return new Error(`reference "${p}" resolves to more than one schema`)}}br.getSchemaRefs=fte});var Il=I(Vo=>{"use strict";Object.defineProperty(Vo,"__esModule",{value:!0});Vo.getData=Vo.KeywordCxt=Vo.validateFunctionCode=void 0;var i1=NL(),t1=xl(),VS=zS(),Ng=xl(),mte=FL(),kl=HL(),HS=GL(),ie=ke(),he=no(),hte=Sl(),oo=Fe(),El=wl();function gte(t){if(c1(t)&&(u1(t),a1(t))){bte(t);return}s1(t,()=>(0,i1.topBoolOrEmptySchema)(t))}Vo.validateFunctionCode=gte;function s1({gen:t,validateName:e,schema:r,schemaEnv:o,opts:n},i){n.code.es5?t.func(e,(0,ie._)`${he.default.data}, ${he.default.valCxt}`,o.$async,()=>{t.code((0,ie._)`"use strict"; ${r1(r,n)}`),vte(t,n),t.code(i)}):t.func(e,(0,ie._)`${he.default.data}, ${yte(n)}`,o.$async,()=>t.code(r1(r,n)).code(i))}function yte(t){return(0,ie._)`{${he.default.instancePath}="", ${he.default.parentData}, ${he.default.parentDataProperty}, ${he.default.rootData}=${he.default.data}${t.dynamicRef?(0,ie._)`, ${he.default.dynamicAnchors}={}`:ie.nil}}={}`}function vte(t,e){t.if(he.default.valCxt,()=>{t.var(he.default.instancePath,(0,ie._)`${he.default.valCxt}.${he.default.instancePath}`),t.var(he.default.parentData,(0,ie._)`${he.default.valCxt}.${he.default.parentData}`),t.var(he.default.parentDataProperty,(0,ie._)`${he.default.valCxt}.${he.default.parentDataProperty}`),t.var(he.default.rootData,(0,ie._)`${he.default.valCxt}.${he.default.rootData}`),e.dynamicRef&&t.var(he.default.dynamicAnchors,(0,ie._)`${he.default.valCxt}.${he.default.dynamicAnchors}`)},()=>{t.var(he.default.instancePath,(0,ie._)`""`),t.var(he.default.parentData,(0,ie._)`undefined`),t.var(he.default.parentDataProperty,(0,ie._)`undefined`),t.var(he.default.rootData,he.default.data),e.dynamicRef&&t.var(he.default.dynamicAnchors,(0,ie._)`{}`)})}function bte(t){let{schema:e,opts:r,gen:o}=t;s1(t,()=>{r.$comment&&e.$comment&&d1(t),Ete(t),o.let(he.default.vErrors,null),o.let(he.default.errors,0),r.unevaluated&&_te(t),l1(t),Tte(t)})}function _te(t){let{gen:e,validateName:r}=t;t.evaluated=e.const("evaluated",(0,ie._)`${r}.evaluated`),e.if((0,ie._)`${t.evaluated}.dynamicProps`,()=>e.assign((0,ie._)`${t.evaluated}.props`,(0,ie._)`undefined`)),e.if((0,ie._)`${t.evaluated}.dynamicItems`,()=>e.assign((0,ie._)`${t.evaluated}.items`,(0,ie._)`undefined`))}function r1(t,e){let r=typeof t=="object"&&t[e.schemaId];return r&&(e.code.source||e.code.process)?(0,ie._)`/*# sourceURL=${r} */`:ie.nil}function wte(t,e){if(c1(t)&&(u1(t),a1(t))){xte(t,e);return}(0,i1.boolOrEmptySchema)(t,e)}function a1({schema:t,self:e}){if(typeof t=="boolean")return!t;for(let r in t)if(e.RULES.all[r])return!0;return!1}function c1(t){return typeof t.schema!="boolean"}function xte(t,e){let{schema:r,gen:o,opts:n}=t;n.$comment&&r.$comment&&d1(t),kte(t),Ite(t);let i=o.const("_errs",he.default.errors);l1(t,i),o.var(e,(0,ie._)`${i} === ${he.default.errors}`)}function u1(t){(0,oo.checkUnknownRules)(t),Ste(t)}function l1(t,e){if(t.opts.jtd)return n1(t,[],!1,e);let r=(0,t1.getSchemaTypes)(t.schema),o=(0,t1.coerceAndCheckDataType)(t,r);n1(t,r,!o,e)}function Ste(t){let{schema:e,errSchemaPath:r,opts:o,self:n}=t;e.$ref&&o.ignoreKeywordsWithRef&&(0,oo.schemaHasRulesButRef)(e,n.RULES)&&n.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function Ete(t){let{schema:e,opts:r}=t;e.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,oo.checkStrictMode)(t,"default is ignored in the schema root")}function kte(t){let e=t.schema[t.opts.schemaId];e&&(t.baseId=(0,hte.resolveUrl)(t.opts.uriResolver,t.baseId,e))}function Ite(t){if(t.schema.$async&&!t.schemaEnv.$async)throw new Error("async schema in sync schema")}function d1({gen:t,schemaEnv:e,schema:r,errSchemaPath:o,opts:n}){let i=r.$comment;if(n.$comment===!0)t.code((0,ie._)`${he.default.self}.logger.log(${i})`);else if(typeof n.$comment=="function"){let s=(0,ie.str)`${o}/$comment`,a=t.scopeValue("root",{ref:e.root});t.code((0,ie._)`${he.default.self}.opts.$comment(${i}, ${s}, ${a}.schema)`)}}function Tte(t){let{gen:e,schemaEnv:r,validateName:o,ValidationError:n,opts:i}=t;r.$async?e.if((0,ie._)`${he.default.errors} === 0`,()=>e.return(he.default.data),()=>e.throw((0,ie._)`new ${n}(${he.default.vErrors})`)):(e.assign((0,ie._)`${o}.errors`,he.default.vErrors),i.unevaluated&&$te(t),e.return((0,ie._)`${he.default.errors} === 0`))}function $te({gen:t,evaluated:e,props:r,items:o}){r instanceof ie.Name&&t.assign((0,ie._)`${e}.props`,r),o instanceof ie.Name&&t.assign((0,ie._)`${e}.items`,o)}function n1(t,e,r,o){let{gen:n,schema:i,data:s,allErrors:a,opts:c,self:u}=t,{RULES:l}=u;if(i.$ref&&(c.ignoreKeywordsWithRef||!(0,oo.schemaHasRulesButRef)(i,l))){n.block(()=>f1(t,"$ref",l.all.$ref.definition));return}c.jtd||Rte(t,e),n.block(()=>{for(let g of l.rules)p(g);p(l.post)});function p(g){(0,VS.shouldUseGroup)(i,g)&&(g.type?(n.if((0,Ng.checkDataType)(g.type,s,c.strictNumbers)),o1(t,g),e.length===1&&e[0]===g.type&&r&&(n.else(),(0,Ng.reportTypeError)(t)),n.endIf()):o1(t,g),a||n.if((0,ie._)`${he.default.errors} === ${o||0}`))}}function o1(t,e){let{gen:r,schema:o,opts:{useDefaults:n}}=t;n&&(0,mte.assignDefaults)(t,e.type),r.block(()=>{for(let i of e.rules)(0,VS.shouldUseRule)(o,i)&&f1(t,i.keyword,i.definition,e.type)})}function Rte(t,e){t.schemaEnv.meta||!t.opts.strictTypes||(Pte(t,e),t.opts.allowUnionTypes||Cte(t,e),Ate(t,t.dataTypes))}function Pte(t,e){if(e.length){if(!t.dataTypes.length){t.dataTypes=e;return}e.forEach(r=>{p1(t.dataTypes,r)||GS(t,`type "${r}" not allowed by context "${t.dataTypes.join(",")}"`)}),Nte(t,e)}}function Cte(t,e){e.length>1&&!(e.length===2&&e.includes("null"))&&GS(t,"use allowUnionTypes to allow union type keyword")}function Ate(t,e){let r=t.self.RULES.all;for(let o in r){let n=r[o];if(typeof n=="object"&&(0,VS.shouldUseRule)(t.schema,n)){let{type:i}=n.definition;i.length&&!i.some(s=>Ote(e,s))&&GS(t,`missing type "${i.join(",")}" for keyword "${o}"`)}}}function Ote(t,e){return t.includes(e)||e==="number"&&t.includes("integer")}function p1(t,e){return t.includes(e)||e==="integer"&&t.includes("number")}function Nte(t,e){let r=[];for(let o of t.dataTypes)p1(e,o)?r.push(o):e.includes("integer")&&o==="number"&&r.push("integer");t.dataTypes=r}function GS(t,e){let r=t.schemaEnv.baseId+t.errSchemaPath;e+=` at "${r}" (strictTypes)`,(0,oo.checkStrictMode)(t,e,t.opts.strictTypes)}var Dg=class{constructor(e,r,o){if((0,kl.validateKeywordUsage)(e,r,o),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=o,this.data=e.data,this.schema=e.schema[o],this.$data=r.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,oo.schemaRefOrVal)(e,this.schema,o,this.$data),this.schemaType=r.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=r,this.$data)this.schemaCode=e.gen.const("vSchema",m1(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,kl.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${o} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=e.gen.const("_errs",he.default.errors))}result(e,r,o){this.failResult((0,ie.not)(e),r,o)}failResult(e,r,o){this.gen.if(e),o?o():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,r){this.failResult((0,ie.not)(e),void 0,r)}fail(e){if(e===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);let{schemaCode:r}=this;this.fail((0,ie._)`${r} !== undefined && (${(0,ie.or)(this.invalid$data(),e)})`)}error(e,r,o){if(r){this.setParams(r),this._error(e,o),this.setParams({});return}this._error(e,o)}_error(e,r){(e?El.reportExtraError:El.reportError)(this,this.def.error,r)}$dataError(){(0,El.reportError)(this,this.def.$dataError||El.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,El.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,r){r?Object.assign(this.params,e):this.params=e}block$data(e,r,o=ie.nil){this.gen.block(()=>{this.check$data(e,o),r()})}check$data(e=ie.nil,r=ie.nil){if(!this.$data)return;let{gen:o,schemaCode:n,schemaType:i,def:s}=this;o.if((0,ie.or)((0,ie._)`${n} === undefined`,r)),e!==ie.nil&&o.assign(e,!0),(i.length||s.validateSchema)&&(o.elseIf(this.invalid$data()),this.$dataError(),e!==ie.nil&&o.assign(e,!1)),o.else()}invalid$data(){let{gen:e,schemaCode:r,schemaType:o,def:n,it:i}=this;return(0,ie.or)(s(),a());function s(){if(o.length){if(!(r instanceof ie.Name))throw new Error("ajv implementation error");let c=Array.isArray(o)?o:[o];return(0,ie._)`${(0,Ng.checkDataTypes)(c,r,i.opts.strictNumbers,Ng.DataType.Wrong)}`}return ie.nil}function a(){if(n.validateSchema){let c=e.scopeValue("validate$data",{ref:n.validateSchema});return(0,ie._)`!${c}(${r})`}return ie.nil}}subschema(e,r){let o=(0,HS.getSubschema)(this.it,e);(0,HS.extendSubschemaData)(o,this.it,e),(0,HS.extendSubschemaMode)(o,e);let n={...this.it,...o,items:void 0,props:void 0};return wte(n,r),n}mergeEvaluated(e,r){let{it:o,gen:n}=this;o.opts.unevaluated&&(o.props!==!0&&e.props!==void 0&&(o.props=oo.mergeEvaluated.props(n,e.props,o.props,r)),o.items!==!0&&e.items!==void 0&&(o.items=oo.mergeEvaluated.items(n,e.items,o.items,r)))}mergeValidEvaluated(e,r){let{it:o,gen:n}=this;if(o.opts.unevaluated&&(o.props!==!0||o.items!==!0))return n.if(r,()=>this.mergeEvaluated(e,ie.Name)),!0}};Vo.KeywordCxt=Dg;function f1(t,e,r,o){let n=new Dg(t,r,e);"code"in r?r.code(n,o):n.$data&&r.validate?(0,kl.funcKeywordCode)(n,r):"macro"in r?(0,kl.macroKeywordCode)(n,r):(r.compile||r.validate)&&(0,kl.funcKeywordCode)(n,r)}var Dte=/^\/(?:[^~]|~0|~1)*$/,Mte=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function m1(t,{dataLevel:e,dataNames:r,dataPathArr:o}){let n,i;if(t==="")return he.default.rootData;if(t[0]==="/"){if(!Dte.test(t))throw new Error(`Invalid JSON-pointer: ${t}`);n=t,i=he.default.rootData}else{let u=Mte.exec(t);if(!u)throw new Error(`Invalid JSON-pointer: ${t}`);let l=+u[1];if(n=u[2],n==="#"){if(l>=e)throw new Error(c("property/index",l));return o[e-l]}if(l>e)throw new Error(c("data",l));if(i=r[e-l],!n)return i}let s=i,a=n.split("/");for(let u of a)u&&(i=(0,ie._)`${i}${(0,ie.getProperty)((0,oo.unescapeJsonPointer)(u))}`,s=(0,ie._)`${s} && ${i}`);return s;function c(u,l){return`Cannot access ${u} ${l} levels up, current level is ${e}`}}Vo.getData=m1});var Mg=I(JS=>{"use strict";Object.defineProperty(JS,"__esModule",{value:!0});var KS=class extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}};JS.default=KS});var Tl=I(QS=>{"use strict";Object.defineProperty(QS,"__esModule",{value:!0});var YS=Sl(),XS=class extends Error{constructor(e,r,o,n){super(n||`can't resolve reference ${o} from id ${r}`),this.missingRef=(0,YS.resolveUrl)(e,r,o),this.missingSchema=(0,YS.normalizeId)((0,YS.getFullPath)(e,this.missingRef))}};QS.default=XS});var jg=I(Br=>{"use strict";Object.defineProperty(Br,"__esModule",{value:!0});Br.resolveSchema=Br.getCompilingSchema=Br.resolveRef=Br.compileSchema=Br.SchemaEnv=void 0;var ln=ke(),zte=Mg(),Bi=no(),dn=Sl(),h1=Fe(),jte=Il(),Za=class{constructor(e){var r;this.refs={},this.dynamicAnchors={};let o;typeof e.schema=="object"&&(o=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=(r=e.baseId)!==null&&r!==void 0?r:(0,dn.normalizeId)(o?.[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=o?.$async,this.refs={}}};Br.SchemaEnv=Za;function tE(t){let e=g1.call(this,t);if(e)return e;let r=(0,dn.getFullPath)(this.opts.uriResolver,t.root.baseId),{es5:o,lines:n}=this.opts.code,{ownProperties:i}=this.opts,s=new ln.CodeGen(this.scope,{es5:o,lines:n,ownProperties:i}),a;t.$async&&(a=s.scopeValue("Error",{ref:zte.default,code:(0,ln._)`require("ajv/dist/runtime/validation_error").default`}));let c=s.scopeName("validate");t.validateName=c;let u={gen:s,allErrors:this.opts.allErrors,data:Bi.default.data,parentData:Bi.default.parentData,parentDataProperty:Bi.default.parentDataProperty,dataNames:[Bi.default.data],dataPathArr:[ln.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:s.scopeValue("schema",this.opts.code.source===!0?{ref:t.schema,code:(0,ln.stringify)(t.schema)}:{ref:t.schema}),validateName:c,ValidationError:a,schema:t.schema,schemaEnv:t,rootId:r,baseId:t.baseId||r,schemaPath:ln.nil,errSchemaPath:t.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,ln._)`""`,opts:this.opts,self:this},l;try{this._compilations.add(t),(0,jte.validateFunctionCode)(u),s.optimize(this.opts.code.optimize);let p=s.toString();l=`${s.scopeRefs(Bi.default.scope)}return ${p}`,this.opts.code.process&&(l=this.opts.code.process(l,t));let v=new Function(`${Bi.default.self}`,`${Bi.default.scope}`,l)(this,this.scope.get());if(this.scope.value(c,{ref:v}),v.errors=null,v.schema=t.schema,v.schemaEnv=t,t.$async&&(v.$async=!0),this.opts.code.source===!0&&(v.source={validateName:c,validateCode:p,scopeValues:s._values}),this.opts.unevaluated){let{props:h,items:b}=u;v.evaluated={props:h instanceof ln.Name?void 0:h,items:b instanceof ln.Name?void 0:b,dynamicProps:h instanceof ln.Name,dynamicItems:b instanceof ln.Name},v.source&&(v.source.evaluated=(0,ln.stringify)(v.evaluated))}return t.validate=v,t}catch(p){throw delete t.validate,delete t.validateName,l&&this.logger.error("Error compiling schema, function code:",l),p}finally{this._compilations.delete(t)}}Br.compileSchema=tE;function Lte(t,e,r){var o;r=(0,dn.resolveUrl)(this.opts.uriResolver,e,r);let n=t.refs[r];if(n)return n;let i=qte.call(this,t,r);if(i===void 0){let s=(o=t.localRefs)===null||o===void 0?void 0:o[r],{schemaId:a}=this.opts;s&&(i=new Za({schema:s,schemaId:a,root:t,baseId:e}))}if(i!==void 0)return t.refs[r]=Ute.call(this,i)}Br.resolveRef=Lte;function Ute(t){return(0,dn.inlineRef)(t.schema,this.opts.inlineRefs)?t.schema:t.validate?t:tE.call(this,t)}function g1(t){for(let e of this._compilations)if(Fte(e,t))return e}Br.getCompilingSchema=g1;function Fte(t,e){return t.schema===e.schema&&t.root===e.root&&t.baseId===e.baseId}function qte(t,e){let r;for(;typeof(r=this.refs[e])=="string";)e=r;return r||this.schemas[e]||zg.call(this,t,e)}function zg(t,e){let r=this.opts.uriResolver.parse(e),o=(0,dn._getFullPath)(this.opts.uriResolver,r),n=(0,dn.getFullPath)(this.opts.uriResolver,t.baseId,void 0);if(Object.keys(t.schema).length>0&&o===n)return eE.call(this,r,t);let i=(0,dn.normalizeId)(o),s=this.refs[i]||this.schemas[i];if(typeof s=="string"){let a=zg.call(this,t,s);return typeof a?.schema!="object"?void 0:eE.call(this,r,a)}if(typeof s?.schema=="object"){if(s.validate||tE.call(this,s),i===(0,dn.normalizeId)(e)){let{schema:a}=s,{schemaId:c}=this.opts,u=a[c];return u&&(n=(0,dn.resolveUrl)(this.opts.uriResolver,n,u)),new Za({schema:a,schemaId:c,root:t,baseId:n})}return eE.call(this,r,s)}}Br.resolveSchema=zg;var Wte=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function eE(t,{baseId:e,schema:r,root:o}){var n;if(((n=t.fragment)===null||n===void 0?void 0:n[0])!=="/")return;for(let a of t.fragment.slice(1).split("/")){if(typeof r=="boolean")return;let c=r[(0,h1.unescapeFragment)(a)];if(c===void 0)return;r=c;let u=typeof r=="object"&&r[this.opts.schemaId];!Wte.has(a)&&u&&(e=(0,dn.resolveUrl)(this.opts.uriResolver,e,u))}let i;if(typeof r!="boolean"&&r.$ref&&!(0,h1.schemaHasRulesButRef)(r,this.RULES)){let a=(0,dn.resolveUrl)(this.opts.uriResolver,e,r.$ref);i=zg.call(this,o,a)}let{schemaId:s}=this.opts;if(i=i||new Za({schema:r,schemaId:s,root:o,baseId:e}),i.schema!==i.root.schema)return i}});var y1=I((p0e,Zte)=>{Zte.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var nE=I((f0e,w1)=>{"use strict";var Bte=RegExp.prototype.test.bind(/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu),b1=RegExp.prototype.test.bind(/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u);function rE(t){let e="",r=0,o=0;for(o=0;o<t.length;o++)if(r=t[o].charCodeAt(0),r!==48){if(!(r>=48&&r<=57||r>=65&&r<=70||r>=97&&r<=102))return"";e+=t[o];break}for(o+=1;o<t.length;o++){if(r=t[o].charCodeAt(0),!(r>=48&&r<=57||r>=65&&r<=70||r>=97&&r<=102))return"";e+=t[o]}return e}var Hte=RegExp.prototype.test.bind(/[^!"$&'()*+,\-.;=_`a-z{}~]/u);function v1(t){return t.length=0,!0}function Vte(t,e,r){if(t.length){let o=rE(t);if(o!=="")e.push(o);else return r.error=!0,!1;t.length=0}return!0}function Gte(t){let e=0,r={error:!1,address:"",zone:""},o=[],n=[],i=!1,s=!1,a=Vte;for(let c=0;c<t.length;c++){let u=t[c];if(!(u==="["||u==="]"))if(u===":"){if(i===!0&&(s=!0),!a(n,o,r))break;if(++e>7){r.error=!0;break}c>0&&t[c-1]===":"&&(i=!0),o.push(":");continue}else if(u==="%"){if(!a(n,o,r))break;a=v1}else{n.push(u);continue}}return n.length&&(a===v1?r.zone=n.join(""):s?o.push(n.join("")):o.push(rE(n))),r.address=o.join(""),r}function _1(t){if(Kte(t,":")<2)return{host:t,isIPV6:!1};let e=Gte(t);if(e.error)return{host:t,isIPV6:!1};{let r=e.address,o=e.address;return e.zone&&(r+="%"+e.zone,o+="%25"+e.zone),{host:r,isIPV6:!0,escapedHost:o}}}function Kte(t,e){let r=0;for(let o=0;o<t.length;o++)t[o]===e&&r++;return r}function Jte(t){let e=t,r=[],o=-1,n=0;for(;n=e.length;){if(n===1){if(e===".")break;if(e==="/"){r.push("/");break}else{r.push(e);break}}else if(n===2){if(e[0]==="."){if(e[1]===".")break;if(e[1]==="/"){e=e.slice(2);continue}}else if(e[0]==="/"&&(e[1]==="."||e[1]==="/")){r.push("/");break}}else if(n===3&&e==="/.."){r.length!==0&&r.pop(),r.push("/");break}if(e[0]==="."){if(e[1]==="."){if(e[2]==="/"){e=e.slice(3);continue}}else if(e[1]==="/"){e=e.slice(2);continue}}else if(e[0]==="/"&&e[1]==="."){if(e[2]==="/"){e=e.slice(2);continue}else if(e[2]==="."&&e[3]==="/"){e=e.slice(3),r.length!==0&&r.pop();continue}}if((o=e.indexOf("/",1))===-1){r.push(e);break}else r.push(e.slice(0,o)),e=e.slice(o)}return r.join("")}function Yte(t,e){let r=e!==!0?escape:unescape;return t.scheme!==void 0&&(t.scheme=r(t.scheme)),t.userinfo!==void 0&&(t.userinfo=r(t.userinfo)),t.host!==void 0&&(t.host=r(t.host)),t.path!==void 0&&(t.path=r(t.path)),t.query!==void 0&&(t.query=r(t.query)),t.fragment!==void 0&&(t.fragment=r(t.fragment)),t}function Xte(t){let e=[];if(t.userinfo!==void 0&&(e.push(t.userinfo),e.push("@")),t.host!==void 0){let r=unescape(t.host);if(!b1(r)){let o=_1(r);o.isIPV6===!0?r=`[${o.escapedHost}]`:r=t.host}e.push(r)}return(typeof t.port=="number"||typeof t.port=="string")&&(e.push(":"),e.push(String(t.port))),e.length?e.join(""):void 0}w1.exports={nonSimpleDomain:Hte,recomposeAuthority:Xte,normalizeComponentEncoding:Yte,removeDotSegments:Jte,isIPv4:b1,isUUID:Bte,normalizeIPv6:_1,stringArrayToHexStripped:rE}});var I1=I((m0e,k1)=>{"use strict";var{isUUID:Qte}=nE(),ere=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu,tre=["http","https","ws","wss","urn","urn:uuid"];function rre(t){return tre.indexOf(t)!==-1}function oE(t){return t.secure===!0?!0:t.secure===!1?!1:t.scheme?t.scheme.length===3&&(t.scheme[0]==="w"||t.scheme[0]==="W")&&(t.scheme[1]==="s"||t.scheme[1]==="S")&&(t.scheme[2]==="s"||t.scheme[2]==="S"):!1}function x1(t){return t.host||(t.error=t.error||"HTTP URIs must have a host."),t}function S1(t){let e=String(t.scheme).toLowerCase()==="https";return(t.port===(e?443:80)||t.port==="")&&(t.port=void 0),t.path||(t.path="/"),t}function nre(t){return t.secure=oE(t),t.resourceName=(t.path||"/")+(t.query?"?"+t.query:""),t.path=void 0,t.query=void 0,t}function ore(t){if((t.port===(oE(t)?443:80)||t.port==="")&&(t.port=void 0),typeof t.secure=="boolean"&&(t.scheme=t.secure?"wss":"ws",t.secure=void 0),t.resourceName){let[e,r]=t.resourceName.split("?");t.path=e&&e!=="/"?e:void 0,t.query=r,t.resourceName=void 0}return t.fragment=void 0,t}function ire(t,e){if(!t.path)return t.error="URN can not be parsed",t;let r=t.path.match(ere);if(r){let o=e.scheme||t.scheme||"urn";t.nid=r[1].toLowerCase(),t.nss=r[2];let n=`${o}:${e.nid||t.nid}`,i=iE(n);t.path=void 0,i&&(t=i.parse(t,e))}else t.error=t.error||"URN can not be parsed.";return t}function sre(t,e){if(t.nid===void 0)throw new Error("URN without nid cannot be serialized");let r=e.scheme||t.scheme||"urn",o=t.nid.toLowerCase(),n=`${r}:${e.nid||o}`,i=iE(n);i&&(t=i.serialize(t,e));let s=t,a=t.nss;return s.path=`${o||e.nid}:${a}`,e.skipEscape=!0,s}function are(t,e){let r=t;return r.uuid=r.nss,r.nss=void 0,!e.tolerant&&(!r.uuid||!Qte(r.uuid))&&(r.error=r.error||"UUID is not valid."),r}function cre(t){let e=t;return e.nss=(t.uuid||"").toLowerCase(),e}var E1={scheme:"http",domainHost:!0,parse:x1,serialize:S1},ure={scheme:"https",domainHost:E1.domainHost,parse:x1,serialize:S1},Lg={scheme:"ws",domainHost:!0,parse:nre,serialize:ore},lre={scheme:"wss",domainHost:Lg.domainHost,parse:Lg.parse,serialize:Lg.serialize},dre={scheme:"urn",parse:ire,serialize:sre,skipNormalize:!0},pre={scheme:"urn:uuid",parse:are,serialize:cre,skipNormalize:!0},Ug={http:E1,https:ure,ws:Lg,wss:lre,urn:dre,"urn:uuid":pre};Object.setPrototypeOf(Ug,null);function iE(t){return t&&(Ug[t]||Ug[t.toLowerCase()])||void 0}k1.exports={wsIsSecure:oE,SCHEMES:Ug,isValidSchemeName:rre,getSchemeHandler:iE}});var R1=I((h0e,qg)=>{"use strict";var{normalizeIPv6:fre,removeDotSegments:$l,recomposeAuthority:mre,normalizeComponentEncoding:Fg,isIPv4:hre,nonSimpleDomain:gre}=nE(),{SCHEMES:yre,getSchemeHandler:T1}=I1();function vre(t,e){return typeof t=="string"?t=Nn(io(t,e),e):typeof t=="object"&&(t=io(Nn(t,e),e)),t}function bre(t,e,r){let o=r?Object.assign({scheme:"null"},r):{scheme:"null"},n=$1(io(t,o),io(e,o),o,!0);return o.skipEscape=!0,Nn(n,o)}function $1(t,e,r,o){let n={};return o||(t=io(Nn(t,r),r),e=io(Nn(e,r),r)),r=r||{},!r.tolerant&&e.scheme?(n.scheme=e.scheme,n.userinfo=e.userinfo,n.host=e.host,n.port=e.port,n.path=$l(e.path||""),n.query=e.query):(e.userinfo!==void 0||e.host!==void 0||e.port!==void 0?(n.userinfo=e.userinfo,n.host=e.host,n.port=e.port,n.path=$l(e.path||""),n.query=e.query):(e.path?(e.path[0]==="/"?n.path=$l(e.path):((t.userinfo!==void 0||t.host!==void 0||t.port!==void 0)&&!t.path?n.path="/"+e.path:t.path?n.path=t.path.slice(0,t.path.lastIndexOf("/")+1)+e.path:n.path=e.path,n.path=$l(n.path)),n.query=e.query):(n.path=t.path,e.query!==void 0?n.query=e.query:n.query=t.query),n.userinfo=t.userinfo,n.host=t.host,n.port=t.port),n.scheme=t.scheme),n.fragment=e.fragment,n}function _re(t,e,r){return typeof t=="string"?(t=unescape(t),t=Nn(Fg(io(t,r),!0),{...r,skipEscape:!0})):typeof t=="object"&&(t=Nn(Fg(t,!0),{...r,skipEscape:!0})),typeof e=="string"?(e=unescape(e),e=Nn(Fg(io(e,r),!0),{...r,skipEscape:!0})):typeof e=="object"&&(e=Nn(Fg(e,!0),{...r,skipEscape:!0})),t.toLowerCase()===e.toLowerCase()}function Nn(t,e){let r={host:t.host,scheme:t.scheme,userinfo:t.userinfo,port:t.port,path:t.path,query:t.query,nid:t.nid,nss:t.nss,uuid:t.uuid,fragment:t.fragment,reference:t.reference,resourceName:t.resourceName,secure:t.secure,error:""},o=Object.assign({},e),n=[],i=T1(o.scheme||r.scheme);i&&i.serialize&&i.serialize(r,o),r.path!==void 0&&(o.skipEscape?r.path=unescape(r.path):(r.path=escape(r.path),r.scheme!==void 0&&(r.path=r.path.split("%3A").join(":")))),o.reference!=="suffix"&&r.scheme&&n.push(r.scheme,":");let s=mre(r);if(s!==void 0&&(o.reference!=="suffix"&&n.push("//"),n.push(s),r.path&&r.path[0]!=="/"&&n.push("/")),r.path!==void 0){let a=r.path;!o.absolutePath&&(!i||!i.absolutePath)&&(a=$l(a)),s===void 0&&a[0]==="/"&&a[1]==="/"&&(a="/%2F"+a.slice(2)),n.push(a)}return r.query!==void 0&&n.push("?",r.query),r.fragment!==void 0&&n.push("#",r.fragment),n.join("")}var wre=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function io(t,e){let r=Object.assign({},e),o={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},n=!1;r.reference==="suffix"&&(r.scheme?t=r.scheme+":"+t:t="//"+t);let i=t.match(wre);if(i){if(o.scheme=i[1],o.userinfo=i[3],o.host=i[4],o.port=parseInt(i[5],10),o.path=i[6]||"",o.query=i[7],o.fragment=i[8],isNaN(o.port)&&(o.port=i[5]),o.host)if(hre(o.host)===!1){let c=fre(o.host);o.host=c.host.toLowerCase(),n=c.isIPV6}else n=!0;o.scheme===void 0&&o.userinfo===void 0&&o.host===void 0&&o.port===void 0&&o.query===void 0&&!o.path?o.reference="same-document":o.scheme===void 0?o.reference="relative":o.fragment===void 0?o.reference="absolute":o.reference="uri",r.reference&&r.reference!=="suffix"&&r.reference!==o.reference&&(o.error=o.error||"URI is not a "+r.reference+" reference.");let s=T1(r.scheme||o.scheme);if(!r.unicodeSupport&&(!s||!s.unicodeSupport)&&o.host&&(r.domainHost||s&&s.domainHost)&&n===!1&&gre(o.host))try{o.host=URL.domainToASCII(o.host.toLowerCase())}catch(a){o.error=o.error||"Host's domain name can not be converted to ASCII: "+a}(!s||s&&!s.skipNormalize)&&(t.indexOf("%")!==-1&&(o.scheme!==void 0&&(o.scheme=unescape(o.scheme)),o.host!==void 0&&(o.host=unescape(o.host))),o.path&&(o.path=escape(unescape(o.path))),o.fragment&&(o.fragment=encodeURI(decodeURIComponent(o.fragment)))),s&&s.parse&&s.parse(o,r)}else o.error=o.error||"URI can not be parsed.";return o}var sE={SCHEMES:yre,normalize:vre,resolve:bre,resolveComponent:$1,equal:_re,serialize:Nn,parse:io};qg.exports=sE;qg.exports.default=sE;qg.exports.fastUri=sE});var C1=I(aE=>{"use strict";Object.defineProperty(aE,"__esModule",{value:!0});var P1=R1();P1.code='require("ajv/dist/runtime/uri").default';aE.default=P1});var L1=I(jt=>{"use strict";Object.defineProperty(jt,"__esModule",{value:!0});jt.CodeGen=jt.Name=jt.nil=jt.stringify=jt.str=jt._=jt.KeywordCxt=void 0;var xre=Il();Object.defineProperty(jt,"KeywordCxt",{enumerable:!0,get:function(){return xre.KeywordCxt}});var Ba=ke();Object.defineProperty(jt,"_",{enumerable:!0,get:function(){return Ba._}});Object.defineProperty(jt,"str",{enumerable:!0,get:function(){return Ba.str}});Object.defineProperty(jt,"stringify",{enumerable:!0,get:function(){return Ba.stringify}});Object.defineProperty(jt,"nil",{enumerable:!0,get:function(){return Ba.nil}});Object.defineProperty(jt,"Name",{enumerable:!0,get:function(){return Ba.Name}});Object.defineProperty(jt,"CodeGen",{enumerable:!0,get:function(){return Ba.CodeGen}});var Sre=Mg(),M1=Tl(),Ere=MS(),Rl=jg(),kre=ke(),Pl=Sl(),Wg=xl(),uE=Fe(),A1=y1(),Ire=C1(),z1=(t,e)=>new RegExp(t,e);z1.code="new RegExp";var Tre=["removeAdditional","useDefaults","coerceTypes"],$re=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),Rre={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},Pre={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},O1=200;function Cre(t){var e,r,o,n,i,s,a,c,u,l,p,g,v,h,b,_,w,T,P,D,q,ge,Ze,Se,oe;let $e=t.strict,rt=(e=t.code)===null||e===void 0?void 0:e.optimize,Ce=rt===!0||rt===void 0?1:rt||0,ur=(o=(r=t.code)===null||r===void 0?void 0:r.regExp)!==null&&o!==void 0?o:z1,zr=(n=t.uriResolver)!==null&&n!==void 0?n:Ire.default;return{strictSchema:(s=(i=t.strictSchema)!==null&&i!==void 0?i:$e)!==null&&s!==void 0?s:!0,strictNumbers:(c=(a=t.strictNumbers)!==null&&a!==void 0?a:$e)!==null&&c!==void 0?c:!0,strictTypes:(l=(u=t.strictTypes)!==null&&u!==void 0?u:$e)!==null&&l!==void 0?l:"log",strictTuples:(g=(p=t.strictTuples)!==null&&p!==void 0?p:$e)!==null&&g!==void 0?g:"log",strictRequired:(h=(v=t.strictRequired)!==null&&v!==void 0?v:$e)!==null&&h!==void 0?h:!1,code:t.code?{...t.code,optimize:Ce,regExp:ur}:{optimize:Ce,regExp:ur},loopRequired:(b=t.loopRequired)!==null&&b!==void 0?b:O1,loopEnum:(_=t.loopEnum)!==null&&_!==void 0?_:O1,meta:(w=t.meta)!==null&&w!==void 0?w:!0,messages:(T=t.messages)!==null&&T!==void 0?T:!0,inlineRefs:(P=t.inlineRefs)!==null&&P!==void 0?P:!0,schemaId:(D=t.schemaId)!==null&&D!==void 0?D:"$id",addUsedSchema:(q=t.addUsedSchema)!==null&&q!==void 0?q:!0,validateSchema:(ge=t.validateSchema)!==null&&ge!==void 0?ge:!0,validateFormats:(Ze=t.validateFormats)!==null&&Ze!==void 0?Ze:!0,unicodeRegExp:(Se=t.unicodeRegExp)!==null&&Se!==void 0?Se:!0,int32range:(oe=t.int32range)!==null&&oe!==void 0?oe:!0,uriResolver:zr}}var Cl=class{constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts={...e,...Cre(e)};let{es5:r,lines:o}=this.opts.code;this.scope=new kre.ValueScope({scope:{},prefixes:$re,es5:r,lines:o}),this.logger=zre(e.logger);let n=e.validateFormats;e.validateFormats=!1,this.RULES=(0,Ere.getRules)(),N1.call(this,Rre,e,"NOT SUPPORTED"),N1.call(this,Pre,e,"DEPRECATED","warn"),this._metaOpts=Dre.call(this),e.formats&&Ore.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&Nre.call(this,e.keywords),typeof e.meta=="object"&&this.addMetaSchema(e.meta),Are.call(this),e.validateFormats=n}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:e,meta:r,schemaId:o}=this.opts,n=A1;o==="id"&&(n={...A1},n.id=n.$id,delete n.$id),r&&e&&this.addMetaSchema(n,n[o],!1)}defaultMeta(){let{meta:e,schemaId:r}=this.opts;return this.opts.defaultMeta=typeof e=="object"?e[r]||e:void 0}validate(e,r){let o;if(typeof e=="string"){if(o=this.getSchema(e),!o)throw new Error(`no schema with key or ref "${e}"`)}else o=this.compile(e);let n=o(r);return"$async"in o||(this.errors=o.errors),n}compile(e,r){let o=this._addSchema(e,r);return o.validate||this._compileSchemaEnv(o)}compileAsync(e,r){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");let{loadSchema:o}=this.opts;return n.call(this,e,r);async function n(l,p){await i.call(this,l.$schema);let g=this._addSchema(l,p);return g.validate||s.call(this,g)}async function i(l){l&&!this.getSchema(l)&&await n.call(this,{$ref:l},!0)}async function s(l){try{return this._compileSchemaEnv(l)}catch(p){if(!(p instanceof M1.default))throw p;return a.call(this,p),await c.call(this,p.missingSchema),s.call(this,l)}}function a({missingSchema:l,missingRef:p}){if(this.refs[l])throw new Error(`AnySchema ${l} is loaded but ${p} cannot be resolved`)}async function c(l){let p=await u.call(this,l);this.refs[l]||await i.call(this,p.$schema),this.refs[l]||this.addSchema(p,l,r)}async function u(l){let p=this._loading[l];if(p)return p;try{return await(this._loading[l]=o(l))}finally{delete this._loading[l]}}}addSchema(e,r,o,n=this.opts.validateSchema){if(Array.isArray(e)){for(let s of e)this.addSchema(s,void 0,o,n);return this}let i;if(typeof e=="object"){let{schemaId:s}=this.opts;if(i=e[s],i!==void 0&&typeof i!="string")throw new Error(`schema ${s} must be string`)}return r=(0,Pl.normalizeId)(r||i),this._checkUnique(r),this.schemas[r]=this._addSchema(e,o,r,n,!0),this}addMetaSchema(e,r,o=this.opts.validateSchema){return this.addSchema(e,r,!0,o),this}validateSchema(e,r){if(typeof e=="boolean")return!0;let o;if(o=e.$schema,o!==void 0&&typeof o!="string")throw new Error("$schema must be a string");if(o=o||this.opts.defaultMeta||this.defaultMeta(),!o)return this.logger.warn("meta-schema not available"),this.errors=null,!0;let n=this.validate(o,e);if(!n&&r){let i="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(i);else throw new Error(i)}return n}getSchema(e){let r;for(;typeof(r=D1.call(this,e))=="string";)e=r;if(r===void 0){let{schemaId:o}=this.opts,n=new Rl.SchemaEnv({schema:{},schemaId:o});if(r=Rl.resolveSchema.call(this,n,e),!r)return;this.refs[e]=r}return r.validate||this._compileSchemaEnv(r)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let r=D1.call(this,e);return typeof r=="object"&&this._cache.delete(r.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{let r=e;this._cache.delete(r);let o=e[this.opts.schemaId];return o&&(o=(0,Pl.normalizeId)(o),delete this.schemas[o],delete this.refs[o]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(let r of e)this.addKeyword(r);return this}addKeyword(e,r){let o;if(typeof e=="string")o=e,typeof r=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),r.keyword=o);else if(typeof e=="object"&&r===void 0){if(r=e,o=r.keyword,Array.isArray(o)&&!o.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(Lre.call(this,o,r),!r)return(0,uE.eachItem)(o,i=>cE.call(this,i)),this;Fre.call(this,r);let n={...r,type:(0,Wg.getJSONTypes)(r.type),schemaType:(0,Wg.getJSONTypes)(r.schemaType)};return(0,uE.eachItem)(o,n.type.length===0?i=>cE.call(this,i,n):i=>n.type.forEach(s=>cE.call(this,i,n,s))),this}getKeyword(e){let r=this.RULES.all[e];return typeof r=="object"?r.definition:!!r}removeKeyword(e){let{RULES:r}=this;delete r.keywords[e],delete r.all[e];for(let o of r.rules){let n=o.rules.findIndex(i=>i.keyword===e);n>=0&&o.rules.splice(n,1)}return this}addFormat(e,r){return typeof r=="string"&&(r=new RegExp(r)),this.formats[e]=r,this}errorsText(e=this.errors,{separator:r=", ",dataVar:o="data"}={}){return!e||e.length===0?"No errors":e.map(n=>`${o}${n.instancePath} ${n.message}`).reduce((n,i)=>n+r+i)}$dataMetaSchema(e,r){let o=this.RULES.all;e=JSON.parse(JSON.stringify(e));for(let n of r){let i=n.split("/").slice(1),s=e;for(let a of i)s=s[a];for(let a in o){let c=o[a];if(typeof c!="object")continue;let{$data:u}=c.definition,l=s[a];u&&l&&(s[a]=j1(l))}}return e}_removeAllSchemas(e,r){for(let o in e){let n=e[o];(!r||r.test(o))&&(typeof n=="string"?delete e[o]:n&&!n.meta&&(this._cache.delete(n.schema),delete e[o]))}}_addSchema(e,r,o,n=this.opts.validateSchema,i=this.opts.addUsedSchema){let s,{schemaId:a}=this.opts;if(typeof e=="object")s=e[a];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof e!="boolean")throw new Error("schema must be object or boolean")}let c=this._cache.get(e);if(c!==void 0)return c;o=(0,Pl.normalizeId)(s||o);let u=Pl.getSchemaRefs.call(this,e,o);return c=new Rl.SchemaEnv({schema:e,schemaId:a,meta:r,baseId:o,localRefs:u}),this._cache.set(c.schema,c),i&&!o.startsWith("#")&&(o&&this._checkUnique(o),this.refs[o]=c),n&&this.validateSchema(e,!0),c}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw new Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):Rl.compileSchema.call(this,e),!e.validate)throw new Error("ajv implementation error");return e.validate}_compileMetaSchema(e){let r=this.opts;this.opts=this._metaOpts;try{Rl.compileSchema.call(this,e)}finally{this.opts=r}}};Cl.ValidationError=Sre.default;Cl.MissingRefError=M1.default;jt.default=Cl;function N1(t,e,r,o="error"){for(let n in t){let i=n;i in e&&this.logger[o](`${r}: option ${n}. ${t[i]}`)}}function D1(t){return t=(0,Pl.normalizeId)(t),this.schemas[t]||this.refs[t]}function Are(){let t=this.opts.schemas;if(t)if(Array.isArray(t))this.addSchema(t);else for(let e in t)this.addSchema(t[e],e)}function Ore(){for(let t in this.opts.formats){let e=this.opts.formats[t];e&&this.addFormat(t,e)}}function Nre(t){if(Array.isArray(t)){this.addVocabulary(t);return}this.logger.warn("keywords option as map is deprecated, pass array");for(let e in t){let r=t[e];r.keyword||(r.keyword=e),this.addKeyword(r)}}function Dre(){let t={...this.opts};for(let e of Tre)delete t[e];return t}var Mre={log(){},warn(){},error(){}};function zre(t){if(t===!1)return Mre;if(t===void 0)return console;if(t.log&&t.warn&&t.error)return t;throw new Error("logger must implement log, warn and error methods")}var jre=/^[a-z_$][a-z0-9_$:-]*$/i;function Lre(t,e){let{RULES:r}=this;if((0,uE.eachItem)(t,o=>{if(r.keywords[o])throw new Error(`Keyword ${o} is already defined`);if(!jre.test(o))throw new Error(`Keyword ${o} has invalid name`)}),!!e&&e.$data&&!("code"in e||"validate"in e))throw new Error('$data keyword must have "code" or "validate" function')}function cE(t,e,r){var o;let n=e?.post;if(r&&n)throw new Error('keyword with "post" flag cannot have "type"');let{RULES:i}=this,s=n?i.post:i.rules.find(({type:c})=>c===r);if(s||(s={type:r,rules:[]},i.rules.push(s)),i.keywords[t]=!0,!e)return;let a={keyword:t,definition:{...e,type:(0,Wg.getJSONTypes)(e.type),schemaType:(0,Wg.getJSONTypes)(e.schemaType)}};e.before?Ure.call(this,s,a,e.before):s.rules.push(a),i.all[t]=a,(o=e.implements)===null||o===void 0||o.forEach(c=>this.addKeyword(c))}function Ure(t,e,r){let o=t.rules.findIndex(n=>n.keyword===r);o>=0?t.rules.splice(o,0,e):(t.rules.push(e),this.logger.warn(`rule ${r} is not defined`))}function Fre(t){let{metaSchema:e}=t;e!==void 0&&(t.$data&&this.opts.$data&&(e=j1(e)),t.validateSchema=this.compile(e,!0))}var qre={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function j1(t){return{anyOf:[t,qre]}}});var U1=I(lE=>{"use strict";Object.defineProperty(lE,"__esModule",{value:!0});var Wre={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};lE.default=Wre});var Z1=I(Hi=>{"use strict";Object.defineProperty(Hi,"__esModule",{value:!0});Hi.callRef=Hi.getValidate=void 0;var Zre=Tl(),F1=Zr(),_r=ke(),Ha=no(),q1=jg(),Zg=Fe(),Bre={keyword:"$ref",schemaType:"string",code(t){let{gen:e,schema:r,it:o}=t,{baseId:n,schemaEnv:i,validateName:s,opts:a,self:c}=o,{root:u}=i;if((r==="#"||r==="#/")&&n===u.baseId)return p();let l=q1.resolveRef.call(c,u,n,r);if(l===void 0)throw new Zre.default(o.opts.uriResolver,n,r);if(l instanceof q1.SchemaEnv)return g(l);return v(l);function p(){if(i===u)return Bg(t,s,i,i.$async);let h=e.scopeValue("root",{ref:u});return Bg(t,(0,_r._)`${h}.validate`,u,u.$async)}function g(h){let b=W1(t,h);Bg(t,b,h,h.$async)}function v(h){let b=e.scopeValue("schema",a.code.source===!0?{ref:h,code:(0,_r.stringify)(h)}:{ref:h}),_=e.name("valid"),w=t.subschema({schema:h,dataTypes:[],schemaPath:_r.nil,topSchemaRef:b,errSchemaPath:r},_);t.mergeEvaluated(w),t.ok(_)}}};function W1(t,e){let{gen:r}=t;return e.validate?r.scopeValue("validate",{ref:e.validate}):(0,_r._)`${r.scopeValue("wrapper",{ref:e})}.validate`}Hi.getValidate=W1;function Bg(t,e,r,o){let{gen:n,it:i}=t,{allErrors:s,schemaEnv:a,opts:c}=i,u=c.passContext?Ha.default.this:_r.nil;o?l():p();function l(){if(!a.$async)throw new Error("async schema referenced by sync schema");let h=n.let("valid");n.try(()=>{n.code((0,_r._)`await ${(0,F1.callValidateCode)(t,e,u)}`),v(e),s||n.assign(h,!0)},b=>{n.if((0,_r._)`!(${b} instanceof ${i.ValidationError})`,()=>n.throw(b)),g(b),s||n.assign(h,!1)}),t.ok(h)}function p(){t.result((0,F1.callValidateCode)(t,e,u),()=>v(e),()=>g(e))}function g(h){let b=(0,_r._)`${h}.errors`;n.assign(Ha.default.vErrors,(0,_r._)`${Ha.default.vErrors} === null ? ${b} : ${Ha.default.vErrors}.concat(${b})`),n.assign(Ha.default.errors,(0,_r._)`${Ha.default.vErrors}.length`)}function v(h){var b;if(!i.opts.unevaluated)return;let _=(b=r?.validate)===null||b===void 0?void 0:b.evaluated;if(i.props!==!0)if(_&&!_.dynamicProps)_.props!==void 0&&(i.props=Zg.mergeEvaluated.props(n,_.props,i.props));else{let w=n.var("props",(0,_r._)`${h}.evaluated.props`);i.props=Zg.mergeEvaluated.props(n,w,i.props,_r.Name)}if(i.items!==!0)if(_&&!_.dynamicItems)_.items!==void 0&&(i.items=Zg.mergeEvaluated.items(n,_.items,i.items));else{let w=n.var("items",(0,_r._)`${h}.evaluated.items`);i.items=Zg.mergeEvaluated.items(n,w,i.items,_r.Name)}}}Hi.callRef=Bg;Hi.default=Bre});var B1=I(dE=>{"use strict";Object.defineProperty(dE,"__esModule",{value:!0});var Hre=U1(),Vre=Z1(),Gre=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",Hre.default,Vre.default];dE.default=Gre});var H1=I(pE=>{"use strict";Object.defineProperty(pE,"__esModule",{value:!0});var Hg=ke(),Go=Hg.operators,Vg={maximum:{okStr:"<=",ok:Go.LTE,fail:Go.GT},minimum:{okStr:">=",ok:Go.GTE,fail:Go.LT},exclusiveMaximum:{okStr:"<",ok:Go.LT,fail:Go.GTE},exclusiveMinimum:{okStr:">",ok:Go.GT,fail:Go.LTE}},Kre={message:({keyword:t,schemaCode:e})=>(0,Hg.str)`must be ${Vg[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>(0,Hg._)`{comparison: ${Vg[t].okStr}, limit: ${e}}`},Jre={keyword:Object.keys(Vg),type:"number",schemaType:"number",$data:!0,error:Kre,code(t){let{keyword:e,data:r,schemaCode:o}=t;t.fail$data((0,Hg._)`${r} ${Vg[e].fail} ${o} || isNaN(${r})`)}};pE.default=Jre});var V1=I(fE=>{"use strict";Object.defineProperty(fE,"__esModule",{value:!0});var Al=ke(),Yre={message:({schemaCode:t})=>(0,Al.str)`must be multiple of ${t}`,params:({schemaCode:t})=>(0,Al._)`{multipleOf: ${t}}`},Xre={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:Yre,code(t){let{gen:e,data:r,schemaCode:o,it:n}=t,i=n.opts.multipleOfPrecision,s=e.let("res"),a=i?(0,Al._)`Math.abs(Math.round(${s}) - ${s}) > 1e-${i}`:(0,Al._)`${s} !== parseInt(${s})`;t.fail$data((0,Al._)`(${o} === 0 || (${s} = ${r}/${o}, ${a}))`)}};fE.default=Xre});var K1=I(mE=>{"use strict";Object.defineProperty(mE,"__esModule",{value:!0});function G1(t){let e=t.length,r=0,o=0,n;for(;o<e;)r++,n=t.charCodeAt(o++),n>=55296&&n<=56319&&o<e&&(n=t.charCodeAt(o),(n&64512)===56320&&o++);return r}mE.default=G1;G1.code='require("ajv/dist/runtime/ucs2length").default'});var J1=I(hE=>{"use strict";Object.defineProperty(hE,"__esModule",{value:!0});var Vi=ke(),Qre=Fe(),ene=K1(),tne={message({keyword:t,schemaCode:e}){let r=t==="maxLength"?"more":"fewer";return(0,Vi.str)`must NOT have ${r} than ${e} characters`},params:({schemaCode:t})=>(0,Vi._)`{limit: ${t}}`},rne={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:tne,code(t){let{keyword:e,data:r,schemaCode:o,it:n}=t,i=e==="maxLength"?Vi.operators.GT:Vi.operators.LT,s=n.opts.unicode===!1?(0,Vi._)`${r}.length`:(0,Vi._)`${(0,Qre.useFunc)(t.gen,ene.default)}(${r})`;t.fail$data((0,Vi._)`${s} ${i} ${o}`)}};hE.default=rne});var Y1=I(gE=>{"use strict";Object.defineProperty(gE,"__esModule",{value:!0});var nne=Zr(),Gg=ke(),one={message:({schemaCode:t})=>(0,Gg.str)`must match pattern "${t}"`,params:({schemaCode:t})=>(0,Gg._)`{pattern: ${t}}`},ine={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:one,code(t){let{data:e,$data:r,schema:o,schemaCode:n,it:i}=t,s=i.opts.unicodeRegExp?"u":"",a=r?(0,Gg._)`(new RegExp(${n}, ${s}))`:(0,nne.usePattern)(t,o);t.fail$data((0,Gg._)`!${a}.test(${e})`)}};gE.default=ine});var X1=I(yE=>{"use strict";Object.defineProperty(yE,"__esModule",{value:!0});var Ol=ke(),sne={message({keyword:t,schemaCode:e}){let r=t==="maxProperties"?"more":"fewer";return(0,Ol.str)`must NOT have ${r} than ${e} properties`},params:({schemaCode:t})=>(0,Ol._)`{limit: ${t}}`},ane={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:sne,code(t){let{keyword:e,data:r,schemaCode:o}=t,n=e==="maxProperties"?Ol.operators.GT:Ol.operators.LT;t.fail$data((0,Ol._)`Object.keys(${r}).length ${n} ${o}`)}};yE.default=ane});var Q1=I(vE=>{"use strict";Object.defineProperty(vE,"__esModule",{value:!0});var Nl=Zr(),Dl=ke(),cne=Fe(),une={message:({params:{missingProperty:t}})=>(0,Dl.str)`must have required property '${t}'`,params:({params:{missingProperty:t}})=>(0,Dl._)`{missingProperty: ${t}}`},lne={keyword:"required",type:"object",schemaType:"array",$data:!0,error:une,code(t){let{gen:e,schema:r,schemaCode:o,data:n,$data:i,it:s}=t,{opts:a}=s;if(!i&&r.length===0)return;let c=r.length>=a.loopRequired;if(s.allErrors?u():l(),a.strictRequired){let v=t.parentSchema.properties,{definedProperties:h}=t.it;for(let b of r)if(v?.[b]===void 0&&!h.has(b)){let _=s.schemaEnv.baseId+s.errSchemaPath,w=`required property "${b}" is not defined at "${_}" (strictRequired)`;(0,cne.checkStrictMode)(s,w,s.opts.strictRequired)}}function u(){if(c||i)t.block$data(Dl.nil,p);else for(let v of r)(0,Nl.checkReportMissingProp)(t,v)}function l(){let v=e.let("missing");if(c||i){let h=e.let("valid",!0);t.block$data(h,()=>g(v,h)),t.ok(h)}else e.if((0,Nl.checkMissingProp)(t,r,v)),(0,Nl.reportMissingProp)(t,v),e.else()}function p(){e.forOf("prop",o,v=>{t.setParams({missingProperty:v}),e.if((0,Nl.noPropertyInData)(e,n,v,a.ownProperties),()=>t.error())})}function g(v,h){t.setParams({missingProperty:v}),e.forOf(v,o,()=>{e.assign(h,(0,Nl.propertyInData)(e,n,v,a.ownProperties)),e.if((0,Dl.not)(h),()=>{t.error(),e.break()})},Dl.nil)}}};vE.default=lne});var eU=I(bE=>{"use strict";Object.defineProperty(bE,"__esModule",{value:!0});var Ml=ke(),dne={message({keyword:t,schemaCode:e}){let r=t==="maxItems"?"more":"fewer";return(0,Ml.str)`must NOT have ${r} than ${e} items`},params:({schemaCode:t})=>(0,Ml._)`{limit: ${t}}`},pne={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:dne,code(t){let{keyword:e,data:r,schemaCode:o}=t,n=e==="maxItems"?Ml.operators.GT:Ml.operators.LT;t.fail$data((0,Ml._)`${r}.length ${n} ${o}`)}};bE.default=pne});var Kg=I(_E=>{"use strict";Object.defineProperty(_E,"__esModule",{value:!0});var tU=ZS();tU.code='require("ajv/dist/runtime/equal").default';_E.default=tU});var rU=I(xE=>{"use strict";Object.defineProperty(xE,"__esModule",{value:!0});var wE=xl(),Lt=ke(),fne=Fe(),mne=Kg(),hne={message:({params:{i:t,j:e}})=>(0,Lt.str)`must NOT have duplicate items (items ## ${e} and ${t} are identical)`,params:({params:{i:t,j:e}})=>(0,Lt._)`{i: ${t}, j: ${e}}`},gne={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:hne,code(t){let{gen:e,data:r,$data:o,schema:n,parentSchema:i,schemaCode:s,it:a}=t;if(!o&&!n)return;let c=e.let("valid"),u=i.items?(0,wE.getSchemaTypes)(i.items):[];t.block$data(c,l,(0,Lt._)`${s} === false`),t.ok(c);function l(){let h=e.let("i",(0,Lt._)`${r}.length`),b=e.let("j");t.setParams({i:h,j:b}),e.assign(c,!0),e.if((0,Lt._)`${h} > 1`,()=>(p()?g:v)(h,b))}function p(){return u.length>0&&!u.some(h=>h==="object"||h==="array")}function g(h,b){let _=e.name("item"),w=(0,wE.checkDataTypes)(u,_,a.opts.strictNumbers,wE.DataType.Wrong),T=e.const("indices",(0,Lt._)`{}`);e.for((0,Lt._)`;${h}--;`,()=>{e.let(_,(0,Lt._)`${r}[${h}]`),e.if(w,(0,Lt._)`continue`),u.length>1&&e.if((0,Lt._)`typeof ${_} == "string"`,(0,Lt._)`${_} += "_"`),e.if((0,Lt._)`typeof ${T}[${_}] == "number"`,()=>{e.assign(b,(0,Lt._)`${T}[${_}]`),t.error(),e.assign(c,!1).break()}).code((0,Lt._)`${T}[${_}] = ${h}`)})}function v(h,b){let _=(0,fne.useFunc)(e,mne.default),w=e.name("outer");e.label(w).for((0,Lt._)`;${h}--;`,()=>e.for((0,Lt._)`${b} = ${h}; ${b}--;`,()=>e.if((0,Lt._)`${_}(${r}[${h}], ${r}[${b}])`,()=>{t.error(),e.assign(c,!1).break(w)})))}}};xE.default=gne});var nU=I(EE=>{"use strict";Object.defineProperty(EE,"__esModule",{value:!0});var SE=ke(),yne=Fe(),vne=Kg(),bne={message:"must be equal to constant",params:({schemaCode:t})=>(0,SE._)`{allowedValue: ${t}}`},_ne={keyword:"const",$data:!0,error:bne,code(t){let{gen:e,data:r,$data:o,schemaCode:n,schema:i}=t;o||i&&typeof i=="object"?t.fail$data((0,SE._)`!${(0,yne.useFunc)(e,vne.default)}(${r}, ${n})`):t.fail((0,SE._)`${i} !== ${r}`)}};EE.default=_ne});var oU=I(kE=>{"use strict";Object.defineProperty(kE,"__esModule",{value:!0});var zl=ke(),wne=Fe(),xne=Kg(),Sne={message:"must be equal to one of the allowed values",params:({schemaCode:t})=>(0,zl._)`{allowedValues: ${t}}`},Ene={keyword:"enum",schemaType:"array",$data:!0,error:Sne,code(t){let{gen:e,data:r,$data:o,schema:n,schemaCode:i,it:s}=t;if(!o&&n.length===0)throw new Error("enum must have non-empty array");let a=n.length>=s.opts.loopEnum,c,u=()=>c??(c=(0,wne.useFunc)(e,xne.default)),l;if(a||o)l=e.let("valid"),t.block$data(l,p);else{if(!Array.isArray(n))throw new Error("ajv implementation error");let v=e.const("vSchema",i);l=(0,zl.or)(...n.map((h,b)=>g(v,b)))}t.pass(l);function p(){e.assign(l,!1),e.forOf("v",i,v=>e.if((0,zl._)`${u()}(${r}, ${v})`,()=>e.assign(l,!0).break()))}function g(v,h){let b=n[h];return typeof b=="object"&&b!==null?(0,zl._)`${u()}(${r}, ${v}[${h}])`:(0,zl._)`${r} === ${b}`}}};kE.default=Ene});var iU=I(IE=>{"use strict";Object.defineProperty(IE,"__esModule",{value:!0});var kne=H1(),Ine=V1(),Tne=J1(),$ne=Y1(),Rne=X1(),Pne=Q1(),Cne=eU(),Ane=rU(),One=nU(),Nne=oU(),Dne=[kne.default,Ine.default,Tne.default,$ne.default,Rne.default,Pne.default,Cne.default,Ane.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},One.default,Nne.default];IE.default=Dne});var $E=I(jl=>{"use strict";Object.defineProperty(jl,"__esModule",{value:!0});jl.validateAdditionalItems=void 0;var Gi=ke(),TE=Fe(),Mne={message:({params:{len:t}})=>(0,Gi.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,Gi._)`{limit: ${t}}`},zne={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:Mne,code(t){let{parentSchema:e,it:r}=t,{items:o}=e;if(!Array.isArray(o)){(0,TE.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}sU(t,o)}};function sU(t,e){let{gen:r,schema:o,data:n,keyword:i,it:s}=t;s.items=!0;let a=r.const("len",(0,Gi._)`${n}.length`);if(o===!1)t.setParams({len:e.length}),t.pass((0,Gi._)`${a} <= ${e.length}`);else if(typeof o=="object"&&!(0,TE.alwaysValidSchema)(s,o)){let u=r.var("valid",(0,Gi._)`${a} <= ${e.length}`);r.if((0,Gi.not)(u),()=>c(u)),t.ok(u)}function c(u){r.forRange("i",e.length,a,l=>{t.subschema({keyword:i,dataProp:l,dataPropType:TE.Type.Num},u),s.allErrors||r.if((0,Gi.not)(u),()=>r.break())})}}jl.validateAdditionalItems=sU;jl.default=zne});var RE=I(Ll=>{"use strict";Object.defineProperty(Ll,"__esModule",{value:!0});Ll.validateTuple=void 0;var aU=ke(),Jg=Fe(),jne=Zr(),Lne={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(t){let{schema:e,it:r}=t;if(Array.isArray(e))return cU(t,"additionalItems",e);r.items=!0,!(0,Jg.alwaysValidSchema)(r,e)&&t.ok((0,jne.validateArray)(t))}};function cU(t,e,r=t.schema){let{gen:o,parentSchema:n,data:i,keyword:s,it:a}=t;l(n),a.opts.unevaluated&&r.length&&a.items!==!0&&(a.items=Jg.mergeEvaluated.items(o,r.length,a.items));let c=o.name("valid"),u=o.const("len",(0,aU._)`${i}.length`);r.forEach((p,g)=>{(0,Jg.alwaysValidSchema)(a,p)||(o.if((0,aU._)`${u} > ${g}`,()=>t.subschema({keyword:s,schemaProp:g,dataProp:g},c)),t.ok(c))});function l(p){let{opts:g,errSchemaPath:v}=a,h=r.length,b=h===p.minItems&&(h===p.maxItems||p[e]===!1);if(g.strictTuples&&!b){let _=`"${s}" is ${h}-tuple, but minItems or maxItems/${e} are not specified or different at path "${v}"`;(0,Jg.checkStrictMode)(a,_,g.strictTuples)}}}Ll.validateTuple=cU;Ll.default=Lne});var uU=I(PE=>{"use strict";Object.defineProperty(PE,"__esModule",{value:!0});var Une=RE(),Fne={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:t=>(0,Une.validateTuple)(t,"items")};PE.default=Fne});var dU=I(CE=>{"use strict";Object.defineProperty(CE,"__esModule",{value:!0});var lU=ke(),qne=Fe(),Wne=Zr(),Zne=$E(),Bne={message:({params:{len:t}})=>(0,lU.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,lU._)`{limit: ${t}}`},Hne={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:Bne,code(t){let{schema:e,parentSchema:r,it:o}=t,{prefixItems:n}=r;o.items=!0,!(0,qne.alwaysValidSchema)(o,e)&&(n?(0,Zne.validateAdditionalItems)(t,n):t.ok((0,Wne.validateArray)(t)))}};CE.default=Hne});var pU=I(AE=>{"use strict";Object.defineProperty(AE,"__esModule",{value:!0});var Hr=ke(),Yg=Fe(),Vne={message:({params:{min:t,max:e}})=>e===void 0?(0,Hr.str)`must contain at least ${t} valid item(s)`:(0,Hr.str)`must contain at least ${t} and no more than ${e} valid item(s)`,params:({params:{min:t,max:e}})=>e===void 0?(0,Hr._)`{minContains: ${t}}`:(0,Hr._)`{minContains: ${t}, maxContains: ${e}}`},Gne={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:Vne,code(t){let{gen:e,schema:r,parentSchema:o,data:n,it:i}=t,s,a,{minContains:c,maxContains:u}=o;i.opts.next?(s=c===void 0?1:c,a=u):s=1;let l=e.const("len",(0,Hr._)`${n}.length`);if(t.setParams({min:s,max:a}),a===void 0&&s===0){(0,Yg.checkStrictMode)(i,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(a!==void 0&&s>a){(0,Yg.checkStrictMode)(i,'"minContains" > "maxContains" is always invalid'),t.fail();return}if((0,Yg.alwaysValidSchema)(i,r)){let b=(0,Hr._)`${l} >= ${s}`;a!==void 0&&(b=(0,Hr._)`${b} && ${l} <= ${a}`),t.pass(b);return}i.items=!0;let p=e.name("valid");a===void 0&&s===1?v(p,()=>e.if(p,()=>e.break())):s===0?(e.let(p,!0),a!==void 0&&e.if((0,Hr._)`${n}.length > 0`,g)):(e.let(p,!1),g()),t.result(p,()=>t.reset());function g(){let b=e.name("_valid"),_=e.let("count",0);v(b,()=>e.if(b,()=>h(_)))}function v(b,_){e.forRange("i",0,l,w=>{t.subschema({keyword:"contains",dataProp:w,dataPropType:Yg.Type.Num,compositeRule:!0},b),_()})}function h(b){e.code((0,Hr._)`${b}++`),a===void 0?e.if((0,Hr._)`${b} >= ${s}`,()=>e.assign(p,!0).break()):(e.if((0,Hr._)`${b} > ${a}`,()=>e.assign(p,!1).break()),s===1?e.assign(p,!0):e.if((0,Hr._)`${b} >= ${s}`,()=>e.assign(p,!0)))}}};AE.default=Gne});var hU=I(Dn=>{"use strict";Object.defineProperty(Dn,"__esModule",{value:!0});Dn.validateSchemaDeps=Dn.validatePropertyDeps=Dn.error=void 0;var OE=ke(),Kne=Fe(),Ul=Zr();Dn.error={message:({params:{property:t,depsCount:e,deps:r}})=>{let o=e===1?"property":"properties";return(0,OE.str)`must have ${o} ${r} when property ${t} is present`},params:({params:{property:t,depsCount:e,deps:r,missingProperty:o}})=>(0,OE._)`{property: ${t},
    missingProperty: ${o},
    depsCount: ${e},
    deps: ${r}}`};var Jne={keyword:"dependencies",type:"object",schemaType:"object",error:Dn.error,code(t){let[e,r]=Yne(t);fU(t,e),mU(t,r)}};function Yne({schema:t}){let e={},r={};for(let o in t){if(o==="__proto__")continue;let n=Array.isArray(t[o])?e:r;n[o]=t[o]}return[e,r]}function fU(t,e=t.schema){let{gen:r,data:o,it:n}=t;if(Object.keys(e).length===0)return;let i=r.let("missing");for(let s in e){let a=e[s];if(a.length===0)continue;let c=(0,Ul.propertyInData)(r,o,s,n.opts.ownProperties);t.setParams({property:s,depsCount:a.length,deps:a.join(", ")}),n.allErrors?r.if(c,()=>{for(let u of a)(0,Ul.checkReportMissingProp)(t,u)}):(r.if((0,OE._)`${c} && (${(0,Ul.checkMissingProp)(t,a,i)})`),(0,Ul.reportMissingProp)(t,i),r.else())}}Dn.validatePropertyDeps=fU;function mU(t,e=t.schema){let{gen:r,data:o,keyword:n,it:i}=t,s=r.name("valid");for(let a in e)(0,Kne.alwaysValidSchema)(i,e[a])||(r.if((0,Ul.propertyInData)(r,o,a,i.opts.ownProperties),()=>{let c=t.subschema({keyword:n,schemaProp:a},s);t.mergeValidEvaluated(c,s)},()=>r.var(s,!0)),t.ok(s))}Dn.validateSchemaDeps=mU;Dn.default=Jne});var yU=I(NE=>{"use strict";Object.defineProperty(NE,"__esModule",{value:!0});var gU=ke(),Xne=Fe(),Qne={message:"property name must be valid",params:({params:t})=>(0,gU._)`{propertyName: ${t.propertyName}}`},eoe={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:Qne,code(t){let{gen:e,schema:r,data:o,it:n}=t;if((0,Xne.alwaysValidSchema)(n,r))return;let i=e.name("valid");e.forIn("key",o,s=>{t.setParams({propertyName:s}),t.subschema({keyword:"propertyNames",data:s,dataTypes:["string"],propertyName:s,compositeRule:!0},i),e.if((0,gU.not)(i),()=>{t.error(!0),n.allErrors||e.break()})}),t.ok(i)}};NE.default=eoe});var ME=I(DE=>{"use strict";Object.defineProperty(DE,"__esModule",{value:!0});var Xg=Zr(),pn=ke(),toe=no(),Qg=Fe(),roe={message:"must NOT have additional properties",params:({params:t})=>(0,pn._)`{additionalProperty: ${t.additionalProperty}}`},noe={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:roe,code(t){let{gen:e,schema:r,parentSchema:o,data:n,errsCount:i,it:s}=t;if(!i)throw new Error("ajv implementation error");let{allErrors:a,opts:c}=s;if(s.props=!0,c.removeAdditional!=="all"&&(0,Qg.alwaysValidSchema)(s,r))return;let u=(0,Xg.allSchemaProperties)(o.properties),l=(0,Xg.allSchemaProperties)(o.patternProperties);p(),t.ok((0,pn._)`${i} === ${toe.default.errors}`);function p(){e.forIn("key",n,_=>{!u.length&&!l.length?h(_):e.if(g(_),()=>h(_))})}function g(_){let w;if(u.length>8){let T=(0,Qg.schemaRefOrVal)(s,o.properties,"properties");w=(0,Xg.isOwnProperty)(e,T,_)}else u.length?w=(0,pn.or)(...u.map(T=>(0,pn._)`${_} === ${T}`)):w=pn.nil;return l.length&&(w=(0,pn.or)(w,...l.map(T=>(0,pn._)`${(0,Xg.usePattern)(t,T)}.test(${_})`))),(0,pn.not)(w)}function v(_){e.code((0,pn._)`delete ${n}[${_}]`)}function h(_){if(c.removeAdditional==="all"||c.removeAdditional&&r===!1){v(_);return}if(r===!1){t.setParams({additionalProperty:_}),t.error(),a||e.break();return}if(typeof r=="object"&&!(0,Qg.alwaysValidSchema)(s,r)){let w=e.name("valid");c.removeAdditional==="failing"?(b(_,w,!1),e.if((0,pn.not)(w),()=>{t.reset(),v(_)})):(b(_,w),a||e.if((0,pn.not)(w),()=>e.break()))}}function b(_,w,T){let P={keyword:"additionalProperties",dataProp:_,dataPropType:Qg.Type.Str};T===!1&&Object.assign(P,{compositeRule:!0,createErrors:!1,allErrors:!1}),t.subschema(P,w)}}};DE.default=noe});var _U=I(jE=>{"use strict";Object.defineProperty(jE,"__esModule",{value:!0});var ooe=Il(),vU=Zr(),zE=Fe(),bU=ME(),ioe={keyword:"properties",type:"object",schemaType:"object",code(t){let{gen:e,schema:r,parentSchema:o,data:n,it:i}=t;i.opts.removeAdditional==="all"&&o.additionalProperties===void 0&&bU.default.code(new ooe.KeywordCxt(i,bU.default,"additionalProperties"));let s=(0,vU.allSchemaProperties)(r);for(let p of s)i.definedProperties.add(p);i.opts.unevaluated&&s.length&&i.props!==!0&&(i.props=zE.mergeEvaluated.props(e,(0,zE.toHash)(s),i.props));let a=s.filter(p=>!(0,zE.alwaysValidSchema)(i,r[p]));if(a.length===0)return;let c=e.name("valid");for(let p of a)u(p)?l(p):(e.if((0,vU.propertyInData)(e,n,p,i.opts.ownProperties)),l(p),i.allErrors||e.else().var(c,!0),e.endIf()),t.it.definedProperties.add(p),t.ok(c);function u(p){return i.opts.useDefaults&&!i.compositeRule&&r[p].default!==void 0}function l(p){t.subschema({keyword:"properties",schemaProp:p,dataProp:p},c)}}};jE.default=ioe});var EU=I(LE=>{"use strict";Object.defineProperty(LE,"__esModule",{value:!0});var wU=Zr(),ey=ke(),xU=Fe(),SU=Fe(),soe={keyword:"patternProperties",type:"object",schemaType:"object",code(t){let{gen:e,schema:r,data:o,parentSchema:n,it:i}=t,{opts:s}=i,a=(0,wU.allSchemaProperties)(r),c=a.filter(b=>(0,xU.alwaysValidSchema)(i,r[b]));if(a.length===0||c.length===a.length&&(!i.opts.unevaluated||i.props===!0))return;let u=s.strictSchema&&!s.allowMatchingProperties&&n.properties,l=e.name("valid");i.props!==!0&&!(i.props instanceof ey.Name)&&(i.props=(0,SU.evaluatedPropsToName)(e,i.props));let{props:p}=i;g();function g(){for(let b of a)u&&v(b),i.allErrors?h(b):(e.var(l,!0),h(b),e.if(l))}function v(b){for(let _ in u)new RegExp(b).test(_)&&(0,xU.checkStrictMode)(i,`property ${_} matches pattern ${b} (use allowMatchingProperties)`)}function h(b){e.forIn("key",o,_=>{e.if((0,ey._)`${(0,wU.usePattern)(t,b)}.test(${_})`,()=>{let w=c.includes(b);w||t.subschema({keyword:"patternProperties",schemaProp:b,dataProp:_,dataPropType:SU.Type.Str},l),i.opts.unevaluated&&p!==!0?e.assign((0,ey._)`${p}[${_}]`,!0):!w&&!i.allErrors&&e.if((0,ey.not)(l),()=>e.break())})})}}};LE.default=soe});var kU=I(UE=>{"use strict";Object.defineProperty(UE,"__esModule",{value:!0});var aoe=Fe(),coe={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(t){let{gen:e,schema:r,it:o}=t;if((0,aoe.alwaysValidSchema)(o,r)){t.fail();return}let n=e.name("valid");t.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},n),t.failResult(n,()=>t.reset(),()=>t.error())},error:{message:"must NOT be valid"}};UE.default=coe});var IU=I(FE=>{"use strict";Object.defineProperty(FE,"__esModule",{value:!0});var uoe=Zr(),loe={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:uoe.validateUnion,error:{message:"must match a schema in anyOf"}};FE.default=loe});var TU=I(qE=>{"use strict";Object.defineProperty(qE,"__esModule",{value:!0});var ty=ke(),doe=Fe(),poe={message:"must match exactly one schema in oneOf",params:({params:t})=>(0,ty._)`{passingSchemas: ${t.passing}}`},foe={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:poe,code(t){let{gen:e,schema:r,parentSchema:o,it:n}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(n.opts.discriminator&&o.discriminator)return;let i=r,s=e.let("valid",!1),a=e.let("passing",null),c=e.name("_valid");t.setParams({passing:a}),e.block(u),t.result(s,()=>t.reset(),()=>t.error(!0));function u(){i.forEach((l,p)=>{let g;(0,doe.alwaysValidSchema)(n,l)?e.var(c,!0):g=t.subschema({keyword:"oneOf",schemaProp:p,compositeRule:!0},c),p>0&&e.if((0,ty._)`${c} && ${s}`).assign(s,!1).assign(a,(0,ty._)`[${a}, ${p}]`).else(),e.if(c,()=>{e.assign(s,!0),e.assign(a,p),g&&t.mergeEvaluated(g,ty.Name)})})}}};qE.default=foe});var $U=I(WE=>{"use strict";Object.defineProperty(WE,"__esModule",{value:!0});var moe=Fe(),hoe={keyword:"allOf",schemaType:"array",code(t){let{gen:e,schema:r,it:o}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");let n=e.name("valid");r.forEach((i,s)=>{if((0,moe.alwaysValidSchema)(o,i))return;let a=t.subschema({keyword:"allOf",schemaProp:s},n);t.ok(n),t.mergeEvaluated(a)})}};WE.default=hoe});var CU=I(ZE=>{"use strict";Object.defineProperty(ZE,"__esModule",{value:!0});var ry=ke(),PU=Fe(),goe={message:({params:t})=>(0,ry.str)`must match "${t.ifClause}" schema`,params:({params:t})=>(0,ry._)`{failingKeyword: ${t.ifClause}}`},yoe={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:goe,code(t){let{gen:e,parentSchema:r,it:o}=t;r.then===void 0&&r.else===void 0&&(0,PU.checkStrictMode)(o,'"if" without "then" and "else" is ignored');let n=RU(o,"then"),i=RU(o,"else");if(!n&&!i)return;let s=e.let("valid",!0),a=e.name("_valid");if(c(),t.reset(),n&&i){let l=e.let("ifClause");t.setParams({ifClause:l}),e.if(a,u("then",l),u("else",l))}else n?e.if(a,u("then")):e.if((0,ry.not)(a),u("else"));t.pass(s,()=>t.error(!0));function c(){let l=t.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);t.mergeEvaluated(l)}function u(l,p){return()=>{let g=t.subschema({keyword:l},a);e.assign(s,a),t.mergeValidEvaluated(g,s),p?e.assign(p,(0,ry._)`${l}`):t.setParams({ifClause:l})}}}};function RU(t,e){let r=t.schema[e];return r!==void 0&&!(0,PU.alwaysValidSchema)(t,r)}ZE.default=yoe});var AU=I(BE=>{"use strict";Object.defineProperty(BE,"__esModule",{value:!0});var voe=Fe(),boe={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:t,parentSchema:e,it:r}){e.if===void 0&&(0,voe.checkStrictMode)(r,`"${t}" without "if" is ignored`)}};BE.default=boe});var OU=I(HE=>{"use strict";Object.defineProperty(HE,"__esModule",{value:!0});var _oe=$E(),woe=uU(),xoe=RE(),Soe=dU(),Eoe=pU(),koe=hU(),Ioe=yU(),Toe=ME(),$oe=_U(),Roe=EU(),Poe=kU(),Coe=IU(),Aoe=TU(),Ooe=$U(),Noe=CU(),Doe=AU();function Moe(t=!1){let e=[Poe.default,Coe.default,Aoe.default,Ooe.default,Noe.default,Doe.default,Ioe.default,Toe.default,koe.default,$oe.default,Roe.default];return t?e.push(woe.default,Soe.default):e.push(_oe.default,xoe.default),e.push(Eoe.default),e}HE.default=Moe});var NU=I(VE=>{"use strict";Object.defineProperty(VE,"__esModule",{value:!0});var yt=ke(),zoe={message:({schemaCode:t})=>(0,yt.str)`must match format "${t}"`,params:({schemaCode:t})=>(0,yt._)`{format: ${t}}`},joe={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:zoe,code(t,e){let{gen:r,data:o,$data:n,schema:i,schemaCode:s,it:a}=t,{opts:c,errSchemaPath:u,schemaEnv:l,self:p}=a;if(!c.validateFormats)return;n?g():v();function g(){let h=r.scopeValue("formats",{ref:p.formats,code:c.code.formats}),b=r.const("fDef",(0,yt._)`${h}[${s}]`),_=r.let("fType"),w=r.let("format");r.if((0,yt._)`typeof ${b} == "object" && !(${b} instanceof RegExp)`,()=>r.assign(_,(0,yt._)`${b}.type || "string"`).assign(w,(0,yt._)`${b}.validate`),()=>r.assign(_,(0,yt._)`"string"`).assign(w,b)),t.fail$data((0,yt.or)(T(),P()));function T(){return c.strictSchema===!1?yt.nil:(0,yt._)`${s} && !${w}`}function P(){let D=l.$async?(0,yt._)`(${b}.async ? await ${w}(${o}) : ${w}(${o}))`:(0,yt._)`${w}(${o})`,q=(0,yt._)`(typeof ${w} == "function" ? ${D} : ${w}.test(${o}))`;return(0,yt._)`${w} && ${w} !== true && ${_} === ${e} && !${q}`}}function v(){let h=p.formats[i];if(!h){T();return}if(h===!0)return;let[b,_,w]=P(h);b===e&&t.pass(D());function T(){if(c.strictSchema===!1){p.logger.warn(q());return}throw new Error(q());function q(){return`unknown format "${i}" ignored in schema at path "${u}"`}}function P(q){let ge=q instanceof RegExp?(0,yt.regexpCode)(q):c.code.formats?(0,yt._)`${c.code.formats}${(0,yt.getProperty)(i)}`:void 0,Ze=r.scopeValue("formats",{key:i,ref:q,code:ge});return typeof q=="object"&&!(q instanceof RegExp)?[q.type||"string",q.validate,(0,yt._)`${Ze}.validate`]:["string",q,Ze]}function D(){if(typeof h=="object"&&!(h instanceof RegExp)&&h.async){if(!l.$async)throw new Error("async format in sync schema");return(0,yt._)`await ${w}(${o})`}return typeof _=="function"?(0,yt._)`${w}(${o})`:(0,yt._)`${w}.test(${o})`}}}};VE.default=joe});var DU=I(GE=>{"use strict";Object.defineProperty(GE,"__esModule",{value:!0});var Loe=NU(),Uoe=[Loe.default];GE.default=Uoe});var MU=I(Va=>{"use strict";Object.defineProperty(Va,"__esModule",{value:!0});Va.contentVocabulary=Va.metadataVocabulary=void 0;Va.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Va.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]});var jU=I(KE=>{"use strict";Object.defineProperty(KE,"__esModule",{value:!0});var Foe=B1(),qoe=iU(),Woe=OU(),Zoe=DU(),zU=MU(),Boe=[Foe.default,qoe.default,(0,Woe.default)(),Zoe.default,zU.metadataVocabulary,zU.contentVocabulary];KE.default=Boe});var UU=I(ny=>{"use strict";Object.defineProperty(ny,"__esModule",{value:!0});ny.DiscrError=void 0;var LU;(function(t){t.Tag="tag",t.Mapping="mapping"})(LU||(ny.DiscrError=LU={}))});var qU=I(YE=>{"use strict";Object.defineProperty(YE,"__esModule",{value:!0});var Ga=ke(),JE=UU(),FU=jg(),Hoe=Tl(),Voe=Fe(),Goe={message:({params:{discrError:t,tagName:e}})=>t===JE.DiscrError.Tag?`tag "${e}" must be string`:`value of tag "${e}" must be in oneOf`,params:({params:{discrError:t,tag:e,tagName:r}})=>(0,Ga._)`{error: ${t}, tag: ${r}, tagValue: ${e}}`},Koe={keyword:"discriminator",type:"object",schemaType:"object",error:Goe,code(t){let{gen:e,data:r,schema:o,parentSchema:n,it:i}=t,{oneOf:s}=n;if(!i.opts.discriminator)throw new Error("discriminator: requires discriminator option");let a=o.propertyName;if(typeof a!="string")throw new Error("discriminator: requires propertyName");if(o.mapping)throw new Error("discriminator: mapping is not supported");if(!s)throw new Error("discriminator: requires oneOf keyword");let c=e.let("valid",!1),u=e.const("tag",(0,Ga._)`${r}${(0,Ga.getProperty)(a)}`);e.if((0,Ga._)`typeof ${u} == "string"`,()=>l(),()=>t.error(!1,{discrError:JE.DiscrError.Tag,tag:u,tagName:a})),t.ok(c);function l(){let v=g();e.if(!1);for(let h in v)e.elseIf((0,Ga._)`${u} === ${h}`),e.assign(c,p(v[h]));e.else(),t.error(!1,{discrError:JE.DiscrError.Mapping,tag:u,tagName:a}),e.endIf()}function p(v){let h=e.name("valid"),b=t.subschema({keyword:"oneOf",schemaProp:v},h);return t.mergeEvaluated(b,Ga.Name),h}function g(){var v;let h={},b=w(n),_=!0;for(let D=0;D<s.length;D++){let q=s[D];if(q?.$ref&&!(0,Voe.schemaHasRulesButRef)(q,i.self.RULES)){let Ze=q.$ref;if(q=FU.resolveRef.call(i.self,i.schemaEnv.root,i.baseId,Ze),q instanceof FU.SchemaEnv&&(q=q.schema),q===void 0)throw new Hoe.default(i.opts.uriResolver,i.baseId,Ze)}let ge=(v=q?.properties)===null||v===void 0?void 0:v[a];if(typeof ge!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${a}"`);_=_&&(b||w(q)),T(ge,D)}if(!_)throw new Error(`discriminator: "${a}" must be required`);return h;function w({required:D}){return Array.isArray(D)&&D.includes(a)}function T(D,q){if(D.const)P(D.const,q);else if(D.enum)for(let ge of D.enum)P(ge,q);else throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`)}function P(D,q){if(typeof D!="string"||D in h)throw new Error(`discriminator: "${a}" values must be unique strings`);h[D]=q}}}};YE.default=Koe});var WU=I((nCe,Joe)=>{Joe.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var QE=I((st,XE)=>{"use strict";Object.defineProperty(st,"__esModule",{value:!0});st.MissingRefError=st.ValidationError=st.CodeGen=st.Name=st.nil=st.stringify=st.str=st._=st.KeywordCxt=st.Ajv=void 0;var Yoe=L1(),Xoe=jU(),Qoe=qU(),ZU=WU(),eie=["/properties"],oy="http://json-schema.org/draft-07/schema",Ka=class extends Yoe.default{_addVocabularies(){super._addVocabularies(),Xoe.default.forEach(e=>this.addVocabulary(e)),this.opts.discriminator&&this.addKeyword(Qoe.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let e=this.opts.$data?this.$dataMetaSchema(ZU,eie):ZU;this.addMetaSchema(e,oy,!1),this.refs["http://json-schema.org/schema"]=oy}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(oy)?oy:void 0)}};st.Ajv=Ka;XE.exports=st=Ka;XE.exports.Ajv=Ka;Object.defineProperty(st,"__esModule",{value:!0});st.default=Ka;var tie=Il();Object.defineProperty(st,"KeywordCxt",{enumerable:!0,get:function(){return tie.KeywordCxt}});var Ja=ke();Object.defineProperty(st,"_",{enumerable:!0,get:function(){return Ja._}});Object.defineProperty(st,"str",{enumerable:!0,get:function(){return Ja.str}});Object.defineProperty(st,"stringify",{enumerable:!0,get:function(){return Ja.stringify}});Object.defineProperty(st,"nil",{enumerable:!0,get:function(){return Ja.nil}});Object.defineProperty(st,"Name",{enumerable:!0,get:function(){return Ja.Name}});Object.defineProperty(st,"CodeGen",{enumerable:!0,get:function(){return Ja.CodeGen}});var rie=Mg();Object.defineProperty(st,"ValidationError",{enumerable:!0,get:function(){return rie.default}});var nie=Tl();Object.defineProperty(st,"MissingRefError",{enumerable:!0,get:function(){return nie.default}})});var XU=I(zn=>{"use strict";Object.defineProperty(zn,"__esModule",{value:!0});zn.formatNames=zn.fastFormats=zn.fullFormats=void 0;function Mn(t,e){return{validate:t,compare:e}}zn.fullFormats={date:Mn(GU,nk),time:Mn(tk(!0),ok),"date-time":Mn(BU(!0),JU),"iso-time":Mn(tk(),KU),"iso-date-time":Mn(BU(),YU),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:uie,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:gie,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:lie,int32:{type:"number",validate:fie},int64:{type:"number",validate:mie},float:{type:"number",validate:VU},double:{type:"number",validate:VU},password:!0,binary:!0};zn.fastFormats={...zn.fullFormats,date:Mn(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,nk),time:Mn(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,ok),"date-time":Mn(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,JU),"iso-time":Mn(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,KU),"iso-date-time":Mn(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,YU),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i};zn.formatNames=Object.keys(zn.fullFormats);function oie(t){return t%4===0&&(t%100!==0||t%400===0)}var iie=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,sie=[0,31,28,31,30,31,30,31,31,30,31,30,31];function GU(t){let e=iie.exec(t);if(!e)return!1;let r=+e[1],o=+e[2],n=+e[3];return o>=1&&o<=12&&n>=1&&n<=(o===2&&oie(r)?29:sie[o])}function nk(t,e){if(t&&e)return t>e?1:t<e?-1:0}var ek=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function tk(t){return function(r){let o=ek.exec(r);if(!o)return!1;let n=+o[1],i=+o[2],s=+o[3],a=o[4],c=o[5]==="-"?-1:1,u=+(o[6]||0),l=+(o[7]||0);if(u>23||l>59||t&&!a)return!1;if(n<=23&&i<=59&&s<60)return!0;let p=i-l*c,g=n-u*c-(p<0?1:0);return(g===23||g===-1)&&(p===59||p===-1)&&s<61}}function ok(t,e){if(!(t&&e))return;let r=new Date("2020-01-01T"+t).valueOf(),o=new Date("2020-01-01T"+e).valueOf();if(r&&o)return r-o}function KU(t,e){if(!(t&&e))return;let r=ek.exec(t),o=ek.exec(e);if(r&&o)return t=r[1]+r[2]+r[3],e=o[1]+o[2]+o[3],t>e?1:t<e?-1:0}var rk=/t|\s/i;function BU(t){let e=tk(t);return function(o){let n=o.split(rk);return n.length===2&&GU(n[0])&&e(n[1])}}function JU(t,e){if(!(t&&e))return;let r=new Date(t).valueOf(),o=new Date(e).valueOf();if(r&&o)return r-o}function YU(t,e){if(!(t&&e))return;let[r,o]=t.split(rk),[n,i]=e.split(rk),s=nk(r,n);if(s!==void 0)return s||ok(o,i)}var aie=/\/|:/,cie=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function uie(t){return aie.test(t)&&cie.test(t)}var HU=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function lie(t){return HU.lastIndex=0,HU.test(t)}var die=-(2**31),pie=2**31-1;function fie(t){return Number.isInteger(t)&&t<=pie&&t>=die}function mie(t){return Number.isInteger(t)}function VU(){return!0}var hie=/[^\\]\\Z/;function gie(t){if(hie.test(t))return!1;try{return new RegExp(t),!0}catch{return!1}}});var QU=I(Ya=>{"use strict";Object.defineProperty(Ya,"__esModule",{value:!0});Ya.formatLimitDefinition=void 0;var yie=QE(),fn=ke(),Ko=fn.operators,iy={formatMaximum:{okStr:"<=",ok:Ko.LTE,fail:Ko.GT},formatMinimum:{okStr:">=",ok:Ko.GTE,fail:Ko.LT},formatExclusiveMaximum:{okStr:"<",ok:Ko.LT,fail:Ko.GTE},formatExclusiveMinimum:{okStr:">",ok:Ko.GT,fail:Ko.LTE}},vie={message:({keyword:t,schemaCode:e})=>(0,fn.str)`should be ${iy[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>(0,fn._)`{comparison: ${iy[t].okStr}, limit: ${e}}`};Ya.formatLimitDefinition={keyword:Object.keys(iy),type:"string",schemaType:"string",$data:!0,error:vie,code(t){let{gen:e,data:r,schemaCode:o,keyword:n,it:i}=t,{opts:s,self:a}=i;if(!s.validateFormats)return;let c=new yie.KeywordCxt(i,a.RULES.all.format.definition,"format");c.$data?u():l();function u(){let g=e.scopeValue("formats",{ref:a.formats,code:s.code.formats}),v=e.const("fmt",(0,fn._)`${g}[${c.schemaCode}]`);t.fail$data((0,fn.or)((0,fn._)`typeof ${v} != "object"`,(0,fn._)`${v} instanceof RegExp`,(0,fn._)`typeof ${v}.compare != "function"`,p(v)))}function l(){let g=c.schema,v=a.formats[g];if(!v||v===!0)return;if(typeof v!="object"||v instanceof RegExp||typeof v.compare!="function")throw new Error(`"${n}": format "${g}" does not define "compare" function`);let h=e.scopeValue("formats",{key:g,ref:v,code:s.code.formats?(0,fn._)`${s.code.formats}${(0,fn.getProperty)(g)}`:void 0});t.fail$data(p(h))}function p(g){return(0,fn._)`${g}.compare(${r}, ${o}) ${iy[n].fail} 0`}},dependencies:["format"]};var bie=t=>(t.addKeyword(Ya.formatLimitDefinition),t);Ya.default=bie});var nF=I((Fl,rF)=>{"use strict";Object.defineProperty(Fl,"__esModule",{value:!0});var Xa=XU(),_ie=QU(),ik=ke(),eF=new ik.Name("fullFormats"),wie=new ik.Name("fastFormats"),sk=(t,e={keywords:!0})=>{if(Array.isArray(e))return tF(t,e,Xa.fullFormats,eF),t;let[r,o]=e.mode==="fast"?[Xa.fastFormats,wie]:[Xa.fullFormats,eF],n=e.formats||Xa.formatNames;return tF(t,n,r,o),e.keywords&&(0,_ie.default)(t),t};sk.get=(t,e="full")=>{let o=(e==="fast"?Xa.fastFormats:Xa.fullFormats)[t];if(!o)throw new Error(`Unknown format "${t}"`);return o};function tF(t,e,r,o){var n,i;(n=(i=t.opts.code).formats)!==null&&n!==void 0||(i.formats=(0,ik._)`require("ajv-formats/dist/formats").${o}`);for(let s of e)t.addFormat(s,r[s])}rF.exports=Fl=sk;Object.defineProperty(Fl,"__esModule",{value:!0});Fl.default=sk});function CF(t){return Object.prototype.hasOwnProperty.call(by,t)?t:null}var RF,Qa,by,PF,AF,OF,Bl,NF,DF,MF,zF,jF,Ki=E(()=>{"use strict";RF=require("crypto"),Qa=H(require("vscode")),by={content:{category:"queryGet",version:1},ping:{category:"queryGet",version:1},selections:{category:"queryGet",version:1},reload:{category:"queryGet",version:1},markForReload:{category:"queryPost",version:1},removeHighlights:{category:"mutationPost",version:1},highlightLines:{category:"mutationPost",version:1},highlight:{category:"mutationPost",version:1},setContent:{category:"mutationPost",version:1},replaceSelection:{category:"mutationPost",version:1}},PF=Object.fromEntries(Object.entries(by).map(([t,e])=>[t,e.version]));AF=`oai_pwai ${Qa.env.appName}`,OF=Qa.workspace.name??Qa.env.appName,Bl=Qa.env.appName+"-"+(0,RF.randomUUID)(),NF="com.microsoft.VSCode",DF="com.microsoft.VSCodeInsiders",MF="com.vscodium",zF="com.todesktop.230313mzl4w4u92",jF="com.exafunction.windsurf"});function Xo(t){return fk().find(o=>o.document.fileName===t)||null}function UF(){return fk().map((e,r)=>{let o=e.selection.isEmpty?null:e.document.getText(e.selection),n=e.selection.isEmpty?null:e.selection.start.line;return o!=null&&n!=null?{selectedText:o,selectionLine:n}:null}).filter(e=>!!e)}function FF(){return fk().map((e,r)=>{let o=e.document.getText(),n=e.document.fileName,i=e.selection.isEmpty?null:e.document.getText(e.selection),s=e.document.offsetAt(e.selection.start),a=e.document.offsetAt(e.selection.end),c=e.selection.isEmpty?null:e.selection.start.line,u=e.selection.isEmpty?null:{location:s,length:a-s};return i===o&&(i=null),{id:n,content:o,filename:n,selectedText:i,selectionRange:u,selectionLine:c}}).filter(e=>!!e)}function fk(){return LF.window.visibleTextEditors.filter(e=>e.viewColumn!==void 0)}var LF,_y=E(()=>{"use strict";LF=H(require("vscode"))});function Qo(t){throw new Error(`No editor for id ${t} found`)}var mk=E(()=>{"use strict"});async function qF(t,e){let r=Xo(e);r||Qo(e);let o=r.document,n=new ec.Range(o.positionAt(0),o.positionAt(o.getText().length));await r.edit(s=>{s.replace(n,t)});let i=r.document.positionAt(t.length);r.selection=new ec.Selection(i,i)}async function WF(t,e){let r=Xo(e);r||Qo(e);let o=r.selection,n=new ec.Range(o.start,o.end);await r.edit(i=>{i.replace(n,t)}),r.selection=new ec.Selection(n.start,n.start)}var ec,ZF=E(()=>{"use strict";ec=H(require("vscode"));_y();mk()});async function HF(t,e){let r=Xo(e);r||Qo(e);let o=t.map(n=>{let i=new Mr.Range(n,0,n,r.document.lineAt(n).range.end.character);return VF(i,e)});await Promise.all(o)}function Bie(t){return new Promise(e=>setTimeout(e,t))}async function VF(t,e){let r=Xo(e);r||Qo(e),r.revealRange(t,Mr.TextEditorRevealType.InCenterIfOutsideViewport);let o=Mr.window.createTextEditorDecorationType({backgroundColor:`rgba(255, 255, 0, ${BF})`,isWholeLine:!0});r.setDecorations(o,[t]);let n=Mr.workspace.onDidChangeTextDocument(i=>{i.document===r.document&&(o.dispose(),Ji[e]=[],n.dispose())});Ji[e]||(Ji[e]=[]),Ji[e].push({range:t,decoration:o})}async function GF(t,e){let r=Xo(t);r||Qo(t),Hl[t]||(Hl[t]=1);let o=++Hl[t];if(e){let s=(Ji[t]||[]).map(async a=>{let c=a.decoration,u=10,p=500/u;try{for(let g=0;g<=u&&o===Hl[t];g++){let v=g/u,h=BF*(1-v),b=Mr.window.createTextEditorDecorationType({backgroundColor:`rgba(255, 255, 0, ${h})`,isWholeLine:!0});r.setDecorations(b,[a.range]),c?.dispose(),c=b,await Bie(p)}}finally{c?.dispose()}});await Promise.all(s)}let n=Ji[t];n&&o===Hl[t]&&(n.forEach(i=>i.decoration.dispose()),delete Ji[t])}async function KF(t,e,r){let o=Xo(r);o||Qo(r);let n=Hie(t,e,o.document);n&&await VF(n,r)}function Hie(t,e,r){let o=0,n=0,i=0,s=0,a=0;for(let c=0;c<r.lineCount;c++){let l=r.lineAt(c).text.length+1;if(o<=t&&o+l>t&&(n=c,s=t-o),o<=e&&o+l>e){i=c,a=e-o;break}o+=l}if(n>=0&&i>=0){let c=new Mr.Position(n,s),u=new Mr.Position(i,a);return new Mr.Range(c,u)}return null}var Mr,Ji,Hl,BF,JF=E(()=>{"use strict";Mr=H(require("vscode"));_y();mk();Ji={},Hl={},BF=.2});async function QF(t,e){switch(t){case"removeHighlights":try{let{textfieldID:r,animated:o}=e;return await GF(r,o),{status:"success",message:"Removed highlight"}}catch(r){return{status:400,error:JSON.stringify(r)}}case"highlightLines":try{let{lines:r,textfieldID:o}=e;return await HF(r,o),{status:"success",message:"Text highlighted successfully"}}catch(r){return{status:400,error:JSON.stringify(r)}}case"highlight":try{let{startChar:r,endChar:o,textfieldID:n}=e;return await KF(r,o,n),{status:"success",message:"Text highlighted successfully"}}catch(r){return{status:400,error:JSON.stringify(r)}}case"setContent":try{let{content:r,textfieldID:o}=e;return await qF(r,o),{status:"success",message:"Set content successfully"}}catch(r){return{status:400,error:JSON.stringify(r)}}case"replaceSelection":try{let{content:r,textfieldID:o}=e;return await WF(r,o),{status:"success",message:"Replaced selection successfully"}}catch(r){return{status:400,error:JSON.stringify(r)}}}}var eq=E(()=>{"use strict";Ki();ZF();JF()});async function tq(t,e){let r=Buffer.alloc(0),o=null;t.on("data",async n=>{if(r=Buffer.concat([r,n]),o==null&&r.length>=4&&(o=r.readUInt32LE(0),r=r.subarray(4)),o!=null&&r.length>=o){let i=r.subarray(0,o).toString();r=r.subarray(o),o=null,await e(t,i)}}),t.on("end",()=>{Ht.debug("Desktop bridge: client disconnected")}),t.on("error",n=>{Ht.error("Desktop bridge socket error:",n)})}function Vl(t,e){let r=JSON.stringify(e),o=Buffer.alloc(4),n=Buffer.byteLength(r);o.writeUInt32LE(n,0);let i=Buffer.from(r,"utf-8");t.write(o),t.write(i),t.end()}var hk=E(()=>{"use strict";St()});function gk(){return xy.join(nq.homedir(),"Library","Application Support","com.openai.chat","app_pairing_extensions",Bl)}function Gie(t){let e=gk();if(Et.existsSync(e)){let r=Et.watch(e,o=>{Et.existsSync(e)||(t(),r.close())})}else Ht.warn("Desktop bridge: session path does not exist, cannot watch file.")}var Et,rq,nq,xy,wy,oq=E(()=>{"use strict";Et=H(require("fs")),rq=H(require("net")),nq=H(require("os")),xy=H(require("path"));St();Ki();hk();wy=class{getSessionSocketPath(){return`/tmp/${Bl}.sock`}async deregister(){let e=gk();Ht.info("Desktop bridge deregister",e),Et.existsSync(e)&&Et.unlinkSync(e),Et.existsSync(this.getSessionSocketPath())&&Et.unlinkSync(this.getSessionSocketPath())}async register(e,r){let o=gk(),n=xy.dirname(o);Et.existsSync(n)||Et.mkdirSync(n,{recursive:!0}),Et.writeFileSync(o,JSON.stringify(e),"utf8"),Ht.info(`Desktop bridge wrote payload to ${o}`);let i=this.getSessionSocketPath();Et.existsSync(i)?Et.chmodSync(i,384):Ht.warn("Desktop bridge: socket file does not exist"),Gie(r)}startServer(e,r){let o=this.getSessionSocketPath();Et.existsSync(o)&&Et.unlinkSync(o);let n=rq.createServer(i=>{Ht.debug("Desktop bridge: client connected"),tq(i,r)});n.listen(o,()=>{Ht.info(`Desktop bridge listening on UNIX socket: ${o}`)}),e.subscriptions.push({dispose:()=>{n.close(),this.deregister()}})}}});function Kie(){if(iq.platform()!=="darwin")throw new Error("Unsupported platform");return new wy}var iq,Yi,yk=E(()=>{"use strict";iq=H(require("os"));oq();Yi=Kie()});function aq(){switch(sq.env.appName){case"Visual Studio Code":return NF;case"Visual Studio Code - Insiders":return DF;case"VSCodium":return MF;case"Cursor":return zF;case"Windsurf":return jF;default:return null}}var sq,cq=E(()=>{"use strict";sq=H(require("vscode"));Ki()});var Jie,Gl,vk=E(()=>{"use strict";Jie="0.0.1731016154",Gl={name:"openai.chatgpt",version:Jie,isInstalled:!0}});function lq(t){uq=t,Yi.deregister(),Sy()}function Sy(){let t=aq();if(!t)return;let e=Yi.getSessionSocketPath(),r={appName:ei.env.appName,bundleID:t,extensionVersion:Gl.version,marketplaceID:Gl.name,extensionName:AF,workspaceName:OF,id:Bl,capabilities:PF,needsReload:uq,socketPath:e,timestamp:Date.now()};Yi.register(r,()=>{let o=ei.l10n.t("Reregister"),n=ei.l10n.t("Dismiss");ei.window.showWarningMessage(ei.l10n.t("The ChatGPT extension cannot find its registration file"),o,n).then(i=>{i===o&&Sy()})})}var ei,uq,bk=E(()=>{"use strict";ei=H(require("vscode"));cq();Ki();yk();vk();uq=!1});function pq(t){switch(t){case"ping":{let{name:e,version:r}=Gl;return{status:"success",version:r,name:e}}case"content":{let e=FF();return e!=null?{status:"success",textfields:e}:{status:400,error:"No active editor found"}}case"selections":{let e=UF();return e!=null?{status:"success",selections:e}:{status:400,error:"No active editor found"}}case"reload":return dq.commands.executeCommand("workbench.action.reloadWindow"),{status:"success"}}}async function fq(t){switch(t){case"markForReload":return lq(!0),{status:"success",message:"Marked for reload"}}}var dq,mq=E(()=>{"use strict";dq=H(require("vscode"));Ki();_y();bk();vk()});var vq={};Un(vq,{activate:()=>Xie,deactivate:()=>Qie,respondToCompleteMessage:()=>yq});function Xie(t){Yie==="darwin"&&(Ht.info("ChatGPT desktop bridge active"),Yi.startServer(t,yq),Sy(),Ht.info("Desktop bridge registered"))}function Qie(){Yi.deregister()}async function yq(t,e){try{let r=JSON.parse(e),o=CF(r.command);if(!o){Vl(t,{status:404,error:"Unknown endpoint"});return}if(!gq.workspace.isTrusted&&o!=="ping"){Ht.warn("Desktop bridge: untrusted workspace"),Vl(t,{status:405,error:"The workspace must be trusted for the extension to read content."});return}let n=await ese(o,r.payload);n.status===400&&Ht.error("Desktop bridge error for command:",r.command),Vl(t,n)}catch(r){Ht.error("Desktop bridge: error processing message:",r),Vl(t,{success:!1,error:"Error handling message"})}}async function ese(t,e){let{category:r}=by[t];switch(r){case"queryGet":return pq(t);case"queryPost":return fq(t);case"mutationPost":return QF(t,e)}}var hq,gq,Yie,bq=E(()=>{"use strict";hq=H(require("os")),gq=H(require("vscode"));St();Ki();eq();yk();mq();bk();hk();Yie=hq.platform()});var sse={};Un(sse,{activate:()=>ose});module.exports=I4(sse);var _q=require("node:crypto");Qe();Ge();var kt=H(require("vscode"));var jC=H(require("path")),zm=H(require("vscode"));function LC(t){let e=zm.window.activeTextEditor;if(!e)return;let r=e.document.uri;if(r.scheme!=="file")return;let o=e.selection.start.line+1,n=e.selection.end.line+1;e.selection.end.character===0&&e.selection.end.line>e.selection.start.line&&n--;let i=r.fsPath,a=jC.basename(i);t.addContextFile({label:a,path:zm.workspace.asRelativePath(i),fsPath:i,startLine:o,endLine:n})}var UC=require("crypto"),W_=class t{constructor(e){this.mcpConnection=e;let r=this.mcpConnection.registerProvider(t.providerName,{onNotification:o=>this.handleNotification(o),onResult:o=>this.handleResult(o)});this.disposables.push(r)}static providerName="auth";disposables=[];pending=new Map;async getToken({refreshToken:e}){let r=(0,UC.randomUUID)(),o=new Promise((n,i)=>{this.pending.set(r,{resolve:n,reject:i})});return this.mcpConnection.sendRequest(t.providerName,r,"getAuthStatus",{includeToken:!0,refreshToken:e}),o}resolve(e,r){let o=this.pending.get(e);o&&(this.pending.delete(e),o.resolve(r))}reject(e,r){let o=this.pending.get(e);o&&(this.pending.delete(e),o.reject(r))}handleResult(e){if(typeof e.id!="string")return;if(e.error){this.reject(e.id,e.error);return}let r=e.result??null;this.resolve(e.id,r?.authToken??null)}handleNotification(e){e.method==="codex/event/auth_status_change"&&this.getToken({refreshToken:!1})}dispose(){for(let e of this.disposables)e.dispose();this.disposables.length=0,this.pending.clear()}};function FC(t){return new W_(t)}var bD=H(mD());Qe();Ge();var _i=H(require("vscode"));var hD=H(require("vscode")),Qs="openai-codex",gD="route";function Wm(t){let{scheme:e,authority:r,path:o}=t;if(e!==Qs)return null;if(r!==gD)return null;let i=(o.startsWith("/")?o.slice(1):o).split("/"),s=null;return i.length>=2&&(i[0]==="local"||i[0]==="remote")&&(s=i[1]),{path:t.fsPath,conversationId:s}}function Zm(t){return uw(`/local/${t}`)}function uw(t){return hD.Uri.file(t).with({scheme:Qs,authority:gD})}var yD="codex.chatSessionProvider",mJ="codex.chatSessionObserver",lw="Codex Agent",vD=80;var Bm=class{constructor(e,r,o,n){this.modelProxyManager=r;this.conversationSummaryProvider=o;this.globalState=n,this.conversationLoader=new dw(e),this.subscriptions.push(r.onDidChangeIsCopilotApiAvailable(()=>{this.onDidChangeChatSessionItemsEmitter.fire()})),this.subscriptions.push(n.onDidUpdateEntry(({key:i})=>{(i===gt.USE_COPILOT_AUTH_IF_AVAILABLE||i===gt.THREAD_TITLES)&&(this.threadTitleCache=null,this.onDidChangeChatSessionItemsEmitter.fire())})),this.subscriptions.push(e.registerProvider(mJ,{onNotification:this.handleMcpNotification.bind(this)})),this.seedPendingConversationsFromTabs(),this.subscriptions.push(this.onDidChangeChatSessionItemsEmitter,this.onDidCommitChatSessionItemEmitter)}subscriptions=[];onDidChangeChatSessionItemsEmitter=new _i.EventEmitter;onDidChangeChatSessionItems=this.onDidChangeChatSessionItemsEmitter.event;onDidCommitChatSessionItemEmitter=new _i.EventEmitter;onDidCommitChatSessionItem=this.onDidCommitChatSessionItemEmitter.event;conversationLoader;lifecycleByConversationId=new Map;pendingConversations=new Map;modelProviderByConversationId=new Map;globalState;threadTitleCache=null;async provideChatSessionItems(e){let r=this.modelProxyManager.isUserUsingCopilotInference(),o=await this.loadThreadTitleCache();function n(u){return r?u===li:u!==li}let i=await this.conversationLoader.provideChatSessionItems(r,e,o),s=[];for(let{item:u,summary:l}of i)this.pendingConversations.delete(u.id),this.modelProviderByConversationId.set(u.id,l.modelProvider),n(l.modelProvider)&&s.push(u);let a=s.map(u=>this.applyLifecycleToChatSessionItem(u));return Array.from(this.pendingConversations.values()).filter(u=>n(u.modelProvider)).map(u=>this.applyLifecycleToChatSessionItem(u.item)).concat(a)}registerPendingConversation(e,r){let{conversationId:o,resource:n,label:i,startedAt:s,modelProvider:a}=e;if(r?.onlyIfMissing&&this.pendingConversations.has(o))return;let c=r?.markInProgress??!0,l=_D(i??lw),p=s??(c?Date.now():void 0),g={id:o,resource:n,label:l};g.status=c?2:1,p!=null&&(g.timing={startTime:p});let h=this.pendingConversations.get(o)?.item;(!h||h.label!==g.label||h.status!==g.status||h.resource?.toString()!==g.resource?.toString()||!(0,bD.default)(h.timing,g.timing))&&(this.pendingConversations.set(e.conversationId,{item:g,modelProvider:a}),this.modelProviderByConversationId.set(e.conversationId,a),c?this.updateConversationStatus(e.conversationId,2,{startTimeHint:p}):this.onDidChangeChatSessionItemsEmitter.fire())}clearPendingConversation(e){this.pendingConversations.delete(e)&&this.onDidChangeChatSessionItemsEmitter.fire()}handleMcpNotification(e){let r=this.extractConversationId(e.params);if(r)switch(e.method){case"codex/event/task_started":this.updateConversationStatus(r,2);break;case"codex/event/task_complete":this.updateConversationStatus(r,1);break;case"codex/event/turn_aborted":case"codex/event/error":case"codex/event/stream_error":this.updateConversationStatus(r,0);break;default:break}}extractConversationId(e){if(!e||typeof e!="object")return null;let r=e.conversationId;return typeof r=="string"?r:null}updateConversationStatus(e,r,o){let n=this.lifecycleByConversationId.get(e),i=Date.now(),s=n?.startTime??o?.startTimeHint;r===2&&(s=o?.startTimeHint??n?.startTime??i);let a;(r===1||r===0)&&(a=n?.endTime??i,s||(s=n?.startTime??o?.startTimeHint??a));let c={status:r,startTime:s,endTime:a},u=!n||n.status!==c.status||n.startTime!==c.startTime||n.endTime!==c.endTime;this.lifecycleByConversationId.set(e,c),u&&this.onDidChangeChatSessionItemsEmitter.fire()}applyLifecycleToChatSessionItem(e,r){let o=r??this.lifecycleByConversationId.get(e.id),n={...e,timing:e.timing?{...e.timing}:void 0};if(!o)return n;n.status=o.status;let i=this.mergeTiming(n.timing,o);return i?n.timing=i:delete n.timing,n}mergeTiming(e,r){let o=r.startTime??e?.startTime,i=r.status===1||r.status===0?r.endTime??e?.endTime:void 0;return o==null&&i==null?e:i!=null?{startTime:o??i,endTime:i}:{startTime:o??Date.now()}}seedPendingConversationsFromTabs(){for(let e of _i.window.tabGroups.all)for(let r of e.tabs)this.trackTabIfNeeded(r)}async loadThreadTitleCache(){if(this.threadTitleCache)return this.threadTitleCache;try{let e=await this.globalState.get(gt.THREAD_TITLES),r=Om(e);return this.threadTitleCache=r,r}catch{let e={titles:{},order:[]};return this.threadTitleCache=e,e}}async trackTabIfNeeded(e){let r=e.input;if(!(r instanceof _i.TabInputCustom))return;let o=Wm(r.uri);if(o){if(o.conversationId==null)return}else return;let n=await this.conversationSummaryProvider.getConversationSummary(o.conversationId),s=(await this.loadThreadTitleCache()).titles[o.conversationId]??null,a=Date.now(),{preview:c,modelProvider:u}=n.summary,l=s??c??lw;this.registerPendingConversation({conversationId:o.conversationId,resource:r.uri,label:l,startedAt:a,modelProvider:u},{markInProgress:!1,onlyIfMissing:!0})}dispose(){this.subscriptions.forEach(e=>e.dispose())}},dw=class{constructor(e){this.codexAppServer=e;let r={onResult:this.onAppServerResult.bind(this)};e.registerProvider(yD,r)}nextRequestId=0;requestToCallback=new Map;onAppServerResult(e){let r=this.requestToCallback.get(e.id);r&&(this.requestToCallback.delete(e.id),r(e))}async provideChatSessionItems(e,r,o){return(await this.requestThreadList(e)).data.map(i=>{let s=this.toThreadListSummary(i,o.titles[i.id]);return{summary:s,item:this.toChatSessionItem(s)}})}toChatSessionItem(e){let{conversationId:r,preview:o,createdAtMs:n}=e,i=Zm(r),s=_D(o),a=n!=null?{startTime:n}:void 0;return{id:String(r),resource:i,label:s,timing:a}}toThreadListSummary(e,r){let o=Number(e.createdAt)*1e3,n=Number.isFinite(o)?o:null;return{conversationId:e.id,preview:r??e.preview,createdAtMs:n,modelProvider:e.modelProvider}}requestThreadList(e){let r=String(this.nextRequestId++),o=new Promise((n,i)=>{this.requestToCallback.set(r,s=>{if(s.error){i(new Error(s.error.message));return}if(s.result==null){i(new Error("No result in response"));return}n(s.result)})});return this.codexAppServer.sendRequest(yD,r,"thread/list",{limit:50,cursor:null,modelProviders:e?[li]:null}),o}};function _D(t){let e=t.replace(/\s+/g," ").trim();return e.length===0?lw:e.length<=vD?e:`${e.slice(0,vD-1).trimEnd()}\u2026`}var AD=H(require("readline"));Ge();var ra=H(require("vscode"));Ge();Qe();Io();var gJ="http://localhost:8000/api",yJ="https://chatgpt.com/backend-api";function vJ(){switch(tr(bt.API_ENDPOINT)){case"localhost":return gJ;case"production":case void 0:default:return yJ}}function pw(t){return t.startsWith("data:")||t.startsWith("http")?t:`${vJ()}/${t.replace(/^\//,"")}`}St();function EJ(t){let e=t.split(/\r?\n/),r,o=[];for(let i of e)i.startsWith("event:")?r=i.slice(6).trim():i.startsWith("data:")&&o.push(i.slice(5).trim());if(o.length===0)return null;let n=o.join(`
`);try{return{event:r,data:JSON.parse(n)}}catch{return null}}function kJ(t){let e=t.indexOf(`\r
\r
`),r=t.indexOf(`

`);return e===-1&&r===-1?[-1,0]:e===-1?[r,2]:r===-1?[e,4]:e<r?[e,4]:[r,2]}function IJ(t,e){return{async next(){if(e.aborted)return{done:!0,value:void 0};let{value:r,done:o}=await t.read();return o||r==null?{done:!0,value:void 0}:{done:!1,value:r}},[Symbol.asyncIterator](){return this}}}async function*TD(t,e){let r=t.getReader(),o=new TextDecoder,n="",i=IJ(r,e);try{for await(let s of i){n+=o.decode(s,{stream:!0});let a,c;for(;[a,c]=kJ(n),a>=0;){let u=n.slice(0,a);n=n.slice(a+c);let l=EJ(u);!l||l.event==="heartbeat"||(yield l)}}}finally{r.releaseLock()}}function $D(t){return!!t&&typeof t=="object"&&t.name==="AbortError"}function Tu(t){return new Promise(e=>setTimeout(e,t))}var Hn="codex_vscode",RD="vscode://codex/",ta=3,TJ=300,$J=2e3,Gm=class{constructor(e,r,o){this.authProvider=e;this.extensionFetchHandler=r;this.userAgentProvider=o}abortSignals=new Map;streamControllers=new Map;shouldRetryStatus(e){return e===408||e===425||e===429||e>=500&&e<=599}backoffDelay(e){let r=Math.min($J,TJ*2**e),o=r*.2*(Math.random()-.5)*2;return Math.max(0,Math.floor(r+o))}buildHeaders(e,r,o){let n={...e??{}},i=a=>Object.keys(n).some(c=>c.toLowerCase()===a);if(o.attachAuth&&r&&!i("authorization")){n.Authorization=`Bearer ${r}`;try{let a=JSON.parse(Buffer.from(r.split(".")[1],"base64url").toString("utf8"))["https://api.openai.com/auth"]?.chatgpt_account_id;a&&(n["ChatGPT-Account-Id"]=a)}catch{}}o.method!=="GET"&&!i("content-type")&&(n["Content-Type"]="application/json"),i("originator")||(n.originator=Hn);let s=this.userAgentProvider.getUserAgent();return s&&!i("user-agent")&&(n["User-Agent"]=s),n}shouldAttachAuth(e){let o=new URL(e).host.toLowerCase();return o==="localhost:8000"||o==="localhost"||o.endsWith(".openai.com")||o==="openai.com"||o==="chatgpt.com"||o.endsWith(".chatgpt.com")&&!o.startsWith("ab.")}async fetch(e){try{let r=new AbortController;if(this.abortSignals.set(e.requestId,r),r.signal.addEventListener("abort",()=>({type:"fetch-response",responseType:"error",error:"Request cancelled",requestId:e.requestId,status:499})),e.url.startsWith(RD)){let a=await this.extensionFetchHandler.handleVSCodeRequest(e.url.slice(RD.length),e.body?JSON.parse(e.body):void 0);return{type:"fetch-response",responseType:"success",requestId:e.requestId,status:200,headers:{},bodyJsonString:JSON.stringify(a)}}let o=pw(e.url),n=await this.authProvider.getToken({refreshToken:!1}),i=this.shouldAttachAuth(o),s=async(a,c)=>{if(i&&!RJ(c))return{type:"fetch-response",responseType:"error",requestId:e.requestId,status:401,error:`Cannot fetch ${e.url} without ChatGPT auth.`};let u=this.buildHeaders(e.headers,c,{method:e.method,attachAuth:i}),l=Object.keys(u).some(p=>p.toLowerCase()==="authorization");try{let p=e.body,g=Object.keys(u).find(_=>_.toLowerCase()==="x-codex-base64");if(g&&u[g]==="1"){if(e.body)try{p=Buffer.from(e.body,"base64")}catch{p=e.body}delete u[g]}let h=await fetch(o,{method:e.method,headers:u,body:p,signal:r.signal});if(h.status>=200&&h.status<300){let _=h.headers.get("content-type")||"",w;if(_.includes("application/json")){let P=await h.json();w=JSON.stringify(P)}else{let P=await h.arrayBuffer(),D=Buffer.from(P).toString("base64");w=JSON.stringify({base64:D,contentType:_})}this.abortSignals.delete(e.requestId);let T={};return h.headers.forEach((P,D)=>{D!=="authorization"&&(T[D]=P)}),{type:"fetch-response",responseType:"success",requestId:e.requestId,status:h.status,headers:T,bodyJsonString:w}}if(h.status===401&&l&&a<ta){let _=await this.authProvider.getToken({refreshToken:!0});if(_&&_!==c)return s(a+1,_)}if(this.shouldRetryStatus(h.status)&&a<ta){let _=this.backoffDelay(a);return await Tu(_),s(a+1,c)}let b=h.headers.get("cf-ray");return h.status===404?W().info(`Error fetching ${e.url}: ${h.status} ${h.statusText} (${b})`):W().error(`Error fetching ${e.url}: ${h.status} ${h.statusText} (${b})`),{type:"fetch-response",responseType:"error",requestId:e.requestId,status:h.status,error:h.statusText}}catch(p){if(r.signal.aborted)return{type:"fetch-response",responseType:"error",error:"Request cancelled",requestId:e.requestId,status:499};if(a<ta){let g=this.backoffDelay(a);return await Tu(g),s(a+1,c)}return W().error(`Error fetching ${e.url}: ${String(p)}`),{type:"fetch-response",responseType:"error",requestId:e.requestId,status:432,error:p instanceof Error?p.message:"Unknown error"}}};return s(0,n)}catch(r){return W().error(`Error fetching ${e.url}: ${r}`),{type:"fetch-response",responseType:"error",requestId:e.requestId,status:433,error:r instanceof Error?r.message:"Unknown error"}}finally{this.abortSignals.delete(e.requestId)}}async stream(e,r){let o=new AbortController;this.streamControllers.set(e.requestId,o);let n=pw(e.url),i=await this.authProvider.getToken({refreshToken:!1}),s=this.shouldAttachAuth(n),a=async(c,u)=>{let l=this.buildHeaders(e.headers,u,{method:e.method,attachAuth:s}),p=Object.keys(l).some(g=>g.toLowerCase()==="authorization");try{let g=await fetch(n,{method:e.method,headers:l,body:e.body,signal:o.signal});if(g.status===200&&g.body!=null){for await(let v of TD(g.body,o.signal))r({type:"fetch-stream-event",requestId:e.requestId,event:v.event,data:v.data});r({type:"fetch-stream-complete",requestId:e.requestId});return}if(g.status===401&&p&&c<ta){let v=await this.authProvider.getToken({refreshToken:!0});if(v&&v!==u){await a(c+1,v);return}}if(this.shouldRetryStatus(g.status)&&c<ta){let v=this.backoffDelay(c);await Tu(v),await a(c+1,u);return}r({type:"fetch-stream-error",requestId:e.requestId,error:`${g.status} ${g.statusText}`})}catch(g){if(o.signal.aborted||$D(g)){r({type:"fetch-stream-complete",requestId:e.requestId});return}if(c<ta){let v=this.backoffDelay(c);await Tu(v),await a(c+1,u);return}r({type:"fetch-stream-error",requestId:e.requestId,error:g instanceof Error?g.message:"Unknown error"})}};try{await a(0,i)}finally{this.streamControllers.delete(e.requestId)}}cancel(e){let r=this.abortSignals.get(e);r&&(r.abort(),this.abortSignals.delete(e))}cancelStream(e){let r=this.streamControllers.get(e);r&&(r.abort(),this.streamControllers.delete(e))}};function RJ(t){return t?/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+$/.test(t):!1}var mw=require("child_process");Qe();Ge();function PJ(t){return t===""?"''":/[^\w@%\-+=:,./]/.test(t)?("'"+t.replace(/('+)/g,`'"$1"'`)+"'").replace(/^''|''$/g,""):t}function Km(t){if(!Array.isArray(t))throw new TypeError("args should be an array");return t.map(PJ).join(" ")}var xi=H(require("vscode"));Io();ku();function Vn(t){if(!0){let e,r,{arch:o}=process,{platform:n}=process;switch(t&&(n=t),n){case"win32":e="windows";break;case"darwin":e="macos";break;case"aix":case"android":case"freebsd":case"haiku":case"linux":case"openbsd":case"sunos":case"cygwin":case"netbsd":e="linux";break}switch(o){case"x64":r="x86_64";break;case"arm64":r="aarch64";break;case"arm":case"ia32":case"loong64":case"mips":case"mipsel":case"ppc":case"ppc64":case"riscv64":case"s390":case"s390x":throw new Error(`unrecognized architecture: ${o}`)}return`bin/${`${e}-${r}`}`}return"bin"}St();To();var en=class extends Error{signal;exitCode;constructor(e,{signal:r,exitCode:o}={signal:null,exitCode:null},{cause:n}={}){super(`Codex process errored: ${e}`,{cause:n}),this.name="CodexProcessError",this.signal=r,this.exitCode=o}};function PD(t,e,r){let o=process.platform==="win32",n=AJ();if(xt())return W().info("[spawnCodexProcess] spawning codex process inside WSL"),CJ(t,e,n);let i=Vn(),s=Si(t),a=o?";":":",c=process.env.PATH+a+xi.Uri.joinPath(t,i).fsPath,u=[e];o&&r&&(W().info("[spawnCodexProcess] enabling experimental Windows sandbox"),u.push("--enable","enable_experimental_windows_sandbox"));let l=(0,mw.spawn)(s,u,{stdio:["pipe","pipe","pipe"],env:{...process.env,...n,PATH:c,RUST_LOG:"warn",CODEX_INTERNAL_ORIGINATOR_OVERRIDE:Hn}});if(l.pid==null)throw new en(`Failed to spawn codex mcp process at ${s}`,{signal:null,exitCode:null});return l}function Si(t,e){let r=tr(bt.CLI_EXECUTABLE);if(r&&r.trim().length>0)return r;{let o=Vn(e),n=(e??process.platform)==="win32"?"codex.exe":"codex";return xi.Uri.joinPath(t,`${o}/${n}`).fsPath}}function CJ(t,e,r){let o=Bn();if(o==null)throw new Error("No eligible WSL distro found. Please install an Ubuntu-based WSL distribution and try again.");let n=Vn("linux"),i=Zt(Si(t,"linux")),s=xi.Uri.joinPath(t,n).fsPath,a=Zt(s),c=xi.workspace.workspaceFolders?.[0]?.uri.fsPath,u=c?Zt(c):void 0,l=[`PATH=${a}:$PATH`,"RUST_LOG=warn",`CODEX_INTERNAL_ORIGINATOR_OVERRIDE=${Hn}`],p=["-d",o];u&&p.push("--cd",u),p.push("--","/usr/bin/bash","-lc");let g=["/usr/bin/env",...l,i,e],v=Km(g);p.push(v),W().info(`[codex app-server process] wsl command: wsl.exe ${p.join(" ")}`);let h=(0,mw.spawn)("wsl.exe",p,{stdio:["pipe","pipe","pipe"],env:{...process.env,...r,WSLENV:Vm()}});if(h.pid==null)throw new Error(`Failed to spawn codex mcp process inside WSL: wsl ${p.join(" ")}`);return h}function AJ(){let t=xi.workspace.getConfiguration("http"),e=t.get("proxy"),r=t.get("proxyStrictSSL"),o={};return e&&e.trim().length>0&&(o.HTTP_PROXY=e,o.HTTPS_PROXY=e),r===!1&&(o.NODE_TLS_REJECT_UNAUTHORIZED="0"),o}var CD="1",Jm=class{constructor(e,r,o){this.extensionUri=e;this.userAgentProvider=r;this.windowsSandboxEnabled=o;this.extensionUri=e}logger=Qt("CodexMcpConnection");providers=new Map;initialized=!1;proc=null;rl=null;mostRecentErrorMessage=null;fatalError=null;startCodexProcess(){this.fatalError=null,this.proc&&this.isProcessAlive(this.proc)&&(this.logger.info("[startCodexProcess] tearing down existing codex mcp process"),this.teardownProcess());let e;try{if(this.logger.info("[startCodexProcess] spawning codex app-server"),e=PD(this.extensionUri,"app-server",this.windowsSandboxEnabled),e.pid==null)return this.broadcastFatalError(new en("Failed to start Codex process")),{success:!1,errorMessage:"Failed to spawn Codex process"}}catch(o){if(o instanceof en)return this.broadcastFatalError(o),{success:!1,errorMessage:o.message};let n=o instanceof Error?o.message:String(o);return this.broadcastFatalError(new en(`Failed to start Codex process: ${n}`)),{success:!1,errorMessage:n}}this.proc=e,this.initialized=!1,e.on("error",o=>{this.logger.error(`Codex process error: ${o}`)}),e.on("exit",(o,n)=>{o!==0?this.broadcastFatalError(new en(`Codex app-server process exited unexpectedly (code=${o}, signal=${n})`,{signal:n,exitCode:o})):this.logger.info("codex app-server process exited successfully."),this.teardownProcess()}),e.stderr&&e.stderr.on("data",o=>{let n=OJ(o.toString().trim());if(n){let{level:i,message:s}=NJ(n),a="CLI:";switch(i){case"trace":case"debug":case"info":this.logger.info(`${a} ${s}`);break;case"warn":this.logger.warn(`${a} ${s}`);break;case"error":this.logger.error(`${a} ${s}`),this.mostRecentErrorMessage=s;break}}});let r=AD.createInterface({input:e.stdout});this.rl=r,r.on("line",o=>{let n=o.trim(),i;try{i=JSON.parse(n)}catch(s){this.logger.error(`unable to parse stdout from codex app-server: ${s}`);return}if(!this.initialized){if(this.logger.info(`initialize received (id=${String(i.id)})`),"id"in i&&("result"in i||"error"in i)&&i.id===CD){if("error"in i&&i.error){let s=new en(`Failed to initialize local agent: ${JSON.stringify(i.error)}`);this.broadcastFatalError(s)}else{let s=i.result;this.userAgentProvider.setUserAgent(s.userAgent??Hn),this.initialized=!0}return}this.logger.warn("Dropping MCP message received before initialization");return}this.routeIncomingMessage(i)});{let o={id:CD,method:"initialize",params:{clientInfo:{name:DJ(),title:"Codex Extension",version:$u()}}};e.stdin.destroyed?this.broadcastFatalError(new en(`Attempted to send app-server initialize request but stdin is destroyed: ${JSON.stringify(o)}`)):e.stdin.write(JSON.stringify(o)+`
`)}return{success:!0}}teardownProcess(){this.rl&&(this.rl.removeAllListeners(),this.rl.close(),this.rl=null),this.proc&&(this.proc.removeAllListeners(),!this.proc.killed&&this.proc.exitCode==null&&this.proc.kill(),this.proc=null),this.initialized=!1}isProcessAlive(e){return e.killed||e.exitCode!=null||e.signalCode!=null?!1:!e.stdin.destroyed}registerProvider(e,r){if(this.providers.has(e))throw new Error(`Provider already registered: ${e}`);return this.providers.set(e,r),this.fatalError&&r.onFatalError?.(this.fatalError,this.mostRecentErrorMessage),new ra.Disposable(()=>{this.providers.delete(e)})}sendRequest(e,r,o,n){let s={id:`${e}:${r}`,method:o,params:n};this.sendMessage(s)}sendNotification(e,r){let o={method:e,params:r};this.sendMessage(o)}sendResponse(e,r){let o={id:e,result:r};this.sendMessage(o)}sendMessage(e){this.proc&&!this.proc.stdin.destroyed?this.proc.stdin.write(JSON.stringify(e)+`
`):(this.logger.warn(`Attempted to send app-server message but stdin is destroyed: ${JSON.stringify(e)}`),this.broadcastFatalError(new en("Codex process is not available")))}routeIncomingMessage(e){if(this.isMcpResponseMessage(e)){let r=e.id;if(typeof r=="string"&&r.includes(":")){let[o,...n]=r.split(":"),i=n.join(":"),s=this.providers.get(o);if(s?.onResult){let a={...e,id:i};s.onResult(a)}return}this.logger.warn(`Received MCP response with id=${JSON.stringify(r)} but no provider namespace`);return}if(this.isMcpRequestMessage(e)){for(let[,r]of this.providers)r.onRequest?.(e);return}if(typeof e.method=="string"){let{method:r,params:o}=e;for(let[,n]of this.providers)n.onNotification?.({method:r,params:o});return}this.logger.error(`Received unknown MCP message: ${JSON.stringify(e)}`)}isMcpResponseMessage(e){return"id"in e&&("result"in e||"error"in e)}isMcpRequestMessage(e){return typeof e.method=="string"&&"id"in e&&e.id!=null}broadcastFatalError(e){this.logger.error(`Codex process fatal error: ${e.message}, signal=${e.signal}, exitCode=${e.exitCode}`),this.fatalError=e;for(let[,r]of this.providers)r.onFatalError?.(e,this.mostRecentErrorMessage)}dispose(){this.teardownProcess()}};function OJ(t){return t.replace(/\x1b\[[0-9;]*m/g,"")}function NJ(t){let e=t.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.\d+Z\s+(\w+)\s+(.+)$/);if(e){let r=e[1].toLowerCase();return r==="trace"||r==="debug"||r==="info"||r==="warn"||r==="error"?{level:r,message:e[2]}:{level:"error",message:e[2]}}return{level:"error",message:t}}function DJ(){let t=ra.env.appName??"",e=t.toLowerCase();return e.includes("cursor")?"Cursor":e.includes("windsurf")?"Windsurf":e.includes("visual studio code")||e==="code"||e.startsWith("code ")||e.endsWith(" code")||e.includes("vscode")?"VS Code":t||"VS Code"}function $u(){let e=ra.extensions.getExtension("openai.chatgpt")?.packageJSON?.version;return typeof e=="string"&&e.trim().length>0?e:"0.0.0"}Qe();var Nh=require("fs"),Lz=H(require("path"));Qe();Ge();var me=H(require("vscode"));Qe();Ge();var OD="ConversationPreviewLoader",Ym=class{constructor(e,r){this.codexMcpConnection=e;this.globalState=r;e.registerProvider(OD,{onResult:o=>this.handleResult(o)})}nextRequestId=1;callbacks=new Map;threadTitleCache=null;async fetchConversationPreviews(){let e=await this.requestThreadList(),r=await this.loadThreadTitles(!0),o=new Map;for(let n of e){let i=r.titles[n.conversationId];o.set(String(n.conversationId),i??n.preview)}return o}async loadThreadTitles(e=!1){if(e&&(this.threadTitleCache=null),this.threadTitleCache)return this.threadTitleCache;try{let r=await this.globalState.get(gt.THREAD_TITLES),o=Om(r);return this.threadTitleCache=o,o}catch{let r={titles:{},order:[]};return this.threadTitleCache=r,r}}handleResult(e){let r=this.callbacks.get(e.id);r&&(this.callbacks.delete(e.id),r(e))}requestThreadList(e=50){let r=String(this.nextRequestId++),o=new Promise((i,s)=>{this.callbacks.set(r,a=>{if(a.error){s(new Error(a.error.message));return}if(!a.result){i([]);return}let u=a.result.data.map(l=>({conversationId:l.id,preview:l.preview}));i(u)})}),n={limit:e,cursor:null,modelProviders:[]};return this.codexMcpConnection.sendRequest(OD,r,"thread/list",n),o}};Ge();var hw=H(require("vscode"));St();async function $o(){try{await hw.commands.executeCommand("workbench.view.extension.codexViewContainer"),await hw.commands.executeCommand(`${Ro.viewType}.focus`)}catch(t){W().error(`Failed to focus Codex view: ${t instanceof Error?t.message:String(t)}`)}}Qe();Ge();var Cr=H(require("vscode"));Io();St();To();var MJ=6e5,zJ=5e3;function ND(){if(process.platform!=="win32"){W().warn(`[installWslInTerminal] Ignoring request on non-Windows platform: ${process.platform}`);return}let t="Install WSL (Ubuntu)",e=new Cr.ShellExecution("wsl.exe",["--install","-d","Ubuntu","--no-launch"]),r=new Cr.Task({type:"shell",id:"codex-install-wsl"},Cr.TaskScope.Global,t,"Codex",e),o,n=!1,i=Cr.tasks.onDidEndTaskProcess(async s=>{try{if(!o||s.execution!==o)return;i.dispose(),n=!0;let a=s.exitCode;a!==0&&W().warn(`[installWslInTerminal] WSL install task exited with code ${String(a)}`)}catch(a){W().error(`[installWslInTerminal] unexpected error: ${String(a)}`)}});Cr.tasks.executeTask(r).then(s=>{o=s,jJ({onReady:async()=>{try{await Hm(bt.RUN_CODEX_IN_WSL,!0),W().info("[installWslInTerminal] WSL ready; RUN_CODEX_IN_WSL enabled"),Cr.window.showInformationMessage("WSL is ready. Codex will now run inside WSL. The window may reload.")}catch(a){W().error(`[installWslInTerminal] failed to set RUN_CODEX_IN_WSL: ${String(a)}`)}if(!n&&o)try{o.terminate(),W().info("[installWslInTerminal] Terminated install task after readiness detected")}catch(a){W().warn(`[installWslInTerminal] Failed to terminate task: ${String(a)}`)}},onTimeout:()=>{Bn(!0)!=null?Cr.window.showInformationMessage("WSL detected but not ready to run commands yet. A system reboot may be required."):Cr.window.showInformationMessage("WSL installation not yet detected. If you just installed WSL, a system reboot may be required.")}})})}function jJ(t){let e=Date.now(),r=()=>{if(Bn(!0)!=null){Promise.resolve(t.onReady());return}if(Date.now()-e>=MJ){t.onTimeout&&Promise.resolve(t.onTimeout());return}setTimeout(r,zJ)};setTimeout(r,0)}ku();St();Qe();Ge();Ge();var DD=H(require("vscode"));To();function Ru(){let t=DD.workspace.workspaceFolders?.map(r=>r.uri.fsPath)??[];return xt()?t.map(Zt):t}St();var MD="NewConversationFactory",Xm=class{constructor(e,r,o,n){this.codexMcpConnection=e;this.modelProxyManager=r;this.fetchCodexConfig=o;this.sharedObjectRepository=n;this.subscriptions.push(this.codexMcpConnection.registerProvider(MD,{onResult:i=>{this.handleInternalAppServerResponse(i)}}))}nextRequestId=1;subscriptions=[];pendingAppServerRequests=new Map;async createNewConversation(){let e=String(this.nextRequestId++),r=nd();this.pendingAppServerRequests.set(e,r);let o=Ru(),n=o[0];if(!n)throw new Error("No workspace root found");let i=await hR(null,()=>{let c=this.modelProxyManager.getProxy();return c?c.then(u=>({baseUrl:u.uri.toString(),secret:u.key})):Promise.resolve(null)},n,yR(o),this.fetchCodexConfig),s=this.sharedObjectRepository.get("statsig_default_enable_features");i=Gk(i,s),this.codexMcpConnection.sendRequest(MD,e,"thread/start",i);let a=i.modelProvider??null;return r.promise.then(c=>({response:c,modelProvider:a}))}handleInternalAppServerResponse(e){let{id:r,result:o,error:n}=e,i=String(r),s=this.pendingAppServerRequests.get(i);if(!s){W().warn(`Received internal app server response for unknown request id: ${i}`);return}this.pendingAppServerRequests.delete(i),n?s.reject(n):s.resolve(o)}dispose(){this.subscriptions.forEach(e=>e.dispose())}};var ce=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;var ve=globalThis;var bn="10.28.0";function Ei(){return ki(ve),ve}function ki(t){let e=t.__SENTRY__=t.__SENTRY__||{};return e.version=e.version||bn,e[bn]=e[bn]||{}}function tn(t,e,r=ve){let o=r.__SENTRY__=r.__SENTRY__||{},n=o[bn]=o[bn]||{};return n[t]||(n[t]=e())}var gw=["debug","info","warn","error","log","assert","trace"],LJ="Sentry Logger ",na={};function Po(t){if(!("console"in ve))return t();let e=ve.console,r={},o=Object.keys(na);o.forEach(n=>{let i=na[n];r[n]=e[n],e[n]=i});try{return t()}finally{o.forEach(n=>{e[n]=r[n]})}}function UJ(){vw().enabled=!0}function FJ(){vw().enabled=!1}function zD(){return vw().enabled}function qJ(...t){yw("log",...t)}function WJ(...t){yw("warn",...t)}function ZJ(...t){yw("error",...t)}function yw(t,...e){ce&&zD()&&Po(()=>{ve.console[t](`${LJ}[${t}]:`,...e)})}function vw(){return ce?tn("loggerSettings",()=>({enabled:!1})):{enabled:!1}}var X={enable:UJ,disable:FJ,isEnabled:zD,log:qJ,warn:WJ,error:ZJ};var _n="?",jD=/\(error: (.*)\)/,LD=/captureMessage|captureException/;function _w(...t){let e=t.sort((r,o)=>r[0]-o[0]).map(r=>r[1]);return(r,o=0,n=0)=>{let i=[],s=r.split(`
`);for(let a=o;a<s.length;a++){let c=s[a];c.length>1024&&(c=c.slice(0,1024));let u=jD.test(c)?c.replace(jD,"$1"):c;if(!u.match(/\S*Error: /)){for(let l of e){let p=l(u);if(p){i.push(p);break}}if(i.length>=50+n)break}}return UD(i.slice(n))}}function UD(t){if(!t.length)return[];let e=Array.from(t);return/sentryWrapped/.test(Qm(e).function||"")&&e.pop(),e.reverse(),LD.test(Qm(e).function||"")&&(e.pop(),LD.test(Qm(e).function||"")&&e.pop()),e.slice(0,50).map(r=>({...r,filename:r.filename||Qm(e).filename,function:r.function||_n}))}function Qm(t){return t[t.length-1]||{}}var bw="<anonymous>";function Lr(t){try{return!t||typeof t!="function"?bw:t.name||bw}catch{return bw}}function eh(t){let e=t.exception;if(e){let r=[];try{return e.values.forEach(o=>{o.stacktrace.frames&&r.push(...o.stacktrace.frames)}),r}catch{return}}}function th(t){return"__v_isVNode"in t&&t.__v_isVNode?"[VueVNode]":"[VueViewModel]"}var rh={},FD={};function rr(t,e){rh[t]=rh[t]||[],rh[t].push(e)}function nr(t,e){if(!FD[t]){FD[t]=!0;try{e()}catch(r){ce&&X.error(`Error while instrumenting ${t}`,r)}}}function $t(t,e){let r=t&&rh[t];if(r)for(let o of r)try{o(e)}catch(n){ce&&X.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${Lr(o)}
Error:`,n)}}var ww=null;function xw(t){let e="error";rr(e,t),nr(e,BJ)}function BJ(){ww=ve.onerror,ve.onerror=function(t,e,r,o,n){return $t("error",{column:o,error:n,line:r,msg:t,url:e}),ww?ww.apply(this,arguments):!1},ve.onerror.__SENTRY_INSTRUMENTED__=!0}var Sw=null;function Ew(t){let e="unhandledrejection";rr(e,t),nr(e,HJ)}function HJ(){Sw=ve.onunhandledrejection,ve.onunhandledrejection=function(t){return $t("unhandledrejection",t),Sw?Sw.apply(this,arguments):!0},ve.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}var qD=Object.prototype.toString;function Ii(t){switch(qD.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return rn(t,Error)}}function oa(t,e){return qD.call(t)===`[object ${e}]`}function nh(t){return oa(t,"ErrorEvent")}function oh(t){return oa(t,"DOMError")}function kw(t){return oa(t,"DOMException")}function or(t){return oa(t,"String")}function ia(t){return typeof t=="object"&&t!==null&&"__sentry_template_string__"in t&&"__sentry_template_values__"in t}function Co(t){return t===null||ia(t)||typeof t!="object"&&typeof t!="function"}function Gn(t){return oa(t,"Object")}function Ti(t){return typeof Event<"u"&&rn(t,Event)}function Iw(t){return typeof Element<"u"&&rn(t,Element)}function Tw(t){return oa(t,"RegExp")}function wn(t){return!!(t?.then&&typeof t.then=="function")}function $w(t){return Gn(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function rn(t,e){try{return t instanceof e}catch{return!1}}function Pu(t){return!!(typeof t=="object"&&t!==null&&(t.__isVue||t._isVue||t.__v_isVNode))}function WD(t){return typeof Request<"u"&&rn(t,Request)}var Rw=ve,VJ=80;function Cu(t,e={}){if(!t)return"<unknown>";try{let r=t,o=5,n=[],i=0,s=0,a=" > ",c=a.length,u,l=Array.isArray(e)?e:e.keyAttrs,p=!Array.isArray(e)&&e.maxStringLength||VJ;for(;r&&i++<o&&(u=GJ(r,l),!(u==="html"||i>1&&s+n.length*c+u.length>=p));)n.push(u),s+=u.length,r=r.parentNode;return n.reverse().join(a)}catch{return"<unknown>"}}function GJ(t,e){let r=t,o=[];if(!r?.tagName)return"";if(Rw.HTMLElement&&r instanceof HTMLElement&&r.dataset){if(r.dataset.sentryComponent)return r.dataset.sentryComponent;if(r.dataset.sentryElement)return r.dataset.sentryElement}o.push(r.tagName.toLowerCase());let n=e?.length?e.filter(s=>r.getAttribute(s)).map(s=>[s,r.getAttribute(s)]):null;if(n?.length)n.forEach(s=>{o.push(`[${s[0]}="${s[1]}"]`)});else{r.id&&o.push(`#${r.id}`);let s=r.className;if(s&&or(s)){let a=s.split(/\s+/);for(let c of a)o.push(`.${c}`)}}let i=["aria-label","type","name","title","alt"];for(let s of i){let a=r.getAttribute(s);a&&o.push(`[${s}="${a}"]`)}return o.join("")}function Au(){try{return Rw.document.location.href}catch{return""}}function Pw(t){if(!Rw.HTMLElement)return null;let e=t,r=5;for(let o=0;o<r;o++){if(!e)return null;if(e instanceof HTMLElement){if(e.dataset.sentryComponent)return e.dataset.sentryComponent;if(e.dataset.sentryElement)return e.dataset.sentryElement}e=e.parentNode}return null}function Rt(t,e,r){if(!(e in t))return;let o=t[e];if(typeof o!="function")return;let n=r(o);typeof n=="function"&&ih(n,o);try{t[e]=n}catch{ce&&X.log(`Failed to replace method "${e}" in object`,t)}}function Ar(t,e,r){try{Object.defineProperty(t,e,{value:r,writable:!0,configurable:!0})}catch{ce&&X.log(`Failed to add non-enumerable property "${e}" to object`,t)}}function ih(t,e){try{let r=e.prototype||{};t.prototype=e.prototype=r,Ar(t,"__sentry_original__",e)}catch{}}function $i(t){return t.__sentry_original__}function sh(t){if(Ii(t))return{message:t.message,name:t.name,stack:t.stack,...BD(t)};if(Ti(t)){let e={type:t.type,target:ZD(t.target),currentTarget:ZD(t.currentTarget),...BD(t)};return typeof CustomEvent<"u"&&rn(t,CustomEvent)&&(e.detail=t.detail),e}else return t}function ZD(t){try{return Iw(t)?Cu(t):Object.prototype.toString.call(t)}catch{return"<unknown>"}}function BD(t){if(typeof t=="object"&&t!==null){let e={};for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}else return{}}function Cw(t){let e=Object.keys(sh(t));return e.sort(),e[0]?e.join(", "):"[object has no keys]"}function sa(t,e=0){return typeof t!="string"||e===0||t.length<=e?t:`${t.slice(0,e)}...`}function ah(t,e){if(!Array.isArray(t))return"";let r=[];for(let o=0;o<t.length;o++){let n=t[o];try{Pu(n)?r.push(th(n)):r.push(String(n))}catch{r.push("[value cannot be serialized]")}}return r.join(e)}function aa(t,e,r=!1){return or(t)?Tw(e)?e.test(t):or(e)?r?t===e:t.includes(e):!1:!1}function ca(t,e=[],r=!1){return e.some(o=>aa(t,o,r))}function KJ(){let t=ve;return t.crypto||t.msCrypto}var Aw;function JJ(){return Math.random()*16}function Pt(t=KJ()){try{if(t?.randomUUID)return t.randomUUID().replace(/-/g,"")}catch{}return Aw||(Aw="10000000100040008000"+1e11),Aw.replace(/[018]/g,e=>(e^(JJ()&15)>>e/4).toString(16))}function HD(t){return t.exception?.values?.[0]}function xn(t){let{message:e,event_id:r}=t;if(e)return e;let o=HD(t);return o?o.type&&o.value?`${o.type}: ${o.value}`:o.type||o.value||r||"<unknown>":r||"<unknown>"}function ua(t,e,r){let o=t.exception=t.exception||{},n=o.values=o.values||[],i=n[0]=n[0]||{};i.value||(i.value=e||""),i.type||(i.type=r||"Error")}function Sn(t,e){let r=HD(t);if(!r)return;let o={type:"generic",handled:!0},n=r.mechanism;if(r.mechanism={...o,...n,...e},e&&"data"in e){let i={...n?.data,...e.data};r.mechanism.data=i}}function ch(t){if(YJ(t))return!0;try{Ar(t,"__sentry_captured__",!0)}catch{}return!1}function YJ(t){try{return t.__sentry_captured__}catch{}}var GD=1e3;function En(){return Date.now()/GD}function XJ(){let{performance:t}=ve;if(!t?.now||!t.timeOrigin)return En;let e=t.timeOrigin;return()=>(e+t.now())/GD}var VD;function hr(){return(VD??(VD=XJ()))()}function KD(t){let e=hr(),r={sid:Pt(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>QJ(r)};return t&&Kn(r,t),r}function Kn(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),!t.did&&!e.did&&(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||hr(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:Pt()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{let r=t.timestamp-t.started;t.duration=r>=0?r:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}function JD(t,e){let r={};e?r={status:e}:t.status==="ok"&&(r={status:"exited"}),Kn(t,r)}function QJ(t){return{sid:`${t.sid}`,init:t.init,started:new Date(t.started*1e3).toISOString(),timestamp:new Date(t.timestamp*1e3).toISOString(),status:t.status,errors:t.errors,did:typeof t.did=="number"||typeof t.did=="string"?`${t.did}`:void 0,duration:t.duration,abnormal_mechanism:t.abnormal_mechanism,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}}}function Ao(t,e,r=2){if(!e||typeof e!="object"||r<=0)return e;if(t&&Object.keys(e).length===0)return t;let o={...t};for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&(o[n]=Ao(o[n],e[n],r-1));return o}function Ow(){return Pt()}function uh(){return Pt().substring(16)}var Nw="_sentrySpan";function Dw(t,e){e?Ar(t,Nw,e):delete t[Nw]}function Mw(t){return t[Nw]}var eY=100,Mt=class t{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._attributes={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:Ow(),sampleRand:Math.random()}}clone(){let e=new t;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._attributes={...this._attributes},e._extra={...this._extra},e._contexts={...this._contexts},this._contexts.flags&&(e._contexts.flags={values:[...this._contexts.flags.values]}),e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,Dw(e,Mw(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Kn(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,r){return this.setTags({[e]:r})}setAttributes(e){return this._attributes={...this._attributes,...e},this._notifyScopeListeners(),this}setAttribute(e,r){return this.setAttributes({[e]:r})}removeAttribute(e){return e in this._attributes&&(delete this._attributes[e],this._notifyScopeListeners()),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,r){return this._extra={...this._extra,[e]:r},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,r){return r===null?delete this._contexts[e]:this._contexts[e]=r,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;let r=typeof e=="function"?e(this):e,o=r instanceof t?r.getScopeData():Gn(r)?e:void 0,{tags:n,attributes:i,extra:s,user:a,contexts:c,level:u,fingerprint:l=[],propagationContext:p}=o||{};return this._tags={...this._tags,...n},this._attributes={...this._attributes,...i},this._extra={...this._extra,...s},this._contexts={...this._contexts,...c},a&&Object.keys(a).length&&(this._user=a),u&&(this._level=u),l.length&&(this._fingerprint=l),p&&(this._propagationContext=p),this}clear(){return this._breadcrumbs=[],this._tags={},this._attributes={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,Dw(this,void 0),this._attachments=[],this.setPropagationContext({traceId:Ow(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(e,r){let o=typeof r=="number"?r:eY;if(o<=0)return this;let n={timestamp:En(),...e,message:e.message?sa(e.message,2048):e.message};return this._breadcrumbs.push(n),this._breadcrumbs.length>o&&(this._breadcrumbs=this._breadcrumbs.slice(-o),this._client?.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,attributes:this._attributes,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:Mw(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=Ao(this._sdkProcessingMetadata,e,2),this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,r){let o=r?.event_id||Pt();if(!this._client)return ce&&X.warn("No client configured on scope - will not capture exception!"),o;let n=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:n,...r,event_id:o},this),o}captureMessage(e,r,o){let n=o?.event_id||Pt();if(!this._client)return ce&&X.warn("No client configured on scope - will not capture message!"),n;let i=o?.syntheticException??new Error(e);return this._client.captureMessage(e,r,{originalException:e,syntheticException:i,...o,event_id:n},this),n}captureEvent(e,r){let o=r?.event_id||Pt();return this._client?(this._client.captureEvent(e,{...r,event_id:o},this),o):(ce&&X.warn("No client configured on scope - will not capture event!"),o)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}};function YD(){return tn("defaultCurrentScope",()=>new Mt)}function XD(){return tn("defaultIsolationScope",()=>new Mt)}var zw=class{constructor(e,r){let o;e?o=e:o=new Mt;let n;r?n=r:n=new Mt,this._stack=[{scope:o}],this._isolationScope=n}withScope(e){let r=this._pushScope(),o;try{o=e(r)}catch(n){throw this._popScope(),n}return wn(o)?o.then(n=>(this._popScope(),n),n=>{throw this._popScope(),n}):(this._popScope(),o)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){let e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}};function la(){let t=Ei(),e=ki(t);return e.stack=e.stack||new zw(YD(),XD())}function tY(t){return la().withScope(t)}function rY(t,e){let r=la();return r.withScope(()=>(r.getStackTop().scope=t,e(t)))}function QD(t){return la().withScope(()=>t(la().getIsolationScope()))}function eM(){return{withIsolationScope:QD,withScope:tY,withSetScope:rY,withSetIsolationScope:(t,e)=>QD(e),getCurrentScope:()=>la().getScope(),getIsolationScope:()=>la().getIsolationScope()}}function lh(t){let e=ki(t);return e.acs?e.acs:eM()}function kn(){let t=Ei();return lh(t).getCurrentScope()}function In(){let t=Ei();return lh(t).getIsolationScope()}function dh(){return tn("globalScope",()=>new Mt)}function ph(...t){let e=Ei(),r=lh(e);if(t.length===2){let[o,n]=t;return o?r.withSetScope(o,n):r.withScope(n)}return r.withScope(t[0])}function ot(){return kn().getClient()}function jw(t){let e=t.getPropagationContext(),{traceId:r,parentSpanId:o,propagationSpanId:n}=e,i={trace_id:r,span_id:n||uh()};return o&&(i.parent_span_id=o),i}var fh="sentry.source",Lw="sentry.sample_rate",tM="sentry.previous_trace_sample_rate",Uw="sentry.op",Fw="sentry.origin";var qw="sentry.profile_id",Ww="sentry.exclusive_time";var nY="_sentryScope",oY="_sentryIsolationScope";function iY(t){if(t){if(typeof t=="object"&&"deref"in t&&typeof t.deref=="function")try{return t.deref()}catch{return}return t}}function mh(t){let e=t;return{scope:e[nY],isolationScope:iY(e[oY])}}var sY="sentry-",aY=/^sentry-/;function nM(t){let e=cY(t);if(!e)return;let r=Object.entries(e).reduce((o,[n,i])=>{if(n.match(aY)){let s=n.slice(sY.length);o[s]=i}return o},{});if(Object.keys(r).length>0)return r}function cY(t){if(!(!t||!or(t)&&!Array.isArray(t)))return Array.isArray(t)?t.reduce((e,r)=>{let o=rM(r);return Object.entries(o).forEach(([n,i])=>{e[n]=i}),e},{}):rM(t)}function rM(t){return t.split(",").map(e=>{let r=e.indexOf("=");if(r===-1)return[];let o=e.slice(0,r),n=e.slice(r+1);return[o,n].map(i=>{try{return decodeURIComponent(i.trim())}catch{return}})}).reduce((e,[r,o])=>(r&&o&&(e[r]=o),e),{})}var uY=/^o(\d+)\./,lY=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function dY(t){return t==="http"||t==="https"}function Tn(t,e=!1){let{host:r,path:o,pass:n,port:i,projectId:s,protocol:a,publicKey:c}=t;return`${a}://${c}${e&&n?`:${n}`:""}@${r}${i?`:${i}`:""}/${o&&`${o}/`}${s}`}function pY(t){let e=lY.exec(t);if(!e){Po(()=>{console.error(`Invalid Sentry Dsn: ${t}`)});return}let[r,o,n="",i="",s="",a=""]=e.slice(1),c="",u=a,l=u.split("/");if(l.length>1&&(c=l.slice(0,-1).join("/"),u=l.pop()),u){let p=u.match(/^\d+/);p&&(u=p[0])}return oM({host:i,pass:n,path:c,projectId:u,port:s,protocol:r,publicKey:o})}function oM(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function fY(t){if(!ce)return!0;let{port:e,projectId:r,protocol:o}=t;return["protocol","publicKey","host","projectId"].find(s=>t[s]?!1:(X.error(`Invalid Sentry Dsn: ${s} missing`),!0))?!1:r.match(/^\d+$/)?dY(o)?e&&isNaN(parseInt(e,10))?(X.error(`Invalid Sentry Dsn: Invalid port ${e}`),!1):!0:(X.error(`Invalid Sentry Dsn: Invalid protocol ${o}`),!1):(X.error(`Invalid Sentry Dsn: Invalid projectId ${r}`),!1)}function mY(t){return t.match(uY)?.[1]}function iM(t){let e=t.getOptions(),{host:r}=t.getDsn()||{},o;return e.orgId?o=String(e.orgId):r&&(o=mY(r)),o}function sM(t){let e=typeof t=="string"?pY(t):oM(t);if(!(!e||!fY(e)))return e}function aM(t){if(typeof t=="boolean")return Number(t);let e=typeof t=="string"?parseFloat(t):t;if(!(typeof e!="number"||isNaN(e)||e<0||e>1))return e}var dM=1,cM=!1;function pM(t){let{spanId:e,traceId:r,isRemote:o}=t.spanContext(),n=o?e:da(t).parent_span_id,i=mh(t).scope,s=o?i?.getPropagationContext().propagationSpanId||uh():e;return{parent_span_id:n,span_id:s,trace_id:r}}function hY(t){if(t&&t.length>0)return t.map(({context:{spanId:e,traceId:r,traceFlags:o,...n},attributes:i})=>({span_id:e,trace_id:r,sampled:o===dM,attributes:i,...n}))}function uM(t){return typeof t=="number"?lM(t):Array.isArray(t)?t[0]+t[1]/1e9:t instanceof Date?lM(t.getTime()):hr()}function lM(t){return t>9999999999?t/1e3:t}function da(t){if(yY(t))return t.getSpanJSON();let{spanId:e,traceId:r}=t.spanContext();if(gY(t)){let{attributes:o,startTime:n,name:i,endTime:s,status:a,links:c}=t,u="parentSpanId"in t?t.parentSpanId:"parentSpanContext"in t?t.parentSpanContext?.spanId:void 0;return{span_id:e,trace_id:r,data:o,description:i,parent_span_id:u,start_timestamp:uM(n),timestamp:uM(s)||void 0,status:vY(a),op:o[Uw],origin:o[Fw],links:hY(c)}}return{span_id:e,trace_id:r,start_timestamp:0,data:{}}}function gY(t){let e=t;return!!e.attributes&&!!e.startTime&&!!e.name&&!!e.endTime&&!!e.status}function yY(t){return typeof t.getSpanJSON=="function"}function fM(t){let{traceFlags:e}=t.spanContext();return e===dM}function vY(t){if(!(!t||t.code===0))return t.code===1?"ok":t.message||"internal_error"}var bY="_sentryRootSpan";function Ou(t){return t[bY]||t}function Zw(){cM||(Po(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly or use `ignoreSpans`.")}),cM=!0)}function mM(t){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;let e=t||ot()?.getOptions();return!!e&&(e.tracesSampleRate!=null||!!e.tracesSampler)}function hM(t){X.log(`Ignoring span ${t.op} - ${t.description} because it matches \`ignoreSpans\`.`)}function Bw(t,e){if(!e?.length||!t.description)return!1;for(let r of e){if(_Y(r)){if(aa(t.description,r))return ce&&hM(t),!0;continue}if(!r.name&&!r.op)continue;let o=r.name?aa(t.description,r.name):!0,n=r.op?t.op&&aa(t.op,r.op):!0;if(o&&n)return ce&&hM(t),!0}return!1}function gM(t,e){let r=e.parent_span_id,o=e.span_id;if(r)for(let n of t)n.parent_span_id===o&&(n.parent_span_id=r)}function _Y(t){return typeof t=="string"||t instanceof RegExp}var pa="production";var wY="_frozenDsc";function yM(t,e){let r=e.getOptions(),{publicKey:o}=e.getDsn()||{},n={environment:r.environment||pa,release:r.release,public_key:o,trace_id:t,org_id:iM(e)};return e.emit("createDsc",n),n}function vM(t,e){let r=e.getPropagationContext();return r.dsc||yM(r.traceId,t)}function bM(t){let e=ot();if(!e)return{};let r=Ou(t),o=da(r),n=o.data,i=r.spanContext().traceState,s=i?.get("sentry.sample_rate")??n[Lw]??n[tM];function a(h){return(typeof s=="number"||typeof s=="string")&&(h.sample_rate=`${s}`),h}let c=r[wY];if(c)return a(c);let u=i?.get("sentry.dsc"),l=u&&nM(u);if(l)return a(l);let p=yM(t.spanContext().traceId,e),g=n[fh],v=o.description;return g!=="url"&&v&&(p.transaction=v),mM()&&(p.sampled=String(fM(r)),p.sample_rand=i?.get("sentry.sample_rand")??mh(r).scope?.getPropagationContext().sampleRand.toString()),a(p),e.emit("createDsc",p,r),p}function Ur(t,e=100,r=1/0){try{return Hw("",t,e,r)}catch(o){return{ERROR:`**non-serializable** (${o})`}}}function hh(t,e=3,r=100*1024){let o=Ur(t,e);return kY(o)>r?hh(t,e-1,r):o}function Hw(t,e,r=1/0,o=1/0,n=IY()){let[i,s]=n;if(e==null||["boolean","string"].includes(typeof e)||typeof e=="number"&&Number.isFinite(e))return e;let a=xY(t,e);if(!a.startsWith("[object "))return a;if(e.__sentry_skip_normalization__)return e;let c=typeof e.__sentry_override_normalization_depth__=="number"?e.__sentry_override_normalization_depth__:r;if(c===0)return a.replace("object ","");if(i(e))return"[Circular ~]";let u=e;if(u&&typeof u.toJSON=="function")try{let v=u.toJSON();return Hw("",v,c-1,o,n)}catch{}let l=Array.isArray(e)?[]:{},p=0,g=sh(e);for(let v in g){if(!Object.prototype.hasOwnProperty.call(g,v))continue;if(p>=o){l[v]="[MaxProperties ~]";break}let h=g[v];l[v]=Hw(v,h,c-1,o,n),p++}return s(e),l}function xY(t,e){try{if(t==="domain"&&e&&typeof e=="object"&&e._events)return"[Domain]";if(t==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&e===global)return"[Global]";if(typeof window<"u"&&e===window)return"[Window]";if(typeof document<"u"&&e===document)return"[Document]";if(Pu(e))return th(e);if($w(e))return"[SyntheticEvent]";if(typeof e=="number"&&!Number.isFinite(e))return`[${e}]`;if(typeof e=="function")return`[Function: ${Lr(e)}]`;if(typeof e=="symbol")return`[${String(e)}]`;if(typeof e=="bigint")return`[BigInt: ${String(e)}]`;let r=SY(e);return/^HTML(\w*)Element$/.test(r)?`[HTMLElement: ${r}]`:`[object ${r}]`}catch(r){return`**non-serializable** (${r})`}}function SY(t){let e=Object.getPrototypeOf(t);return e?.constructor?e.constructor.name:"null prototype"}function EY(t){return~-encodeURI(t).split(/%..|./).length}function kY(t){return EY(JSON.stringify(t))}function IY(){let t=new WeakSet;function e(o){return t.has(o)?!0:(t.add(o),!1)}function r(o){t.delete(o)}return[e,r]}function nn(t,e=[]){return[t,e]}function _M(t,e){let[r,o]=t;return[r,[...o,e]]}function Gw(t,e){let r=t[1];for(let o of r){let n=o[0].type;if(e(o,n))return!0}return!1}function Vw(t){let e=ki(ve);return e.encodePolyfill?e.encodePolyfill(t):new TextEncoder().encode(t)}function wM(t){let[e,r]=t,o=JSON.stringify(e);function n(i){typeof o=="string"?o=typeof i=="string"?o+i:[Vw(o),i]:o.push(typeof i=="string"?Vw(i):i)}for(let i of r){let[s,a]=i;if(n(`
${JSON.stringify(s)}
`),typeof a=="string"||a instanceof Uint8Array)n(a);else{let c;try{c=JSON.stringify(a)}catch{c=JSON.stringify(Ur(a))}n(c)}}return typeof o=="string"?o:TY(o)}function TY(t){let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e),o=0;for(let n of t)r.set(n,o),o+=n.length;return r}function xM(t){let e=typeof t.data=="string"?Vw(t.data):t.data;return[{type:"attachment",length:e.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType},e]}var $Y={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item",metric:"metric",trace_metric:"metric"};function Kw(t){return $Y[t]}function Jw(t){if(!t?.sdk)return;let{name:e,version:r}=t.sdk;return{name:e,version:r}}function SM(t,e,r,o){let n=t.sdkProcessingMetadata?.dynamicSamplingContext;return{event_id:t.event_id,sent_at:new Date().toISOString(),...e&&{sdk:e},...!!r&&o&&{dsn:Tn(o)},...n&&{trace:n}}}function RY(t,e){if(!e)return t;let r=t.sdk||{};return t.sdk={...r,name:r.name||e.name,version:r.version||e.version,integrations:[...t.sdk?.integrations||[],...e.integrations||[]],packages:[...t.sdk?.packages||[],...e.packages||[]],settings:t.sdk?.settings||e.settings?{...t.sdk?.settings,...e.settings}:void 0},t}function EM(t,e,r,o){let n=Jw(r),i={sent_at:new Date().toISOString(),...n&&{sdk:n},...!!o&&e&&{dsn:Tn(e)}},s="aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t.toJSON()];return nn(i,[s])}function kM(t,e,r,o){let n=Jw(r),i=t.type&&t.type!=="replay_event"?t.type:"event";RY(t,r?.sdk);let s=SM(t,n,o,e);return delete t.sdkProcessingMetadata,nn(s,[[{type:i},t]])}var Yw=0,IM=1,TM=2;function Oo(t){return new Nu(e=>{e(t)})}function Ri(t){return new Nu((e,r)=>{r(t)})}var Nu=class t{constructor(e){this._state=Yw,this._handlers=[],this._runExecutor(e)}then(e,r){return new t((o,n)=>{this._handlers.push([!1,i=>{if(!e)o(i);else try{o(e(i))}catch(s){n(s)}},i=>{if(!r)n(i);else try{o(r(i))}catch(s){n(s)}}]),this._executeHandlers()})}catch(e){return this.then(r=>r,e)}finally(e){return new t((r,o)=>{let n,i;return this.then(s=>{i=!1,n=s,e&&e()},s=>{i=!0,n=s,e&&e()}).then(()=>{if(i){o(n);return}r(n)})})}_executeHandlers(){if(this._state===Yw)return;let e=this._handlers.slice();this._handlers=[],e.forEach(r=>{r[0]||(this._state===IM&&r[1](this._value),this._state===TM&&r[2](this._value),r[0]=!0)})}_runExecutor(e){let r=(i,s)=>{if(this._state===Yw){if(wn(s)){s.then(o,n);return}this._state=i,this._value=s,this._executeHandlers()}},o=i=>{r(IM,i)},n=i=>{r(TM,i)};try{e(o,n)}catch(i){n(i)}}};function $M(t,e,r,o=0){try{let n=Xw(e,r,t,o);return wn(n)?n:Oo(n)}catch(n){return Ri(n)}}function Xw(t,e,r,o){let n=r[o];if(!t||!n)return t;let i=n({...t},e);return ce&&i===null&&X.log(`Event processor "${n.id||"?"}" dropped event`),wn(i)?i.then(s=>Xw(s,e,r,o+1)):Xw(i,e,r,o+1)}function RM(t,e){let{fingerprint:r,span:o,breadcrumbs:n,sdkProcessingMetadata:i}=e;PY(t,e),o&&OY(t,o),NY(t,r),CY(t,n),AY(t,i)}function Qw(t,e){let{extra:r,tags:o,user:n,contexts:i,level:s,sdkProcessingMetadata:a,breadcrumbs:c,fingerprint:u,eventProcessors:l,attachments:p,propagationContext:g,transactionName:v,span:h}=e;gh(t,"extra",r),gh(t,"tags",o),gh(t,"user",n),gh(t,"contexts",i),t.sdkProcessingMetadata=Ao(t.sdkProcessingMetadata,a,2),s&&(t.level=s),v&&(t.transactionName=v),h&&(t.span=h),c.length&&(t.breadcrumbs=[...t.breadcrumbs,...c]),u.length&&(t.fingerprint=[...t.fingerprint,...u]),l.length&&(t.eventProcessors=[...t.eventProcessors,...l]),p.length&&(t.attachments=[...t.attachments,...p]),t.propagationContext={...t.propagationContext,...g}}function gh(t,e,r){t[e]=Ao(t[e],r,1)}function PY(t,e){let{extra:r,tags:o,user:n,contexts:i,level:s,transactionName:a}=e;Object.keys(r).length&&(t.extra={...r,...t.extra}),Object.keys(o).length&&(t.tags={...o,...t.tags}),Object.keys(n).length&&(t.user={...n,...t.user}),Object.keys(i).length&&(t.contexts={...i,...t.contexts}),s&&(t.level=s),a&&t.type!=="transaction"&&(t.transaction=a)}function CY(t,e){let r=[...t.breadcrumbs||[],...e];t.breadcrumbs=r.length?r:void 0}function AY(t,e){t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...e}}function OY(t,e){t.contexts={trace:pM(e),...t.contexts},t.sdkProcessingMetadata={dynamicSamplingContext:bM(e),...t.sdkProcessingMetadata};let r=Ou(e),o=da(r).description;o&&!t.transaction&&t.type==="transaction"&&(t.transaction=o)}function NY(t,e){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],e&&(t.fingerprint=t.fingerprint.concat(e)),t.fingerprint.length||delete t.fingerprint}var Pi,PM,CM,No;function AM(t){let e=ve._sentryDebugIds,r=ve._debugIds;if(!e&&!r)return{};let o=e?Object.keys(e):[],n=r?Object.keys(r):[];if(No&&o.length===PM&&n.length===CM)return No;PM=o.length,CM=n.length,No={},Pi||(Pi={});let i=(s,a)=>{for(let c of s){let u=a[c],l=Pi?.[c];if(l&&No&&u)No[l[0]]=u,Pi&&(Pi[c]=[l[0],u]);else if(u){let p=t(c);for(let g=p.length-1;g>=0;g--){let h=p[g]?.filename;if(h&&No&&Pi){No[h]=u,Pi[c]=[h,u];break}}}}};return e&&i(o,e),r&&i(n,r),No}function OM(t,e,r,o,n,i){let{normalizeDepth:s=3,normalizeMaxBreadth:a=1e3}=t,c={...e,event_id:e.event_id||r.event_id||Pt(),timestamp:e.timestamp||En()},u=r.integrations||t.integrations.map(_=>_.name);DY(c,t),jY(c,u),n&&n.emit("applyFrameMetadata",e),e.type===void 0&&MY(c,t.stackParser);let l=UY(o,r.captureContext);r.mechanism&&Sn(c,r.mechanism);let p=n?n.getEventProcessors():[],g=dh().getScopeData();if(i){let _=i.getScopeData();Qw(g,_)}if(l){let _=l.getScopeData();Qw(g,_)}let v=[...r.attachments||[],...g.attachments];v.length&&(r.attachments=v),RM(c,g);let h=[...p,...g.eventProcessors];return $M(h,c,r).then(_=>(_&&zY(_),typeof s=="number"&&s>0?LY(_,s,a):_))}function DY(t,e){let{environment:r,release:o,dist:n,maxValueLength:i}=e;t.environment=t.environment||r||pa,!t.release&&o&&(t.release=o),!t.dist&&n&&(t.dist=n);let s=t.request;s?.url&&i&&(s.url=sa(s.url,i)),i&&t.exception?.values?.forEach(a=>{a.value&&(a.value=sa(a.value,i))})}function MY(t,e){let r=AM(e);t.exception?.values?.forEach(o=>{o.stacktrace?.frames?.forEach(n=>{n.filename&&(n.debug_id=r[n.filename])})})}function zY(t){let e={};if(t.exception?.values?.forEach(o=>{o.stacktrace?.frames?.forEach(n=>{n.debug_id&&(n.abs_path?e[n.abs_path]=n.debug_id:n.filename&&(e[n.filename]=n.debug_id),delete n.debug_id)})}),Object.keys(e).length===0)return;t.debug_meta=t.debug_meta||{},t.debug_meta.images=t.debug_meta.images||[];let r=t.debug_meta.images;Object.entries(e).forEach(([o,n])=>{r.push({type:"sourcemap",code_file:o,debug_id:n})})}function jY(t,e){e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}function LY(t,e,r){if(!t)return null;let o={...t,...t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(n=>({...n,...n.data&&{data:Ur(n.data,e,r)}}))},...t.user&&{user:Ur(t.user,e,r)},...t.contexts&&{contexts:Ur(t.contexts,e,r)},...t.extra&&{extra:Ur(t.extra,e,r)}};return t.contexts?.trace&&o.contexts&&(o.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(o.contexts.trace.data=Ur(t.contexts.trace.data,e,r))),t.spans&&(o.spans=t.spans.map(n=>({...n,...n.data&&{data:Ur(n.data,e,r)}}))),t.contexts?.flags&&o.contexts&&(o.contexts.flags=Ur(t.contexts.flags,3,r)),o}function UY(t,e){if(!e)return t;let r=t?t.clone():new Mt;return r.update(e),r}function NM(t){if(t)return FY(t)?{captureContext:t}:WY(t)?{captureContext:t}:t}function FY(t){return t instanceof Mt||typeof t=="function"}var qY=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function WY(t){return Object.keys(t).some(e=>qY.includes(e))}function yh(t,e){return kn().captureException(t,NM(e))}function Du(t,e){return kn().captureEvent(t,e)}function Mu(t){let e=In(),r=kn(),{userAgent:o}=ve.navigator||{},n=KD({user:r.getUser()||e.getUser(),...o&&{userAgent:o},...t}),i=e.getSession();return i?.status==="ok"&&Kn(i,{status:"exited"}),vh(),e.setSession(n),n}function vh(){let t=In(),r=kn().getSession()||t.getSession();r&&JD(r),MM(),t.setSession()}function MM(){let t=In(),e=ot(),r=t.getSession();r&&e&&e.captureSession(r)}function zu(t=!1){if(t){vh();return}MM()}var ZY="7";function BY(t){let e=t.protocol?`${t.protocol}:`:"",r=t.port?`:${t.port}`:"";return`${e}//${t.host}${r}${t.path?`/${t.path}`:""}/api/`}function HY(t){return`${BY(t)}${t.projectId}/envelope/`}function VY(t,e){let r={sentry_version:ZY};return t.publicKey&&(r.sentry_key=t.publicKey),e&&(r.sentry_client=`${e.name}/${e.version}`),new URLSearchParams(r).toString()}function zM(t,e,r){return e||`${HY(t)}?${VY(t,r)}`}var jM=[];function LM(t,e){let r={};return e.forEach(o=>{o&&tx(t,o,r)}),r}function ex(t,e){for(let r of e)r?.afterAllSetup&&r.afterAllSetup(t)}function tx(t,e,r){if(r[e.name]){ce&&X.log(`Integration skipped because it was already installed: ${e.name}`);return}if(r[e.name]=e,!jM.includes(e.name)&&typeof e.setupOnce=="function"&&(e.setupOnce(),jM.push(e.name)),e.setup&&typeof e.setup=="function"&&e.setup(t),typeof e.preprocessEvent=="function"){let o=e.preprocessEvent.bind(e);t.on("preprocessEvent",(n,i)=>o(n,i,t))}if(typeof e.processEvent=="function"){let o=e.processEvent.bind(e),n=Object.assign((i,s)=>o(i,s,t),{id:e.name});t.addEventProcessor(n)}ce&&X.log(`Integration installed: ${e.name}`)}function GY(t){return[{type:"log",item_count:t.length,content_type:"application/vnd.sentry.items.log+json"},{items:t}]}function UM(t,e,r,o){let n={};return e?.sdk&&(n.sdk={name:e.sdk.name,version:e.sdk.version}),r&&o&&(n.dsn=Tn(o)),nn(n,[GY(t)])}function ju(t,e){let r=e??KY(t)??[];if(r.length===0)return;let o=t.getOptions(),n=UM(r,o._metadata,o.tunnel,t.getDsn());FM().set(t,[]),t.emit("flushLogs"),t.sendEnvelope(n)}function KY(t){return FM().get(t)}function FM(){return tn("clientToLogBufferMap",()=>new WeakMap)}function JY(t){return[{type:"trace_metric",item_count:t.length,content_type:"application/vnd.sentry.items.trace-metric+json"},{items:t}]}function qM(t,e,r,o){let n={};return e?.sdk&&(n.sdk={name:e.sdk.name,version:e.sdk.version}),r&&o&&(n.dsn=Tn(o)),nn(n,[JY(t)])}function Lu(t,e){let r=e??YY(t)??[];if(r.length===0)return;let o=t.getOptions(),n=qM(r,o._metadata,o.tunnel,t.getDsn());WM().set(t,[]),t.emit("flushMetrics"),t.sendEnvelope(n)}function YY(t){return WM().get(t)}function WM(){return tn("clientToMetricBufferMap",()=>new WeakMap)}var fa=Symbol.for("SentryBufferFullError");function Ci(t=100){let e=new Set;function r(){return e.size<t}function o(s){e.delete(s)}function n(s){if(!r())return Ri(fa);let a=s();return e.add(a),a.then(()=>o(a),()=>o(a)),a}function i(s){if(!e.size)return Oo(!0);let a=Promise.allSettled(Array.from(e)).then(()=>!0);if(!s)return a;let c=[a,new Promise(u=>setTimeout(()=>u(!1),s))];return Promise.race(c)}return{get $(){return Array.from(e)},add:n,drain:i}}function XY(t,e=Date.now()){let r=parseInt(`${t}`,10);if(!isNaN(r))return r*1e3;let o=Date.parse(`${t}`);return isNaN(o)?6e4:o-e}function QY(t,e){return t[e]||t.all||0}function ZM(t,e,r=Date.now()){return QY(t,e)>r}function BM(t,{statusCode:e,headers:r},o=Date.now()){let n={...t},i=r?.["x-sentry-rate-limits"],s=r?.["retry-after"];if(i)for(let a of i.trim().split(",")){let[c,u,,,l]=a.split(":",5),p=parseInt(c,10),g=(isNaN(p)?60:p)*1e3;if(!u)n.all=o+g;else for(let v of u.split(";"))v==="metric_bucket"?(!l||l.split(";").includes("custom"))&&(n[v]=o+g):n[v]=o+g}else s?n.all=o+XY(s,o):e===429&&(n.all=o+60*1e3);return n}var rx=64;function bh(t,e,r=Ci(t.bufferSize||rx)){let o={},n=s=>r.drain(s);function i(s){let a=[];if(Gw(s,(p,g)=>{let v=Kw(g);ZM(o,v)?t.recordDroppedEvent("ratelimit_backoff",v):a.push(p)}),a.length===0)return Promise.resolve({});let c=nn(s[0],a),u=p=>{Gw(c,(g,v)=>{t.recordDroppedEvent(p,Kw(v))})},l=()=>e({body:wM(c)}).then(p=>(p.statusCode!==void 0&&(p.statusCode<200||p.statusCode>=300)&&ce&&X.warn(`Sentry responded with status code ${p.statusCode} to sent event.`),o=BM(o,p),p),p=>{throw u("network_error"),ce&&X.error("Encountered error running transport request:",p),p});return r.add(l).then(p=>p,p=>{if(p===fa)return ce&&X.error("Skipped sending event because buffer is full."),u("queue_overflow"),Promise.resolve({});throw p})}return{send:i,flush:n}}function HM(t,e,r){let o=[{type:"client_report"},{timestamp:r||En(),discarded_events:t}];return nn(e?{dsn:e}:{},[o])}function _h(t){let e=[];t.message&&e.push(t.message);try{let r=t.exception.values[t.exception.values.length-1];r?.value&&(e.push(r.value),r.type&&e.push(`${r.type}: ${r.value}`))}catch{}return e}function VM(t){let{trace_id:e,parent_span_id:r,span_id:o,status:n,origin:i,data:s,op:a}=t.contexts?.trace??{};return{data:s??{},description:t.transaction,op:a,parent_span_id:r,span_id:o??"",start_timestamp:t.start_timestamp??0,status:n,timestamp:t.timestamp,trace_id:e??"",origin:i,profile_id:s?.[qw],exclusive_time:s?.[Ww],measurements:t.measurements,is_segment:!0}}function GM(t){return{type:"transaction",timestamp:t.timestamp,start_timestamp:t.start_timestamp,transaction:t.description,contexts:{trace:{trace_id:t.trace_id,span_id:t.span_id,parent_span_id:t.parent_span_id,op:t.op,status:t.status,origin:t.origin,data:{...t.data,...t.profile_id&&{[qw]:t.profile_id},...t.exclusive_time&&{[Ww]:t.exclusive_time}}}},measurements:t.measurements}}var KM="Not capturing exception because it's already been captured.",JM="Discarded session because of missing or non-string release",rz=Symbol.for("SentryInternalError"),nz=Symbol.for("SentryDoNotSendEventError"),e5=5e3;function wh(t){return{message:t,[rz]:!0}}function nx(t){return{message:t,[nz]:!0}}function YM(t){return!!t&&typeof t=="object"&&rz in t}function XM(t){return!!t&&typeof t=="object"&&nz in t}function QM(t,e,r,o,n){let i=0,s,a=!1;t.on(r,()=>{i=0,clearTimeout(s),a=!1}),t.on(e,c=>{i+=o(c),i>=8e5?n(t):a||(a=!0,s=setTimeout(()=>{n(t)},e5))}),t.on("flush",()=>{n(t)})}var Uu=class{constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],this._promiseBuffer=Ci(e.transportOptions?.bufferSize??rx),e.dsn?this._dsn=sM(e.dsn):ce&&X.warn("No DSN provided, client will not send events."),this._dsn){let o=zM(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:o})}this._options.enableLogs=this._options.enableLogs??this._options._experiments?.enableLogs,this._options.enableLogs&&QM(this,"afterCaptureLog","flushLogs",o5,ju),(this._options.enableMetrics??this._options._experiments?.enableMetrics??!0)&&QM(this,"afterCaptureMetric","flushMetrics",n5,Lu)}captureException(e,r,o){let n=Pt();if(ch(e))return ce&&X.log(KM),n;let i={event_id:n,...r};return this._process(()=>this.eventFromException(e,i).then(s=>this._captureEvent(s,i,o)).then(s=>s),"error"),i.event_id}captureMessage(e,r,o,n){let i={event_id:Pt(),...o},s=ia(e)?e:String(e),a=Co(e),c=a?this.eventFromMessage(s,r,i):this.eventFromException(e,i);return this._process(()=>c.then(u=>this._captureEvent(u,i,n)),a?"unknown":"error"),i.event_id}captureEvent(e,r,o){let n=Pt();if(r?.originalException&&ch(r.originalException))return ce&&X.log(KM),n;let i={event_id:n,...r},s=e.sdkProcessingMetadata||{},a=s.capturedSpanScope,c=s.capturedSpanIsolationScope,u=ez(e.type);return this._process(()=>this._captureEvent(e,i,a||o,c),u),i.event_id}captureSession(e){this.sendSession(e),Kn(e,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}async flush(e){let r=this._transport;if(!r)return!0;this.emit("flush");let o=await this._isClientDoneProcessing(e),n=await r.flush(e);return o&&n}async close(e){let r=await this.flush(e);return this.getOptions().enabled=!1,this.emit("close"),r}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some(({name:e})=>e.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){let r=this._integrations[e.name];tx(this,e,this._integrations),r||ex(this,[e])}sendEvent(e,r={}){this.emit("beforeSendEvent",e,r);let o=kM(e,this._dsn,this._options._metadata,this._options.tunnel);for(let n of r.attachments||[])o=_M(o,xM(n));this.sendEnvelope(o).then(n=>this.emit("afterSendEvent",e,n))}sendSession(e){let{release:r,environment:o=pa}=this._options;if("aggregates"in e){let i=e.attrs||{};if(!i.release&&!r){ce&&X.warn(JM);return}i.release=i.release||r,i.environment=i.environment||o,e.attrs=i}else{if(!e.release&&!r){ce&&X.warn(JM);return}e.release=e.release||r,e.environment=e.environment||o}this.emit("beforeSendSession",e);let n=EM(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(n)}recordDroppedEvent(e,r,o=1){if(this._options.sendClientReports){let n=`${e}:${r}`;ce&&X.log(`Recording outcome: "${n}"${o>1?` (${o} times)`:""}`),this._outcomes[n]=(this._outcomes[n]||0)+o}}on(e,r){let o=this._hooks[e]=this._hooks[e]||new Set,n=(...i)=>r(...i);return o.add(n),()=>{o.delete(n)}}emit(e,...r){let o=this._hooks[e];o&&o.forEach(n=>n(...r))}async sendEnvelope(e){if(this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport)try{return await this._transport.send(e)}catch(r){return ce&&X.error("Error while sending envelope:",r),{}}return ce&&X.error("Transport disabled"),{}}_setupIntegrations(){let{integrations:e}=this._options;this._integrations=LM(this,e),ex(this,e)}_updateSessionFromEvent(e,r){let o=r.level==="fatal",n=!1,i=r.exception?.values;if(i){n=!0,o=!1;for(let c of i)if(c.mechanism?.handled===!1){o=!0;break}}let s=e.status==="ok";(s&&e.errors===0||s&&o)&&(Kn(e,{...o&&{status:"crashed"},errors:e.errors||Number(n||o)}),this.captureSession(e))}async _isClientDoneProcessing(e){let r=0;for(;!e||r<e;){if(await new Promise(o=>setTimeout(o,1)),!this._numProcessing)return!0;r++}return!1}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(e,r,o,n){let i=this.getOptions(),s=Object.keys(this._integrations);return!r.integrations&&s?.length&&(r.integrations=s),this.emit("preprocessEvent",e,r),e.type||n.setLastEventId(e.event_id||r.event_id),OM(i,e,r,o,this,n).then(a=>{if(a===null)return a;this.emit("postprocessEvent",a,r),a.contexts={trace:jw(o),...a.contexts};let c=vM(this,o);return a.sdkProcessingMetadata={dynamicSamplingContext:c,...a.sdkProcessingMetadata},a})}_captureEvent(e,r={},o=kn(),n=In()){return ce&&ox(e)&&X.log(`Captured error event \`${_h(e)[0]||"<unknown>"}\``),this._processEvent(e,r,o,n).then(i=>i.event_id,i=>{ce&&(XM(i)?X.log(i.message):YM(i)?X.warn(i.message):X.warn(i))})}_processEvent(e,r,o,n){let i=this.getOptions(),{sampleRate:s}=i,a=oz(e),c=ox(e),l=`before send for type \`${e.type||"error"}\``,p=typeof s>"u"?void 0:aM(s);if(c&&typeof p=="number"&&Math.random()>p)return this.recordDroppedEvent("sample_rate","error"),Ri(nx(`Discarding event because it's not included in the random sample (sampling rate = ${s})`));let g=ez(e.type);return this._prepareEvent(e,r,o,n).then(v=>{if(v===null)throw this.recordDroppedEvent("event_processor",g),nx("An event processor returned `null`, will not send event.");if(r.data&&r.data.__sentry__===!0)return v;let b=r5(this,i,v,r);return t5(b,l)}).then(v=>{if(v===null){if(this.recordDroppedEvent("before_send",g),a){let w=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",w)}throw nx(`${l} returned \`null\`, will not send event.`)}let h=o.getSession()||n.getSession();if(c&&h&&this._updateSessionFromEvent(h,v),a){let _=v.sdkProcessingMetadata?.spanCountBeforeProcessing||0,w=v.spans?v.spans.length:0,T=_-w;T>0&&this.recordDroppedEvent("before_send","span",T)}let b=v.transaction_info;if(a&&b&&v.transaction!==e.transaction){let _="custom";v.transaction_info={...b,source:_}}return this.sendEvent(v,r),v}).then(null,v=>{throw XM(v)||YM(v)?v:(this.captureException(v,{mechanism:{handled:!1,type:"internal"},data:{__sentry__:!0},originalException:v}),wh(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${v}`))})}_process(e,r){this._numProcessing++,this._promiseBuffer.add(e).then(o=>(this._numProcessing--,o),o=>(this._numProcessing--,o===fa&&this.recordDroppedEvent("queue_overflow",r),o))}_clearOutcomes(){let e=this._outcomes;return this._outcomes={},Object.entries(e).map(([r,o])=>{let[n,i]=r.split(":");return{reason:n,category:i,quantity:o}})}_flushOutcomes(){ce&&X.log("Flushing outcomes...");let e=this._clearOutcomes();if(e.length===0){ce&&X.log("No outcomes to send");return}if(!this._dsn){ce&&X.log("No dsn provided, will not send outcomes");return}ce&&X.log("Sending outcomes:",e);let r=HM(e,this._options.tunnel&&Tn(this._dsn));this.sendEnvelope(r)}};function ez(t){return t==="replay_event"?"replay":t||"error"}function t5(t,e){let r=`${e} must return \`null\` or a valid event.`;if(wn(t))return t.then(o=>{if(!Gn(o)&&o!==null)throw wh(r);return o},o=>{throw wh(`${e} rejected with ${o}`)});if(!Gn(t)&&t!==null)throw wh(r);return t}function r5(t,e,r,o){let{beforeSend:n,beforeSendTransaction:i,beforeSendSpan:s,ignoreSpans:a}=e,c=r;if(ox(c)&&n)return n(c,o);if(oz(c)){if(s||a){let u=VM(c);if(a?.length&&Bw(u,a))return null;if(s){let l=s(u);l?c=Ao(r,GM(l)):Zw()}if(c.spans){let l=[],p=c.spans;for(let v of p){if(a?.length&&Bw(v,a)){gM(p,v);continue}if(s){let h=s(v);h?l.push(h):(Zw(),l.push(v))}else l.push(v)}let g=c.spans.length-l.length;g&&t.recordDroppedEvent("before_send","span",g),c.spans=l}}if(i){if(c.spans){let u=c.spans.length;c.sdkProcessingMetadata={...r.sdkProcessingMetadata,spanCountBeforeProcessing:u}}return i(c,o)}}return c}function ox(t){return t.type===void 0}function oz(t){return t.type==="transaction"}function n5(t){let e=0;return t.name&&(e+=t.name.length*2),e+=8,e+iz(t.attributes)}function o5(t){let e=0;return t.message&&(e+=t.message.length*2),e+iz(t.attributes)}function iz(t){if(!t)return 0;let e=0;return Object.values(t).forEach(r=>{Array.isArray(r)?e+=r.length*tz(r[0]):Co(r)?e+=tz(r):e+=100}),e}function tz(t){return typeof t=="string"?t.length*2:typeof t=="number"?8:typeof t=="boolean"?4:0}function Fu(t){if(!t)return{};let e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};let r=e[6]||"",o=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:r,hash:o,relative:e[5]+r+o}}function ix(t){"aggregates"in t?t.attrs?.ip_address===void 0&&(t.attrs={...t.attrs,ip_address:"{{auto}}"}):t.ipAddress===void 0&&(t.ipAddress="{{auto}}")}function sx(t,e,r=[e],o="npm"){let n=t._metadata||{};n.sdk||(n.sdk={name:`sentry.javascript.${e}`,packages:r.map(i=>({name:`${o}:@sentry/${i}`,version:bn})),version:bn}),t._metadata=n}var i5=100;function $n(t,e){let r=ot(),o=In();if(!r)return;let{beforeBreadcrumb:n=null,maxBreadcrumbs:i=i5}=r.getOptions();if(i<=0)return;let a={timestamp:En(),...t},c=n?Po(()=>n(a,e)):a;c!==null&&(r.emit&&r.emit("beforeAddBreadcrumb",c,e),o.addBreadcrumb(c,i))}var sz,s5="FunctionToString",az=new WeakMap,a5=()=>({name:s5,setupOnce(){sz=Function.prototype.toString;try{Function.prototype.toString=function(...t){let e=$i(this),r=az.has(ot())&&e!==void 0?e:this;return sz.apply(r,t)}}catch{}},setup(t){az.set(t,!0)}}),xh=a5;var c5=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],u5="EventFilters",ax=(t={})=>{let e;return{name:u5,setup(r){let o=r.getOptions();e=cz(t,o)},processEvent(r,o,n){if(!e){let i=n.getOptions();e=cz(t,i)}return l5(r,e)?null:r}}},Eh=(t={})=>({...ax(t),name:"InboundFilters"});function cz(t={},e={}){return{allowUrls:[...t.allowUrls||[],...e.allowUrls||[]],denyUrls:[...t.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...t.ignoreErrors||[],...e.ignoreErrors||[],...t.disableErrorDefaults?[]:c5],ignoreTransactions:[...t.ignoreTransactions||[],...e.ignoreTransactions||[]]}}function l5(t,e){if(t.type){if(t.type==="transaction"&&p5(t,e.ignoreTransactions))return ce&&X.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${xn(t)}`),!0}else{if(d5(t,e.ignoreErrors))return ce&&X.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${xn(t)}`),!0;if(g5(t))return ce&&X.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${xn(t)}`),!0;if(f5(t,e.denyUrls))return ce&&X.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${xn(t)}.
Url: ${Sh(t)}`),!0;if(!m5(t,e.allowUrls))return ce&&X.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${xn(t)}.
Url: ${Sh(t)}`),!0}return!1}function d5(t,e){return e?.length?_h(t).some(r=>ca(r,e)):!1}function p5(t,e){if(!e?.length)return!1;let r=t.transaction;return r?ca(r,e):!1}function f5(t,e){if(!e?.length)return!1;let r=Sh(t);return r?ca(r,e):!1}function m5(t,e){if(!e?.length)return!0;let r=Sh(t);return r?ca(r,e):!0}function h5(t=[]){for(let e=t.length-1;e>=0;e--){let r=t[e];if(r&&r.filename!=="<anonymous>"&&r.filename!=="[native code]")return r.filename||null}return null}function Sh(t){try{let r=[...t.exception?.values??[]].reverse().find(o=>o.mechanism?.parent_id===void 0&&o.stacktrace?.frames?.length)?.stacktrace?.frames;return r?h5(r):null}catch{return ce&&X.error(`Cannot extract url for event ${xn(t)}`),null}}function g5(t){return t.exception?.values?.length?!t.message&&!t.exception.values.some(e=>e.stacktrace||e.type&&e.type!=="Error"||e.value):!1}function ux(t,e,r,o,n,i){if(!n.exception?.values||!i||!rn(i.originalException,Error))return;let s=n.exception.values.length>0?n.exception.values[n.exception.values.length-1]:void 0;s&&(n.exception.values=cx(t,e,o,i.originalException,r,n.exception.values,s,0))}function cx(t,e,r,o,n,i,s,a){if(i.length>=r+1)return i;let c=[...i];if(rn(o[n],Error)){uz(s,a);let u=t(e,o[n]),l=c.length;lz(u,n,l,a),c=cx(t,e,r,o[n],n,[u,...c],u,l)}return Array.isArray(o.errors)&&o.errors.forEach((u,l)=>{if(rn(u,Error)){uz(s,a);let p=t(e,u),g=c.length;lz(p,`errors[${l}]`,g,a),c=cx(t,e,r,u,n,[p,...c],p,g)}}),c}function uz(t,e){t.mechanism={handled:!0,type:"auto.core.linked_errors",...t.mechanism,...t.type==="AggregateError"&&{is_exception_group:!0},exception_id:e}}function lz(t,e,r,o){t.mechanism={handled:!0,...t.mechanism,type:"chained",source:e,exception_id:r,parent_id:o}}function lx(t){let e="console";rr(e,t),nr(e,y5)}function y5(){"console"in ve&&gw.forEach(function(t){t in ve.console&&Rt(ve.console,t,function(e){return na[t]=e,function(...r){$t("console",{args:r,level:t}),na[t]?.apply(ve.console,r)}})})}function dx(t){return t==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(t)?t:"log"}var v5="Dedupe",b5=()=>{let t;return{name:v5,processEvent(e){if(e.type)return e;try{if(_5(e,t))return ce&&X.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return t=e}}},kh=b5;function _5(t,e){return e?!!(w5(t,e)||x5(t,e)):!1}function w5(t,e){let r=t.message,o=e.message;return!(!r&&!o||r&&!o||!r&&o||r!==o||!fz(t,e)||!pz(t,e))}function x5(t,e){let r=dz(e),o=dz(t);return!(!r||!o||r.type!==o.type||r.value!==o.value||!fz(t,e)||!pz(t,e))}function pz(t,e){let r=eh(t),o=eh(e);if(!r&&!o)return!0;if(r&&!o||!r&&o||(r=r,o=o,o.length!==r.length))return!1;for(let n=0;n<o.length;n++){let i=o[n],s=r[n];if(i.filename!==s.filename||i.lineno!==s.lineno||i.colno!==s.colno||i.function!==s.function)return!1}return!0}function fz(t,e){let r=t.fingerprint,o=e.fingerprint;if(!r&&!o)return!0;if(r&&!o||!r&&o)return!1;r=r,o=o;try{return r.join("")===o.join("")}catch{return!1}}function dz(t){return t.exception?.values?.[0]}function Ih(t){if(t!==void 0)return t>=400&&t<500?"warning":t>=500?"error":void 0}var qu=ve;function px(){return"history"in qu&&!!qu.history}function S5(){if(!("fetch"in qu))return!1;try{return new Headers,new Request("data:,"),new Response,!0}catch{return!1}}function Wu(t){return t&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function fx(){if(typeof EdgeRuntime=="string")return!0;if(!S5())return!1;if(Wu(qu.fetch))return!0;let t=!1,e=qu.document;if(e&&typeof e.createElement=="function")try{let r=e.createElement("iframe");r.hidden=!0,e.head.appendChild(r),r.contentWindow?.fetch&&(t=Wu(r.contentWindow.fetch)),e.head.removeChild(r)}catch(r){ce&&X.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return t}function hx(t,e){let r="fetch";rr(r,t),nr(r,()=>E5(void 0,e))}function E5(t,e=!1){e&&!fx()||Rt(ve,"fetch",function(r){return function(...o){let n=new Error,{method:i,url:s}=k5(o),a={args:o,fetchData:{method:i,url:s},startTimestamp:hr()*1e3,virtualError:n,headers:I5(o)};return t||$t("fetch",{...a}),r.apply(ve,o).then(async c=>(t?t(c):$t("fetch",{...a,endTimestamp:hr()*1e3,response:c}),c),c=>{if($t("fetch",{...a,endTimestamp:hr()*1e3,error:c}),Ii(c)&&c.stack===void 0&&(c.stack=n.stack,Ar(c,"framesToPop",1)),c instanceof TypeError&&(c.message==="Failed to fetch"||c.message==="Load failed"||c.message==="NetworkError when attempting to fetch resource."))try{let u=new URL(a.fetchData.url);c.message=`${c.message} (${u.host})`}catch{}throw c})}})}function mx(t,e){return!!t&&typeof t=="object"&&!!t[e]}function mz(t){return typeof t=="string"?t:t?mx(t,"url")?t.url:t.toString?t.toString():"":""}function k5(t){if(t.length===0)return{method:"GET",url:""};if(t.length===2){let[r,o]=t;return{url:mz(r),method:mx(o,"method")?String(o.method).toUpperCase():"GET"}}let e=t[0];return{url:mz(e),method:mx(e,"method")?String(e.method).toUpperCase():"GET"}}function I5(t){let[e,r]=t;try{if(typeof r=="object"&&r!==null&&"headers"in r&&r.headers)return new Headers(r.headers);if(WD(e))return new Headers(e.headers)}catch{}}function gx(){return"npm"}var ht=ve,yx=0;function vx(){return yx>0}function F5(){yx++,setTimeout(()=>{yx--})}function Ai(t,e={}){function r(n){return typeof n=="function"}if(!r(t))return t;try{let n=t.__sentry_wrapped__;if(n)return typeof n=="function"?n:t;if($i(t))return t}catch{return t}let o=function(...n){try{let i=n.map(s=>Ai(s,e));return t.apply(this,i)}catch(i){throw F5(),ph(s=>{s.addEventProcessor(a=>(e.mechanism&&(ua(a,void 0,void 0),Sn(a,e.mechanism)),a.extra={...a.extra,arguments:n},a)),yh(i)}),i}};try{for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&(o[n]=t[n])}catch{}ih(o,t),Ar(t,"__sentry_wrapped__",o);try{Object.getOwnPropertyDescriptor(o,"name").configurable&&Object.defineProperty(o,"name",{get(){return t.name}})}catch{}return o}function hz(){let t=Au(),{referrer:e}=ht.document||{},{userAgent:r}=ht.navigator||{},o={...e&&{Referer:e},...r&&{"User-Agent":r}};return{url:t,headers:o}}function Th(t,e){let r=wx(t,e),o={type:H5(e),value:V5(e)};return r.length&&(o.stacktrace={frames:r}),o.type===void 0&&o.value===""&&(o.value="Unrecoverable error caught"),o}function q5(t,e,r,o){let i=ot()?.getOptions().normalizeDepth,s=J5(e),a={__serialized__:hh(e,i)};if(s)return{exception:{values:[Th(t,s)]},extra:a};let c={exception:{values:[{type:Ti(e)?e.constructor.name:o?"UnhandledRejection":"Error",value:G5(e,{isUnhandledRejection:o})}]},extra:a};if(r){let u=wx(t,r);u.length&&(c.exception.values[0].stacktrace={frames:u})}return c}function bx(t,e){return{exception:{values:[Th(t,e)]}}}function wx(t,e){let r=e.stacktrace||e.stack||"",o=Z5(e),n=B5(e);try{return t(r,o,n)}catch{}return[]}var W5=/Minified React error #\d+;/i;function Z5(t){return t&&W5.test(t.message)?1:0}function B5(t){return typeof t.framesToPop=="number"?t.framesToPop:0}function gz(t){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?t instanceof WebAssembly.Exception:!1}function H5(t){let e=t?.name;return!e&&gz(t)?t.message&&Array.isArray(t.message)&&t.message.length==2?t.message[0]:"WebAssembly.Exception":e}function V5(t){let e=t?.message;return gz(t)?Array.isArray(t.message)&&t.message.length==2?t.message[1]:"wasm exception":e?e.error&&typeof e.error.message=="string"?e.error.message:e:"No error message"}function yz(t,e,r,o){let n=r?.syntheticException||void 0,i=$h(t,e,n,o);return Sn(i),i.level="error",r?.event_id&&(i.event_id=r.event_id),Oo(i)}function vz(t,e,r="info",o,n){let i=o?.syntheticException||void 0,s=_x(t,e,i,n);return s.level=r,o?.event_id&&(s.event_id=o.event_id),Oo(s)}function $h(t,e,r,o,n){let i;if(nh(e)&&e.error)return bx(t,e.error);if(oh(e)||kw(e)){let s=e;if("stack"in e)i=bx(t,e);else{let a=s.name||(oh(s)?"DOMError":"DOMException"),c=s.message?`${a}: ${s.message}`:a;i=_x(t,c,r,o),ua(i,c)}return"code"in s&&(i.tags={...i.tags,"DOMException.code":`${s.code}`}),i}return Ii(e)?bx(t,e):Gn(e)||Ti(e)?(i=q5(t,e,r,n),Sn(i,{synthetic:!0}),i):(i=_x(t,e,r,o),ua(i,`${e}`,void 0),Sn(i,{synthetic:!0}),i)}function _x(t,e,r,o){let n={};if(o&&r){let i=wx(t,r);i.length&&(n.exception={values:[{value:e,stacktrace:{frames:i}}]}),Sn(n,{synthetic:!0})}if(ia(e)){let{__sentry_template_string__:i,__sentry_template_values__:s}=e;return n.logentry={message:i,params:s},n}return n.message=e,n}function G5(t,{isUnhandledRejection:e}){let r=Cw(t),o=e?"promise rejection":"exception";return nh(t)?`Event \`ErrorEvent\` captured as ${o} with message \`${t.message}\``:Ti(t)?`Event \`${K5(t)}\` (type=${t.type}) captured as ${o}`:`Object captured as ${o} with keys: ${r}`}function K5(t){try{let e=Object.getPrototypeOf(t);return e?e.constructor.name:void 0}catch{}}function J5(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e)){let r=t[e];if(r instanceof Error)return r}}var Zu=class extends Uu{constructor(e){let r=Y5(e),o=ht.SENTRY_SDK_SOURCE||gx();sx(r,"browser",["browser"],o),r._metadata?.sdk&&(r._metadata.sdk.settings={infer_ip:r.sendDefaultPii?"auto":"never",...r._metadata.sdk.settings}),super(r);let{sendDefaultPii:n,sendClientReports:i,enableLogs:s,_experiments:a,enableMetrics:c}=this._options,u=c??a?.enableMetrics??!0;ht.document&&(i||s||u)&&ht.document.addEventListener("visibilitychange",()=>{ht.document.visibilityState==="hidden"&&(i&&this._flushOutcomes(),s&&ju(this),u&&Lu(this))}),n&&this.on("beforeSendSession",ix)}eventFromException(e,r){return yz(this._options.stackParser,e,r,this._options.attachStacktrace)}eventFromMessage(e,r="info",o){return vz(this._options.stackParser,e,r,o,this._options.attachStacktrace)}_prepareEvent(e,r,o,n){return e.platform=e.platform||"javascript",super._prepareEvent(e,r,o,n)}};function Y5(t){return{release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:ht.SENTRY_RELEASE?.id,sendClientReports:!0,parentSpanIsAlwaysRootSpan:!0,...t}}var bz=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;var Ct=ve;var X5=1e3,_z,xx,Sx;function Ex(t){let e="dom";rr(e,t),nr(e,Q5)}function Q5(){if(!Ct.document)return;let t=$t.bind(null,"dom"),e=wz(t,!0);Ct.document.addEventListener("click",e,!1),Ct.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(r=>{let n=Ct[r]?.prototype;n?.hasOwnProperty?.("addEventListener")&&(Rt(n,"addEventListener",function(i){return function(s,a,c){if(s==="click"||s=="keypress")try{let u=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},l=u[s]=u[s]||{refCount:0};if(!l.handler){let p=wz(t);l.handler=p,i.call(this,s,p,c)}l.refCount++}catch{}return i.call(this,s,a,c)}}),Rt(n,"removeEventListener",function(i){return function(s,a,c){if(s==="click"||s=="keypress")try{let u=this.__sentry_instrumentation_handlers__||{},l=u[s];l&&(l.refCount--,l.refCount<=0&&(i.call(this,s,l.handler,c),l.handler=void 0,delete u[s]),Object.keys(u).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return i.call(this,s,a,c)}}))})}function eX(t){if(t.type!==xx)return!1;try{if(!t.target||t.target._sentryId!==Sx)return!1}catch{}return!0}function tX(t,e){return t!=="keypress"?!1:e?.tagName?!(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable):!0}function wz(t,e=!1){return r=>{if(!r||r._sentryCaptured)return;let o=rX(r);if(tX(r.type,o))return;Ar(r,"_sentryCaptured",!0),o&&!o._sentryId&&Ar(o,"_sentryId",Pt());let n=r.type==="keypress"?"input":r.type;eX(r)||(t({event:r,name:n,global:e}),xx=r.type,Sx=o?o._sentryId:void 0),clearTimeout(_z),_z=Ct.setTimeout(()=>{Sx=void 0,xx=void 0},X5)}}function rX(t){try{return t.target}catch{return null}}var Rh;function Bu(t){let e="history";rr(e,t),nr(e,nX)}function nX(){if(Ct.addEventListener("popstate",()=>{let e=Ct.location.href,r=Rh;if(Rh=e,r===e)return;$t("history",{from:r,to:e})}),!px())return;function t(e){return function(...r){let o=r.length>2?r[2]:void 0;if(o){let n=Rh,i=oX(String(o));if(Rh=i,n===i)return e.apply(this,r);$t("history",{from:n,to:i})}return e.apply(this,r)}}Rt(Ct.history,"pushState",t),Rt(Ct.history,"replaceState",t)}function oX(t){try{return new URL(t,Ct.location.origin).toString()}catch{return t}}var Ph={};function kx(t){let e=Ph[t];if(e)return e;let r=Ct[t];if(Wu(r))return Ph[t]=r.bind(Ct);let o=Ct.document;if(o&&typeof o.createElement=="function")try{let n=o.createElement("iframe");n.hidden=!0,o.head.appendChild(n);let i=n.contentWindow;i?.[t]&&(r=i[t]),o.head.removeChild(n)}catch(n){bz&&X.warn(`Could not create sandbox iframe for ${t} check, bailing to window.${t}: `,n)}return r&&(Ph[t]=r.bind(Ct))}function Ix(t){Ph[t]=void 0}var Oi="__sentry_xhr_v3__";function Tx(t){let e="xhr";rr(e,t),nr(e,iX)}function iX(){if(!Ct.XMLHttpRequest)return;let t=XMLHttpRequest.prototype;t.open=new Proxy(t.open,{apply(e,r,o){let n=new Error,i=hr()*1e3,s=or(o[0])?o[0].toUpperCase():void 0,a=sX(o[1]);if(!s||!a)return e.apply(r,o);r[Oi]={method:s,url:a,request_headers:{}},s==="POST"&&a.match(/sentry_key/)&&(r.__sentry_own_request__=!0);let c=()=>{let u=r[Oi];if(u&&r.readyState===4){try{u.status_code=r.status}catch{}let l={endTimestamp:hr()*1e3,startTimestamp:i,xhr:r,virtualError:n};$t("xhr",l)}};return"onreadystatechange"in r&&typeof r.onreadystatechange=="function"?r.onreadystatechange=new Proxy(r.onreadystatechange,{apply(u,l,p){return c(),u.apply(l,p)}}):r.addEventListener("readystatechange",c),r.setRequestHeader=new Proxy(r.setRequestHeader,{apply(u,l,p){let[g,v]=p,h=l[Oi];return h&&or(g)&&or(v)&&(h.request_headers[g.toLowerCase()]=v),u.apply(l,p)}}),e.apply(r,o)}}),t.send=new Proxy(t.send,{apply(e,r,o){let n=r[Oi];if(!n)return e.apply(r,o);o[0]!==void 0&&(n.body=o[0]);let i={startTimestamp:hr()*1e3,xhr:r};return $t("xhr",i),e.apply(r,o)}})}function sX(t){if(or(t))return t;try{return t.toString()}catch{}}var aX=40;function $x(t,e=kx("fetch")){let r=0,o=0;async function n(i){let s=i.body.length;r+=s,o++;let a={body:i.body,method:"POST",referrerPolicy:"strict-origin",headers:t.headers,keepalive:r<=6e4&&o<15,...t.fetchOptions};try{let c=await e(t.url,a);return{statusCode:c.status,headers:{"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")}}}catch(c){throw Ix("fetch"),c}finally{r-=s,o--}}return bh(t,n,Ci(t.bufferSize||aX))}var ma=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;var cX=30;var uX=50;function Rx(t,e,r,o){let n={filename:t,function:e==="<anonymous>"?_n:e,in_app:!0};return r!==void 0&&(n.lineno=r),o!==void 0&&(n.colno=o),n}var lX=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,dX=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,pX=/\((\S*)(?::(\d+))(?::(\d+))\)/,fX=/at (.+?) ?\(data:(.+?),/,mX=t=>{let e=t.match(fX);if(e)return{filename:`<data:${e[2]}>`,function:e[1]};let r=lX.exec(t);if(r){let[,n,i,s]=r;return Rx(n,_n,+i,+s)}let o=dX.exec(t);if(o){if(o[2]&&o[2].indexOf("eval")===0){let a=pX.exec(o[2]);a&&(o[2]=a[1],o[3]=a[2],o[4]=a[3])}let[i,s]=kz(o[1]||_n,o[2]);return Rx(s,i,o[3]?+o[3]:void 0,o[4]?+o[4]:void 0)}},xz=[cX,mX],hX=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,gX=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,yX=t=>{let e=hX.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){let i=gX.exec(e[3]);i&&(e[1]=e[1]||"eval",e[3]=i[1],e[4]=i[2],e[5]="")}let o=e[3],n=e[1]||_n;return[n,o]=kz(n,o),Rx(o,n,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}},Sz=[uX,yX];var Ez=[xz,Sz],Px=_w(...Ez),kz=(t,e)=>{let r=t.indexOf("safari-extension")!==-1,o=t.indexOf("safari-web-extension")!==-1;return r||o?[t.indexOf("@")!==-1?t.split("@")[0]:_n,r?`safari-extension:${e}`:`safari-web-extension:${e}`]:[t,e]};var Ch=1024,vX="Breadcrumbs",bX=(t={})=>{let e={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...t};return{name:vX,setup(r){e.console&&lx(xX(r)),e.dom&&Ex(wX(r,e.dom)),e.xhr&&Tx(SX(r)),e.fetch&&hx(EX(r)),e.history&&Bu(kX(r)),e.sentry&&r.on("beforeSendEvent",_X(r))}}},Iz=bX;function _X(t){return function(r){ot()===t&&$n({category:`sentry.${r.type==="transaction"?"transaction":"event"}`,event_id:r.event_id,level:r.level,message:xn(r)},{event:r})}}function wX(t,e){return function(o){if(ot()!==t)return;let n,i,s=typeof e=="object"?e.serializeAttribute:void 0,a=typeof e=="object"&&typeof e.maxStringLength=="number"?e.maxStringLength:void 0;a&&a>Ch&&(ma&&X.warn(`\`dom.maxStringLength\` cannot exceed ${Ch}, but a value of ${a} was configured. Sentry will use ${Ch} instead.`),a=Ch),typeof s=="string"&&(s=[s]);try{let u=o.event,l=IX(u)?u.target:u;n=Cu(l,{keyAttrs:s,maxStringLength:a}),i=Pw(l)}catch{n="<unknown>"}if(n.length===0)return;let c={category:`ui.${o.name}`,message:n};i&&(c.data={"ui.component_name":i}),$n(c,{event:o.event,name:o.name,global:o.global})}}function xX(t){return function(r){if(ot()!==t)return;let o={category:"console",data:{arguments:r.args,logger:"console"},level:dx(r.level),message:ah(r.args," ")};if(r.level==="assert")if(r.args[0]===!1)o.message=`Assertion failed: ${ah(r.args.slice(1)," ")||"console.assert"}`,o.data.arguments=r.args.slice(1);else return;$n(o,{input:r.args,level:r.level})}}function SX(t){return function(r){if(ot()!==t)return;let{startTimestamp:o,endTimestamp:n}=r,i=r.xhr[Oi];if(!o||!n||!i)return;let{method:s,url:a,status_code:c,body:u}=i,l={method:s,url:a,status_code:c},p={xhr:r.xhr,input:u,startTimestamp:o,endTimestamp:n},g={category:"xhr",data:l,type:"http",level:Ih(c)};t.emit("beforeOutgoingRequestBreadcrumb",g,p),$n(g,p)}}function EX(t){return function(r){if(ot()!==t)return;let{startTimestamp:o,endTimestamp:n}=r;if(n&&!(r.fetchData.url.match(/sentry_key/)&&r.fetchData.method==="POST"))if(r.fetchData.method,r.fetchData.url,r.error){let i=r.fetchData,s={data:r.error,input:r.args,startTimestamp:o,endTimestamp:n},a={category:"fetch",data:i,level:"error",type:"http"};t.emit("beforeOutgoingRequestBreadcrumb",a,s),$n(a,s)}else{let i=r.response,s={...r.fetchData,status_code:i?.status};r.fetchData.request_body_size,r.fetchData.response_body_size,i?.status;let a={input:r.args,response:i,startTimestamp:o,endTimestamp:n},c={category:"fetch",data:s,type:"http",level:Ih(s.status_code)};t.emit("beforeOutgoingRequestBreadcrumb",c,a),$n(c,a)}}}function kX(t){return function(r){if(ot()!==t)return;let o=r.from,n=r.to,i=Fu(ht.location.href),s=o?Fu(o):void 0,a=Fu(n);s?.path||(s=i),i.protocol===a.protocol&&i.host===a.host&&(n=a.relative),i.protocol===s.protocol&&i.host===s.host&&(o=s.relative),$n({category:"navigation",data:{from:o,to:n}})}}function IX(t){return!!t&&!!t.target}var TX=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],$X="BrowserApiErrors",RX=(t={})=>{let e={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,unregisterOriginalCallbacks:!1,...t};return{name:$X,setupOnce(){e.setTimeout&&Rt(ht,"setTimeout",Tz),e.setInterval&&Rt(ht,"setInterval",Tz),e.requestAnimationFrame&&Rt(ht,"requestAnimationFrame",PX),e.XMLHttpRequest&&"XMLHttpRequest"in ht&&Rt(XMLHttpRequest.prototype,"send",CX);let r=e.eventTarget;r&&(Array.isArray(r)?r:TX).forEach(n=>AX(n,e))}}},$z=RX;function Tz(t){return function(...e){let r=e[0];return e[0]=Ai(r,{mechanism:{handled:!1,type:`auto.browser.browserapierrors.${Lr(t)}`}}),t.apply(this,e)}}function PX(t){return function(e){return t.apply(this,[Ai(e,{mechanism:{data:{handler:Lr(t)},handled:!1,type:"auto.browser.browserapierrors.requestAnimationFrame"}})])}}function CX(t){return function(...e){let r=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(n=>{n in r&&typeof r[n]=="function"&&Rt(r,n,function(i){let s={mechanism:{data:{handler:Lr(i)},handled:!1,type:`auto.browser.browserapierrors.xhr.${n}`}},a=$i(i);return a&&(s.mechanism.data.handler=Lr(a)),Ai(i,s)})}),t.apply(this,e)}}function AX(t,e){let o=ht[t]?.prototype;o?.hasOwnProperty?.("addEventListener")&&(Rt(o,"addEventListener",function(n){return function(i,s,a){try{OX(s)&&(s.handleEvent=Ai(s.handleEvent,{mechanism:{data:{handler:Lr(s),target:t},handled:!1,type:"auto.browser.browserapierrors.handleEvent"}}))}catch{}return e.unregisterOriginalCallbacks&&NX(this,i,s),n.apply(this,[i,Ai(s,{mechanism:{data:{handler:Lr(s),target:t},handled:!1,type:"auto.browser.browserapierrors.addEventListener"}}),a])}}),Rt(o,"removeEventListener",function(n){return function(i,s,a){try{let c=s.__sentry_wrapped__;c&&n.call(this,i,c,a)}catch{}return n.call(this,i,s,a)}}))}function OX(t){return typeof t.handleEvent=="function"}function NX(t,e,r){t&&typeof t=="object"&&"removeEventListener"in t&&typeof t.removeEventListener=="function"&&t.removeEventListener(e,r)}var Rz=()=>({name:"BrowserSession",setupOnce(){if(typeof ht.document>"u"){ma&&X.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}Mu({ignoreDuration:!0}),zu(),Bu(({from:t,to:e})=>{t!==void 0&&t!==e&&(Mu({ignoreDuration:!0}),zu())})}});var DX="GlobalHandlers",MX=(t={})=>{let e={onerror:!0,onunhandledrejection:!0,...t};return{name:DX,setupOnce(){Error.stackTraceLimit=50},setup(r){e.onerror&&(zX(r),Pz("onerror")),e.onunhandledrejection&&(jX(r),Pz("onunhandledrejection"))}}},Cz=MX;function zX(t){xw(e=>{let{stackParser:r,attachStacktrace:o}=Az();if(ot()!==t||vx())return;let{msg:n,url:i,line:s,column:a,error:c}=e,u=FX($h(r,c||n,void 0,o,!1),i,s,a);u.level="error",Du(u,{originalException:c,mechanism:{handled:!1,type:"auto.browser.global_handlers.onerror"}})})}function jX(t){Ew(e=>{let{stackParser:r,attachStacktrace:o}=Az();if(ot()!==t||vx())return;let n=LX(e),i=Co(n)?UX(n):$h(r,n,void 0,o,!0);i.level="error",Du(i,{originalException:n,mechanism:{handled:!1,type:"auto.browser.global_handlers.onunhandledrejection"}})})}function LX(t){if(Co(t))return t;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch{}return t}function UX(t){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(t)}`}]}}}function FX(t,e,r,o){let n=t.exception=t.exception||{},i=n.values=n.values||[],s=i[0]=i[0]||{},a=s.stacktrace=s.stacktrace||{},c=a.frames=a.frames||[],u=o,l=r,p=qX(e)??Au();return c.length===0&&c.push({colno:u,filename:p,function:_n,in_app:!0,lineno:l}),t}function Pz(t){ma&&X.log(`Global Handler attached: ${t}`)}function Az(){return ot()?.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}function qX(t){if(!(!or(t)||t.length===0)){if(t.startsWith("data:")){let e=t.match(/^data:([^;]+)/),r=e?e[1]:"text/javascript",o=t.includes("base64,");return`<data:${r}${o?",base64":""}>`}return t}}var Oz=()=>({name:"HttpContext",preprocessEvent(t){if(!ht.navigator&&!ht.location&&!ht.document)return;let e=hz(),r={...e.headers,...t.request?.headers};t.request={...e,...t.request,headers:r}}});var WX="cause",ZX=5,BX="LinkedErrors",HX=(t={})=>{let e=t.limit||ZX,r=t.key||WX;return{name:BX,preprocessEvent(o,n,i){let s=i.getOptions();ux(Th,s.stackParser,r,e,o,n)}}},Nz=HX;function Cx(t){return[Eh(),xh(),$z(),Iz(),Cz(),Nz(),kh(),Oz(),Rz()]}Ge();var VX="https://6aba381bd05a0752619f74dc2b78fdad@o33249.ingest.us.sentry.io/4510478603911168";function GX(t){let e=Cx({}).filter(n=>!["BrowserApiErrors","Breadcrumbs","GlobalHandlers"].includes(n.name)),r=new Zu({dsn:t,transport:$x,stackParser:Px,integrations:e}),o=new Mt;return o.setClient(r),r.init(),o}var ha=GX(VX);function Dz(t){return LP((e,r,o)=>{let n=t.clone();if(n.setLevel(r==="fatal"?"fatal":"error"),o.tags)for(let[i,s]of Object.entries(o.tags))n.setTag(i,s);if(o.extra)for(let[i,s]of Object.entries(o.extra))n.setExtra(i,s);n.captureException(e)})}Qe();Ge();var Oh=class{constructor(e){this.options=e;for(let r of $R){let o=MC(r,n=>{this.handleServerMessage(r,n)});this.serversByWorkerId.set(r,{handleRequest:n=>{let i=n;return nu({op:"codex.worker.request",name:`${r}.${i.method}`},()=>o.handleRequest(i))},handleCancel:n=>{o.handleCancel(n)}})}}serversByWorkerId=new Map;pending=new Map;knownWebviews=new Set;registerWebview(e){this.knownWebviews.add(e)}unregisterWebview(e){this.knownWebviews.delete(e),this.cleanupOrigin(e)}async handleMessage(e,r){this.registerWebview(e);let o=this.serversByWorkerId.get(r.workerId);if(o)switch(r.type){case"worker-request":{this.pending.set(this.createRequestKey(r.workerId,r.request.id),e),await o.handleRequest(r.request);return}case"worker-request-cancel":{this.pending.delete(this.createRequestKey(r.workerId,r.id)),o.handleCancel(r.id);return}}}createRequestKey(e,r){return`${e}:${String(r)}`}cleanupOrigin(e){for(let[r,o]of this.pending.entries()){if(o!==e)continue;this.pending.delete(r);let n=r.indexOf(":");if(n===-1)continue;let i=r.slice(0,n),s=r.slice(n+1),a=this.serversByWorkerId.get(i);a&&a.handleCancel(s)}}handleServerMessage(e,r){if(r.type==="worker-response"){let o=`${e}:${String(r.response.id)}`,n=this.pending.get(o);if(!n)return;this.pending.delete(o),this.options.postMessage(n,{type:"worker-response",workerId:e,response:r.response});return}this.knownWebviews.forEach(o=>{this.options.postMessage(o,{type:"worker-event",workerId:e,event:r.event})})}};To();var KX=5173,JX=`http://localhost:${KX}`,YX="/src/main.tsx",Mz=30,Uz="Codex",zz="CodexWebviewProvider.webview",Dh=class{currentPanel;currentPanelPromise;owner;title;constructor(e){this.title=e}},Ro=class t{constructor(e,r,o,n,i,s,a,c,u,l,p,g){this.extensionUri=e;this.codexMcpConnection=r;this.fetchWrapper=o;this.modelProxyManager=n;this.conversationSummaryProvider=i;this.chatSessionItemProvider=s;this.fetchCodexConfig=a;this.globalState=c;this.sharedObjectRepository=u;this.ipcClient=p;this.errorReporter=g;this.workerBusMessageHandler=new Oh({postMessage:(h,b)=>{this.postMessageToWebview(h,b)}}),this.datadogLogger=l,this.subscriptions.push(me.commands.registerCommand("chatgpt.implementTodo",async({line:h,fileName:b,comment:_})=>{await $o();let w={fileName:b,line:h,comment:_};this.sidebarView&&this.sidebarWebviewReady?this.postMessageToWebview(this.sidebarView.webview,{type:"implement-todo",...w}):this.pendingImplementTodo=w})),this.subscriptions.push(me.workspace.onDidChangeWorkspaceFolders(()=>{this.broadcastToAllViews({type:"active-workspace-roots-updated"})})),this.subscriptions.push(this.modelProxyManager.onDidChangeIsCopilotApiAvailable(()=>{this.broadcastToAllViews({type:"is-copilot-api-available-updated"})})),this.subscriptions.push({dispose:p.addAnyBroadcastHandler(async h=>{let b={type:"ipc-broadcast",method:h.method,sourceClientId:h.sourceClientId,version:h.version,params:h.params};this.broadcastToAllViews(b)})}),this.subscriptions.push(me.workspace.onDidChangeConfiguration(h=>{(h.affectsConfiguration("chat.fontSize")||h.affectsConfiguration("chat.editor.fontSize"))&&this.broadcastChatFontSettings()})),this.subscriptions.push(this.codexMcpConnection.registerProvider(zz,{onResult:h=>{this.deliverMcpResponseToOrigin(h)},onRequest:h=>{this.broadcastToAllViews({type:"mcp-request",request:h})},onNotification:h=>{let{method:b,params:_}=h;this.broadcastToAllViews({type:"mcp-notification",method:b,params:_})},onFatalError:(h,b)=>{this.logger.error(`Fatal error: ${h.message}`),this.fatalError=h,this.mostRecentErrorLog=b??null,this.errorReporter.reportFatal(h,{kind:"codex-app-server-fatal-error",extra:b?{codexCliErrorMessage:b}:void 0}),this.broadcastToAllViews({type:"codex-app-server-fatal-error",errorMessage:h.message,cliErrorMessage:b})}}));let v=this.sharedObjectRepository.addSubscriber((h,b)=>{this.broadcastToAllViews({type:"shared-object-updated",key:h,value:b})});this.subscriptions.push(me.Disposable.from({dispose:v})),this.newConversationFactory=new Xm(this.codexMcpConnection,this.modelProxyManager,this.fetchCodexConfig,this.sharedObjectRepository),this.subscriptions.push(this.newConversationFactory),this.previewLoader=new Ym(this.codexMcpConnection,this.globalState),this.ensureRestoredConversationTabsResolved()}static viewType="chatgpt.sidebarView";static panelViewType="chatgpt.panelView";static customEditorViewType="chatgpt.conversationEditor";logger=Qt("CodexWebviewProvider");sidebarView;sidebarWebviewReady=!1;editorPanels=new Map;subscriptions=[];pendingImplementTodo=null;pendingContextFiles=[];pendingNavigationRoutes=[];pendingMcpRequests=new Map;workerBusMessageHandler;focusedView;datadogLogger;newConversationFactory;previewLoader;fatalError=null;mostRecentErrorLog=null;diffPanel;settingsPanel;async resolveWebviewView(e,r,o){this.sidebarView=e;let{webview:n}=e;await this.initializeWebview(n,"sidebar"),this.subscriptions.push(e.onDidDispose(()=>{this.clearPendingMcpRequestsForWebview(n),this.workerBusMessageHandler.unregisterWebview(n),this.sidebarView=void 0,this.sidebarWebviewReady=!1,this.focusedView?.kind==="sidebar"&&(this.focusedView=this.getActivePanelFocusedView()??void 0)})),this.subscriptions.push(e.onDidChangeVisibility(()=>{me.commands.executeCommand("setContext","chatgpt.sidebarView.visible",e.visible),!e.visible&&this.focusedView?.kind==="sidebar"&&(this.focusedView=this.getActivePanelFocusedView()??void 0)}))}triggerNewChatViaWebview(){this.sidebarView&&this.sidebarWebviewReady&&this.postMessageToWebview(this.sidebarView.webview,{type:"new-chat"})}postMessageToWebview(e,r){e.postMessage(r)}openCustomDocument(e,r,o){return new Ox(e)}async resolveCustomEditor(e,r,o){let n=Wm(e.uri);if(n==null)throw new Error(`Invalid Codex conversation URI: ${e.uri.toString()}`);let{conversationId:i}=n;if(i==null)throw new Error(`Invalid Codex conversation URI: ${e.uri.toString()}`);let s={path:n.path,conversationId:i,history:null,overrides:null},a=null,c=null;try{let{summary:u}=await this.conversationSummaryProvider.getConversationSummary(i);a=u.preview,c=u.modelProvider}catch(u){this.logger.error(`Error fetching conversation summary: ${u}`)}r.title=jz(a),r.iconPath={light:me.Uri.joinPath(this.extensionUri,"resources","blossom-black.svg"),dark:me.Uri.joinPath(this.extensionUri,"resources","blossom-white.svg")},this.chatSessionItemProvider?.registerPendingConversation({conversationId:i,resource:e.uri,label:a??void 0,modelProvider:c},{markInProgress:!1,onlyIfMissing:!0}),this.editorPanels.set(r,{ready:!1,pendingMessages:[],resumeParams:s,initialRoute:`/local/${i}`}),this.registerOnDidDisposeForWebviewPanel(r,i),await this.initializeWebview(r.webview,"panel",()=>{this.onPanelReady(r)}),this.previewLoader.fetchConversationPreviews().then(u=>{let l=u.get(i);this.isPanelAlive(r)&&(r.title=jz(l))})}registerOnDidDisposeForWebviewPanel(e,r=null){this.subscriptions.push(e.onDidDispose(()=>{let o=this.getWebviewForPanel(e);this.clearPendingRequestsForWebview(o),o&&this.workerBusMessageHandler.unregisterWebview(o),this.removePanel(e),r&&this.chatSessionItemProvider?.clearPendingConversation(r),this.focusedView?.kind==="panel"&&this.focusedView.panel===e&&(this.focusedView=this.getActivePanelFocusedView()??(this.sidebarView?.visible?{kind:"sidebar"}:void 0))}))}addContextFile(e){let r={type:"add-context-file",file:e},o=this.focusedView;if(o?.kind==="panel"&&this.isPanelAlive(o.panel)){this.sendMessageToPanel(o.panel,r);return}this.sidebarView&&this.sidebarWebviewReady?this.postMessageToWebview(this.sidebarView.webview,r):this.pendingContextFiles.push(e)}navigateToRoute(e,r){let o={type:"navigate-to-route",path:e,state:r};this.sidebarView&&this.sidebarWebviewReady?this.postMessageToWebview(this.sidebarView.webview,o):this.pendingNavigationRoutes.push({path:e,state:r})}postMessageToSidebar(e){this.sidebarView&&this.postMessageToWebview(this.sidebarView.webview,e)}broadcastToAllViews(e,r){let o=this.sidebarView?.webview;o&&o!==r&&this.postMessageToSidebar(e),this.broadcastToPanels(e,r)}sendSharedObjectUpdate(e,r){if(!e)return;let o=this.sharedObjectRepository.get(r);this.postMessageToWebview(e,{type:"shared-object-updated",key:r,value:o})}removePanel(e){this.editorPanels.delete(e),this.diffPanel?.currentPanel===e&&(this.diffPanel=void 0),this.settingsPanel?.currentPanel===e&&(this.settingsPanel=void 0)}clearPendingRequestsForWebview(e){if(e)for(let[r,o]of this.pendingMcpRequests.entries())o===e&&this.pendingMcpRequests.delete(r)}getWebviewForPanel(e){if(e)try{return e.webview}catch{this.removePanel(e);return}}getPanelViewColumn(e){if(e)try{return e.viewColumn}catch{this.removePanel(e);return}}isPanelAlive(e){return!e||!this.editorPanels.has(e)?!1:this.getWebviewForPanel(e)!=null}setFocusedViewForWebview(e){if(this.sidebarView?.webview===e){this.focusedView={kind:"sidebar"};return}let r=this.findPanelByWebview(e);if(r){if(r===this.diffPanel)return;this.focusedView={kind:"panel",panel:r}}}findPanelByWebview(e){for(let r of Array.from(this.editorPanels.keys())){let o=this.getWebviewForPanel(r);if(o&&o===e)return r}}async initializeWebview(e,r,o){this.workerBusMessageHandler.registerWebview(e);let n=me.Uri.joinPath(this.extensionUri,"webview");e.options={enableScripts:!0,enableCommandUris:!1,localResourceRoots:[n]};let i=e.onDidReceiveMessage(s=>{if(s.type==="ready"){if(r==="sidebar"){if(this.sidebarWebviewReady=!0,this.pendingImplementTodo&&(this.postMessageToWebview(e,{type:"implement-todo",...this.pendingImplementTodo}),this.pendingImplementTodo=null),this.pendingContextFiles.length>0){for(let c of this.pendingContextFiles)this.postMessageToWebview(e,{type:"add-context-file",file:c});this.pendingContextFiles=[]}if(this.pendingNavigationRoutes.length>0){for(let{path:c,state:u}of this.pendingNavigationRoutes)this.postMessageToWebview(e,{type:"navigate-to-route",path:c,state:u});this.pendingNavigationRoutes=[]}}let a=this.getChatFontSettings();this.sendChatFontSettings(e,a),this.sendCustomPrompts(e),this.sendPersistedAtomState(e),o?.(),this.fatalError&&this.postMessageToWebview(e,{type:"codex-app-server-fatal-error",errorMessage:this.fatalError.message,cliErrorMessage:this.mostRecentErrorLog})}this.handleMessage(e,s)});this.subscriptions.push(i),e.html=await this.getWebviewContent(e)}onPanelReady(e){let r=this.editorPanels.get(e);if(!r)return;r.ready=!0;let o=this.getWebviewForPanel(e);if(!o)return;let n=r.pendingMessages;r.pendingMessages=[];for(let i of n)this.postMessageToWebview(o,i);r.resumeParams=null}sendMessageToPanel(e,r){let o=this.editorPanels.get(e);if(!o)return;let n=this.getWebviewForPanel(e);n&&(o.ready?this.postMessageToWebview(n,r):o.pendingMessages.push(r))}broadcastToPanels(e,r){for(let[o,n]of Array.from(this.editorPanels.entries())){let i=this.getWebviewForPanel(o);if(!(!i||i===r)){if(!n.ready){n.pendingMessages.push(e);continue}this.postMessageToWebview(i,e)}}}getChatFontSettings(){let e=me.workspace.getConfiguration("chat"),r=e.get("fontSize"),o=typeof r=="number"?r:null,n=e.get("editor.fontSize");return{chatFontSize:o,chatCodeFontSize:typeof n=="number"?n:null}}sendChatFontSettings(e,r){e&&this.postMessageToWebview(e,{type:"chat-font-settings",chatFontSize:r.chatFontSize,chatCodeFontSize:r.chatCodeFontSize})}broadcastChatFontSettings(){let e=this.getChatFontSettings();this.sendChatFontSettings(this.sidebarView?.webview,e);for(let r of Array.from(this.editorPanels.keys())){let o=this.getWebviewForPanel(r);this.sendChatFontSettings(o,e)}}async sendCustomPrompts(e){if(!e)return;let r=await pC({preferWsl:xt()});this.postMessageToWebview(e,{type:"custom-prompts-updated",prompts:r})}async readPersistedAtomState(){let e=await this.globalState.get(gt.PERSISTED_ATOM_STATE);return!e||typeof e!="object"?{}:e}async sendPersistedAtomState(e){let r=await this.readPersistedAtomState();this.postMessageToWebview(e,{type:"persisted-atom-sync",state:r})}async updatePersistedAtomState(e,r,o){let i={...await this.readPersistedAtomState()};r===void 0?delete i[e]:i[e]=r,await this.globalState.update(gt.PERSISTED_ATOM_STATE,i),this.broadcastPersistedAtomUpdate(e,r,o)}broadcastPersistedAtomUpdate(e,r,o){let n=r===void 0;this.broadcastToAllViews({type:"persisted-atom-updated",key:e,value:n?null:r,deleted:n},o)}async resetPersistedAtomState(e){await this.globalState.update(gt.PERSISTED_ATOM_STATE,{}),this.broadcastToAllViews({type:"persisted-atom-sync",state:{}},e)}getActivePanelFocusedView(){for(let e of Array.from(this.editorPanels.keys()))if(this.isPanelAlive(e)&&e.active)return{kind:"panel",panel:e}}async createEditorPanel(e){let r=me.Uri.joinPath(this.extensionUri,"webview"),o=me.window.createWebviewPanel(t.panelViewType,e?.title??Uz,{viewColumn:e?.viewColumn??me.window.activeTextEditor?.viewColumn??me.ViewColumn.Active,preserveFocus:e?.preserveFocus??!1},{enableScripts:!0,retainContextWhenHidden:!0,localResourceRoots:[r]});return this.editorPanels.set(o,{ready:!1,pendingMessages:[],initialRoute:e?.initialRoute}),this.registerOnDidDisposeForWebviewPanel(o),await this.initializeWebview(o.webview,"panel",()=>{this.onPanelReady(o)}),o}async ensurePrimaryEditorPanel(){return Array.from(this.editorPanels.keys()).find(r=>this.isPanelAlive(r))??this.createEditorPanel()}async ensurePanel(e,r,o){return this.isPanelAlive(r.currentPanel)?r.currentPanel:(r.currentPanelPromise||(r.owner=void 0,r.currentPanelPromise=(async()=>{try{let n=await this.createEditorPanel({viewColumn:o,title:r.title,initialRoute:e});return r.currentPanel=n,n}finally{r.currentPanelPromise=void 0}})()),r.currentPanelPromise)}async handleMessage(e,r){switch(r.type){case"ready":break;case"persisted-atom-sync-request":{await this.sendPersistedAtomState(e);break}case"persisted-atom-update":{await this.updatePersistedAtomState(r.key,r.deleted?void 0:r.value,e);break}case"persisted-atom-reset":{await this.resetPersistedAtomState(e);break}case"inbox-item-set-read-state":case"inbox-items-create":case"archive-thread":break;case"power-save-blocker-set":break;case"thread-stream-state-changed":{await this.ipcClient.sendBroadcast("thread-stream-state-changed",r);break}case"codex-app-server-restart":{me.commands.executeCommand("workbench.action.reloadWindow");break}case"view-focused":{this.setFocusedViewForWebview(e);break}case"electron-window-focus-request":break;case"mcp-request":{let{id:o,method:n,params:i}=r.request;this.pendingMcpRequests.set(String(o),e),this.codexMcpConnection.sendRequest(zz,String(o),n,i);break}case"mcp-notification":{let{method:o,params:n}=r.request;this.codexMcpConnection.sendNotification(o,n);break}case"mcp-response":{let{id:o,result:n}=r.response;this.codexMcpConnection.sendResponse(o,n);break}case"open-in-browser":{me.env.openExternal(me.Uri.parse(r.url));break}case"navigate-in-new-editor-tab":{let o=uw(r.path);me.commands.executeCommand("vscode.open",o);break}case"open-vscode-command":{me.commands.executeCommand(r.command,...r.args??[]);break}case"worker-request":case"worker-request-cancel":{await this.workerBusMessageHandler.handleMessage(e,r);break}case"open-extension-settings":{me.commands.executeCommand("workbench.action.openSettings","@ext:openai.chatgpt");break}case"open-keyboard-shortcuts":{me.commands.executeCommand("workbench.action.openGlobalKeybindings","chatgpt");break}case"open-config-toml":{let o=mt({preferWsl:xt()}),n=Lz.join(o,"config.toml");await Nh.promises.mkdir(o,{recursive:!0});try{await Nh.promises.access(n)}catch(i){let s=i;if("code"in s&&s.code==="ENOENT")await Nh.promises.writeFile(n,"");else throw i}await me.commands.executeCommand("vscode.open",me.Uri.file(n));break}case"set-telemetry-user":{let o=r.userId??void 0,n=r.email??void 0,i=o==null&&n==null?null:{id:o,email:n};this.datadogLogger.setUserInfo(i),ha.setUser(i);break}case"install-wsl":{try{ND()}catch(o){let n=o instanceof Error?o.message:JSON.stringify(o);this.logger.error(`Failed to run admin PowerShell command: ${n}`),me.window.showErrorMessage("Failed to launch elevated PowerShell. Check the Codex output log for details.")}break}case"show-diff":{this.showDiff({unifiedDiff:r.unifiedDiff,conversationId:r.conversationId},e);break}case"show-settings":{this.showSettings({section:r.section},e);break}case"update-diff-if-open":{this.isPanelAlive(this.diffPanel?.currentPanel)&&this.diffPanel?.owner===e&&this.sendMessageToPanel(this.diffPanel,{type:"navigate-to-route",path:"/diff",state:{unifiedDiff:r.unifiedDiff,conversationId:r.conversationId??null}});break}case"fetch":{let o=await this.fetchWrapper.fetch(r);this.postMessageToWebview(e,o);break}case"cancel-fetch":{this.fetchWrapper.cancel(r.requestId);break}case"fetch-stream":{this.fetchWrapper.stream(r,o=>{this.postMessageToWebview(e,o)});break}case"cancel-fetch-stream":{this.fetchWrapper.cancelStream(r.requestId);break}case"log-message":{let{level:o,message:n}=r;if(!fw(o))break;switch(o){case"trace":W().trace(n);break;case"debug":W().debug(n);break;case"info":W().info(n);break;case"warning":W().warn(n);break;case"error":W().error(n);break}this.datadogLogger.log(o,n);break}case"desktop-notification-show":case"desktop-notification-hide":break;case"shared-object-subscribe":{this.sendSharedObjectUpdate(e,r.key);break}case"shared-object-unsubscribe":break;case"shared-object-set":{this.sharedObjectRepository.set(r.key,r.value);break}case"terminal-create":case"terminal-attach":case"terminal-write":case"terminal-resize":case"terminal-close":break;case"electron-set-window-mode":break;case"electron-add-new-workspace-root-option":throw Error("electron-add-new-workspace-root-option is not supported by the extension");case"electron-update-workspace-root-options":throw Error("electron-update-workspace-root-options is not supported by the extension");case"electron-rename-workspace-root-option":throw Error("electron-rename-workspace-root-option is not supported by the extension");case"electron-set-active-workspace-root":throw Error("electron-set-active-workspace-root is not supported by the extension");case"electron-set-badge-count":break}}async getWebviewContent(e){return this.getWebviewContentProduction(e)}async getWebviewContentProduction(e){let r=me.Uri.joinPath(this.extensionUri,"webview"),o=me.Uri.joinPath(r,"index.html"),n=await me.workspace.fs.readFile(o),i=new TextDecoder("utf-8").decode(n),s=e.asWebviewUri(r).toString()+"/",a=Ax(s),c=["default-src 'none'",`img-src ${e.cspSource} https: data: blob:`,`script-src ${e.cspSource}`,`style-src ${e.cspSource} 'unsafe-inline'`,`font-src ${e.cspSource}`,`connect-src ${e.cspSource}`].join("; ")+";",u=Ax(c),l=i.replace("<!-- PROD_BASE_TAG_HERE -->",`<base href="${a}">`).replace("<!-- PROD_CSP_TAG_HERE -->",`<meta http-equiv="Content-Security-Policy" content="${u}">`),p=this.findPanelByWebview(e);if(p){let g=this.initialRouteMetaTag(p);g&&(l=l.replace("</head>",`${g}
</head>`))}return l}getWebviewContentDevelopment(e){let r=me.Uri.parse(JX).toString(),o="",n=this.findPanelByWebview(e);return n&&(o=this.initialRouteMetaTag(n)??""),`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <base href="${r}">
    ${o}

    <!-- Hot reloading code from Vite -->
    <script type="module">
        import RefreshRuntime from "/@react-refresh"
        RefreshRuntime.injectIntoGlobalHook(window)
        window.$RefreshReg$ = () => {}
        window.$RefreshSig$ = () => (type) => type
        window.__vite_plugin_react_preamble_installed__ = true
    </script>
    <script type="module" src="/@vite/client"></script>
    <script type="module" src="${YX}"></script>
    <script src="http://localhost:8097"></script>
</head>
<body tabindex="0" style="outline: none">
    <div id="root"></div>
</body>
</html>`}initialRouteMetaTag(e){let o=this.editorPanels.get(e)?.initialRoute??null;return o?`<meta name="initial-route" content="${Ax(o)}">`:null}dispose(){this.datadogLogger.flushNow(),this.subscriptions.forEach(e=>e.dispose()),this.isPanelAlive(this.diffPanel?.currentPanel)&&this.diffPanel.dispose(),this.isPanelAlive(this.settingsPanel?.currentPanel)&&(this.settingsPanel?.currentPanel).dispose(),this.diffPanel=void 0,this.settingsPanel=void 0,this.editorPanels.clear(),this.focusedView=void 0}async showDiff(e,r){this.diffPanel||(this.diffPanel=new Dh("Codex Diff")),this.showPanel("/diff",{unifiedDiff:e.unifiedDiff,conversationId:e.conversationId??null},this.diffPanel,r)}async showSettings(e,r){this.settingsPanel||(this.settingsPanel=new Dh("Codex Settings")),this.showPanel(`/settings/${e.section}`,e,this.settingsPanel,r)}async showPanel(e,r,o,n){let i=n??this.sidebarView?.webview;if(!i){let l=await this.ensurePrimaryEditorPanel(),p=this.getPanelViewColumn(l)??me.ViewColumn.Active,g=this.getWebviewForPanel(l),v=await this.ensurePanel(e,o,p),h=this.getPanelViewColumn(v)??this.getPanelViewColumn(l)??me.ViewColumn.Active;v.reveal(h),o.owner=g,this.sendMessageToPanel(v,{type:"navigate-to-route",path:e,state:r});return}let s=this.findPanelByWebview(i),a=this.getPanelViewColumn(s)??me.ViewColumn.Active,c=await this.ensurePanel(e,o,a),u=this.getPanelViewColumn(c)??this.getPanelViewColumn(s)??me.ViewColumn.Active;c.reveal(u),o.owner=i,this.sendMessageToPanel(c,{type:"navigate-to-route",path:e,state:r})}async createNewPanel(){let{response:e,modelProvider:r}=await this.newConversationFactory.createNewConversation(),o=e.thread.id,n=Zm(o),i=Date.now();this.chatSessionItemProvider?.registerPendingConversation({conversationId:o,resource:n,startedAt:i,modelProvider:r},{markInProgress:!1});let s=me.window.activeTextEditor?.viewColumn??me.ViewColumn.Active;try{await me.commands.executeCommand("vscode.openWith",n,t.customEditorViewType,{viewColumn:s,preserveFocus:!1,preview:!1})}catch(a){throw this.chatSessionItemProvider?.clearPendingConversation(o),a}}deliverMcpResponseToOrigin(e){let r=String(e.id),o=this.pendingMcpRequests.get(r);if(!o){this.logger.warn(`Received MCP response for unknown request id: ${r}`);return}this.pendingMcpRequests.delete(r),this.postMessageToWebview(o,{type:"mcp-response",message:{id:e.id,result:e.result,error:e.error}})}clearPendingMcpRequestsForWebview(e){for(let[r,o]of this.pendingMcpRequests.entries())o===e&&this.pendingMcpRequests.delete(r)}async ensureRestoredConversationTabsResolved(){for(let e of me.window.tabGroups.all)for(let r of e.tabs){let o=r.input,n=null;o instanceof me.TabInputCustom||o instanceof me.TabInputText?n=o.uri:n=null,n&&n.scheme===Qs&&me.commands.executeCommand("vscode.openWith",n,t.customEditorViewType,{preserveFocus:!0,preview:r.isPreview})}}},Ox=class{constructor(e){this.uri=e}dispose(){}};function Ax(t){return t.replace(/["<&]/g,e=>{switch(e){case'"':return"&quot;";case"<":return"&lt;";case"&":return"&amp;";default:return e}})}function jz(t){return t?t.length>Mz?t.substring(0,Mz)+"\u2026":t:Uz}Io();Qe();Ge();St();var Fz="ConversationSummaryProvider",Mh=class{constructor(e){this.codexMcpConnection=e;this.subscriptions.push(this.codexMcpConnection.registerProvider(Fz,{onResult:r=>{this.handleAppServerResponse(r)}}))}nextRequestId=1;subscriptions=[];pendingAppServerRequests=new Map;async getConversationSummary(e){let r=String(this.nextRequestId++),o=nd();this.pendingAppServerRequests.set(r,o);let n={conversationId:e};return this.codexMcpConnection.sendRequest(Fz,r,"getConversationSummary",n),o.promise}handleAppServerResponse(e){let{id:r,result:o,error:n}=e,i=String(r),s=this.pendingAppServerRequests.get(i);if(!s){W().warn(`Received app server response for unknown request id: ${i}`);return}this.pendingAppServerRequests.delete(i),n?s.reject(n):s.resolve(o)}dispose(){this.subscriptions.forEach(e=>e.dispose())}};Qe();Ge();var Ni=H(require("vscode"));St();var XX="gpt-5.1",zh=class{constructor(e){this.context=e;try{this.isCopilotModelProxyAvailable=Ni.lm.isModelProxyAvailable,Ni.lm.onDidChangeModelProxyAvailability(()=>{let r=Ni.lm.isModelProxyAvailable;r||(this.pendingProxy=null,this.proxy&&(this.proxy.dispose(),this.proxy=null)),this.isCopilotModelProxyAvailable!==r&&(this.isCopilotModelProxyAvailable=r,this.onDidChangeModelProxyAvailability.fire())})}catch{}}proxyAvailableSubscription=null;isCopilotModelProxyAvailable=!1;pendingProxy=null;proxy=null;onDidChangeModelProxyAvailability=new Ni.EventEmitter;onDidChangeIsCopilotApiAvailable=this.onDidChangeModelProxyAvailability.event;isProxyAvailable(){return this.isCopilotModelProxyAvailable}isUserUsingCopilotInference(){return this.isCopilotModelProxyAvailable&&this.context.globalState.get(gt.USE_COPILOT_AUTH_IF_AVAILABLE,!1)}getProxy(){if(!this.isUserUsingCopilotInference())return null;if(this.pendingProxy)return this.pendingProxy;try{W().info("Requesting Language Model Proxy from VS Code API");let e=Ni.lm.getModelProxy().then(r=>{if(W().info(`Language Model Proxy running on ${r.uri}`),e!==this.pendingProxy){if(r.dispose(),this.proxy)return this.proxy;throw new Error("Model proxy was disposed before it could be used.")}else return this.proxy=r,r},r=>{throw W().error(`Failed to get Language Model Proxy from VS Code API: ${r}`),this.pendingProxy=null,r});return this.pendingProxy=e,this.pendingProxy}catch{return null}}getModel(){return this.context.globalState.get(gt.COPILOT_DEFAULT_MODEL)??XX}dispose(){this.proxyAvailableSubscription?.dispose(),this.proxy?.dispose(),this.onDidChangeModelProxyAvailability.dispose()}};var ej=require("node:child_process"),tj=require("node:crypto"),Dx=require("node:fs"),qh=require("os"),Do=H(require("path"));Qe();Ge();var Ke=H(require("vscode"));Io();Qe();Ge();St();async function qz(t){try{let e=Tr({args:["git","rev-parse","--show-toplevel"],cwd:t}),{stdout:r,code:o}=await e.wait();if(o===0)return r.trim()}catch(e){W().warn("git rev-parse --show-toplevel failed: ",e),W().error(`getGitRoot: ${t} is not a git repository`)}return null}St();var Wz=H(require("fs"));Ge();var Di=H(require("vscode"));St();async function Zz(t,e=10){let r=Di.workspace.workspaceFolders??[];if(t.trim().length===0||r.length===0)return[];let o=QX(),n=r.map(s=>s.uri.fsPath);return(await WP(t,n,e,{rgPath:o,runCommand:e8})??[]).map(s=>({...s,path:Di.workspace.asRelativePath(s.fsPath).replace(/\\/g,"/")}))}function QX(){try{let t=Di.extensions.getExtension("openai.chatgpt");if(!t)return null;let e=process.platform==="win32"?"rg.exe":"rg",r=Vn(),o=Di.Uri.joinPath(t.extensionUri,r,e).fsPath;return Wz.existsSync(o)?o:null}catch{return null}}async function e8(t,e){let r=Tr({args:t,cwd:e}),{stdout:o,code:n}=await r.wait();return{stdout:o,code:n}}var Hz=require("child_process"),Lh=H(require("fs")),Uh=H(require("fs/promises")),Vz=H(require("os")),ga=H(require("path"));Ge();var t8=200*1024*1024;async function Gz(t,e){let r=r8(t),o=ga.basename(r)||"repo";await a8(r,t8);let n=await jh(r,["rev-parse","HEAD"]),i=await jh(r,["rev-parse","--abbrev-ref","HEAD"]),s=i&&i!=="HEAD"?i:null,a=await jh(r,["remote","-v"]),c=s8(a),u=`${o}-snapshot-${Date.now()}.tar.gz`,l=ga.join(Vz.tmpdir(),u);if(e)await o8(r,l,e);else{let g=await n8(r);await i8(r,l,g)}let p=await Uh.stat(l);return{tarballPath:l,tarballFilename:u,tarballSize:p.size,repoName:o,branch:s,snapshotBranch:e??s??n,commitSha:n,remotes:c,contentType:"application/gzip"}}async function Kz({tarballPath:t,uploadUrl:e,contentLength:r,contentType:o}){let n=Lh.createReadStream(t);try{let i=await fetch(e,{method:"PUT",headers:{"Content-Type":o,"Content-Length":r.toString(),"x-ms-blob-type":"BlockBlob"},body:n,duplex:"half"});if(!i.ok){let s=await i.text().catch(()=>"");throw new Error(`Snapshot upload failed with status ${i.status} ${i.statusText}${s?`: ${s}`:""}`)}}finally{n.destroy(),await Uh.unlink(t).catch(()=>{})}}function r8(t){let e=ga.resolve(t);if(!Lh.existsSync(e))throw new Error(`Git root does not exist: ${e}`);return e}async function Nx(t,e){let r=Tr({args:["git",...e],cwd:t}),{stdout:o,stderr:n,code:i}=await r.wait();return{stdout:o,stderr:n,code:i}}async function jh(t,e){let{stdout:r,stderr:o,code:n}=await Nx(t,e);if(n!==0){let i=o.trim()||r.trim();throw new Error(`git ${e.join(" ")} failed${i?`: ${i}`:""}`)}return r.trim()}async function n8(t){let{stdout:e,stderr:r,code:o}=await Nx(t,["ls-files","--cached","--others","--exclude-standard","-z"]);if(o!==0){let n=r.trim();throw new Error(`git ls-files failed${n?`: ${n}`:""}`)}return e?e.split("\0").map(n=>n.trim()).filter(n=>n.length>0):[]}async function o8(t,e,r){await Nx(t,["archive","--format=tar.gz","-o",e,r])}async function i8(t,e,r){await new Promise((o,n)=>{let s=(0,Hz.spawn)("tar",["--null","-czf",e,"-C",t,"--files-from","-"],{stdio:["pipe","ignore","pipe"]}),a="";if(s.stderr?.setEncoding("utf8"),s.stderr?.on("data",c=>{a+=c}),s.on("error",c=>n(c)),s.on("close",c=>{c===0?o():n(new Error(`tar exited with code ${c}${a?`: ${a.trim()}`:""}`))}),s.stdin){if(r.length>0){let c=`${r.join("\0")}\0`;s.stdin.write(c,"utf8",u=>{u&&n(u)})}s.stdin.end()}})}function s8(t){let e={};for(let r of t.split(/\r?\n/)){let o=r.trim();if(!o)continue;let n=o.split(/\s+/);if(n.length<3)continue;let[i,s,a]=n;a==="(push)"&&e[i]==null&&(e[i]=s)}return e}async function a8(t,e){let r=await jh(t,["count-objects","-v"]),o=c8(r),i=((o.get("size")??0)+(o.get("size-pack")??0))*1024;if(i>e)throw new Error(`Repository is too large (${Bz(i)}). Maximum allowed size is ${Bz(e)}.`)}function c8(t){let e=new Map;for(let r of t.split(/\r?\n/)){let o=r.trim();if(!o)continue;let[n,i]=o.split(":");if(!n||i==null)continue;let s=Number.parseInt(i.trim(),10);Number.isFinite(s)&&e.set(n,s)}return e}function Bz(t){if(t<1024)return`${t} B`;let e=["KB","MB","GB","TB"],r=t/1024,o=0;for(;r>=1024&&o<e.length-1;)r/=1024,o+=1;return`${r.toFixed(1)} ${e[o]}`}To();var Jz=(t,e)=>{let r=t.split(/[\\/]+/).filter(Boolean);return r.length===0?[]:e.flatMap(o=>{let n=Ke.Uri.joinPath(o.uri,...r),i=r.indexOf(o.name);if(i===-1)return[n];let s=Ke.Uri.joinPath(o.uri,...r.slice(i+1));return[n,s]})},Yz=()=>({preferWsl:xt()&&!Zn()}),Fh=class{constructor(e,r,o,n,i,s,a){this.authProvider=e;this.ideContextConnection=r;this.globalState=o;this.modelProxyManager=n;this.fetchCodexConfig=i;this.ipcClient=s;this.extensionUri=a}handlers={"active-workspace-roots":async()=>({roots:Ru()}),"workspace-root-options":async()=>({roots:Ru()}),"add-workspace-root-option":async()=>{throw new Error("add-workspace-root-option not supported in extension")},"electron-clone-workspace-repo":async()=>({success:!1,canceled:!1,error:"Not supported in extension."}),"codex-home":async()=>{let e=mt({preferWsl:xt()&&!Zn()});return{codexHome:e,worktreesSegment:Do.join(e,"worktrees")}},"has-custom-cli-executable":async()=>({hasCustomCliExecutable:(tr(bt.CLI_EXECUTABLE)??"").trim().length>0}),"account-info":async()=>{let e=await this.authProvider.getToken({refreshToken:!1});if(!e)return{accountId:null,userId:null,plan:null,email:null};try{let r=JSON.parse(Buffer.from(e.split(".")[1],"base64url").toString("utf8")),o=r["https://api.openai.com/auth"]??{},n=r["https://api.openai.com/profile"]??{},i=o?.chatgpt_account_id??null,s=o?.chatgpt_user_id??null,a=o?.chatgpt_plan_type??null,c=n.email??null;if(i&&s&&a)return{accountId:i,userId:s,plan:a,email:c}}catch{W().error("Unable to extract account id and plan from auth token.")}return{accountId:null,userId:null,plan:null,email:null}},"extension-info":async()=>({version:$u(),buildNumber:null,buildFlavor:null}),"locale-info":async()=>({ideLocale:Ke.env.language,systemLocale:Intl.DateTimeFormat().resolvedOptions().locale}),"os-info":async()=>({platform:process.platform,hasWsl:Bn()!=null,isVsCodeRunningInsideWsl:Zn()}),"child-processes":async()=>{try{return{processes:await uC(process.pid)}}catch(e){return W().warn(`Failed to list child processes: ${String(e)}`),{processes:[]}}},"openai-api-key":async()=>({value:process.env.OPENAI_API_KEY??null}),"recommended-skills":async({refresh:e})=>{let r=xt()&&!Zn();return Am({refresh:e,preferWsl:r})},"install-recommended-skill":async({skillId:e,repoPath:r,installRoot:o})=>{let n=xt()&&!Zn();try{let{destination:i}=await _C({skillId:e,repoPath:r,installRoot:o,preferWsl:n});return{success:!0,destination:i,error:null}}catch(i){let s=i instanceof Error?i.message:String(i);return W().warn(`Failed to install recommended skill: ${s}`),{success:!1,destination:null,error:s}}},"remove-skill":async({skillPath:e})=>{let r=xt()&&!Zn();try{let{deletedPath:o}=await xC({skillPath:e,preferWsl:r});return{success:!0,deletedPath:o,error:null}}catch(o){let n=o instanceof Error?o.message:String(o);return W().warn(`Failed to remove skill: ${n}`),{success:!1,deletedPath:null,error:n}}},"read-file":async({path:e})=>{let r=e.replace(/^([ab])[\\/]/,""),o=async a=>(await Ke.workspace.openTextDocument(a)).getText();if(Do.isAbsolute(r))try{return{contents:await o(Ke.Uri.file(r))}}catch{}let n=Array.from(Ke.workspace.workspaceFolders??[]),s=await Jz(r,n).reduce(async(a,c)=>{let u=await a;if(u!=null)return u;try{return await o(c)}catch{return null}},Promise.resolve(null));if(s!=null)return{contents:s};if(r.length>0)try{let a=`**/${r.replace(/\\/g,"/")}`,c=await Ke.workspace.findFiles(a,void 0,1);if(c.length>0)return{contents:await o(c[0])}}catch{}throw new Error(`Unable to read file: ${e}`)},"codex-agents-md":async()=>LR(Yz()),"codex-agents-md-save":async({contents:e})=>UR(e,Yz()),"generate-thread-title":async({prompt:e,cwd:r})=>{try{return{title:await l8({prompt:e,cwd:r??null,extensionUri:this.extensionUri})}}catch(o){return W().warn(`[generate-thread-title] Failed to generate title: ${String(o)}`),{title:null}}},"inbox-items":async()=>({items:[]}),"list-automations":async()=>({items:PP()}),"list-pending-automation-run-threads":async()=>({threadIds:SP()}),"list-pinned-threads":async()=>({threadIds:[]}),"set-thread-pinned":async()=>({success:!1}),"automation-create":async({name:e,prompt:r,cwds:o,rrule:n})=>{let i=CP({name:e,prompt:r,cwds:o,rrule:n});if(!i)throw new Error("Automations are not available in this host.");return{item:i}},"automation-update":async({id:e,name:r,prompt:o,status:n,cwds:i,rrule:s})=>{let a=AP({id:e,name:r,prompt:o,status:n,cwds:i,rrule:s});if(!a)throw new Error("Automation update failed.");return{item:a}},"automation-delete":async({id:e})=>({success:OP(e)}),"automation-run-now":async({id:e})=>{throw new Error("Automations are not available in this host.")},"find-files":async({query:e})=>({files:await Zz(e,10)??[]}),"local-environment":async()=>{throw new Error("local-environment is not supported in the extension")},"local-environment-config":async()=>{throw new Error("local-environment-config is not supported in the extension")},"local-environment-config-save":async()=>{throw new Error("local-environment-config-save is not supported in the extension")},"ide-context":async()=>({ideContext:this.ideContextConnection.getIdeContext()}),"ipc-request":async e=>await this.ipcClient.sendRequest(e.method,e.params,{targetClientId:e.targetClientId}),"mcp-codex-config":async()=>({config:await this.fetchCodexConfig?.()??null}),"apply-patch":async e=>{let r=xt();return Us(e,{resolveRoot:qz,preferWslPaths:r,convertWindowsPathToWslPath:Zt,convertWslPathToWindowsPath:kD})},"open-in-targets":async()=>{throw new Error("open-in-target not supported in extension")},"set-preferred-app":async()=>{throw new Error("open-in-target not supported in extension")},"open-file":async({path:e,line:r,column:o})=>{let n=typeof r=="number"?r:void 0,i=typeof o=="number"?o:1,s=e.replace(/^([ab])[\\/]/,""),a=Array.from(Ke.workspace.workspaceFolders??[]),c=async l=>{try{let p=await Ke.workspace.openTextDocument(l),g=n!=null?new Ke.Range(new Ke.Position(Math.max(0,n-1),Math.max(0,i-1)),new Ke.Position(Math.max(0,n-1),Math.max(0,i-1))):void 0;return await Ke.window.showTextDocument(p,{preview:!1,selection:g}),!0}catch{return!1}};if(Do.isAbsolute(s)){let l=await c(Ke.Uri.file(s));return l||W().error(`Failed to open absolute path: ${s}`),{success:l}}let u=!1;for(let l of Jz(s,a)){if(u)break;await c(l)&&(u=!0)}if(!u&&s.length>0)try{let l=`**/${s.replace(/\\/g,"/")}`,p=await Ke.workspace.findFiles(l,void 0,1);p.length>0&&(u=await c(p[0]))}catch{}if(!u){let l=a.map(p=>p.uri.fsPath).join(", ");W().error(`Failed to resolve and open file from path "${e}" (normalized: "${s}") in workspaces: [${l}]`)}return{success:u}},"git-origins":async({dirs:e}={})=>{let r=(0,qh.homedir)();return{origins:await R0(e||(Ke.workspace.workspaceFolders?.map(n=>n.uri.fsPath)??[])),homeDir:r}},"git-push":E0,"git-create-and-checkout-branch":k0,"gh-cli-status":R_,"gh-pr-create":U0,"gh-pr-status":j0,"git-merge-base":async({gitRoot:e,baseBranch:r})=>{let o=Ke.workspace.workspaceFolders??[],n=e??o[0]?.uri.fsPath;return n?{mergeBaseSha:await lu(n,r)}:{mergeBaseSha:null}},"prepare-worktree-snapshot":async({gitRoot:e,snapshotBranch:r})=>Gz(e,r),"upload-worktree-snapshot":async({tarballPath:e,uploadUrl:r,contentLength:o,contentType:n})=>{try{await Kz({tarballPath:e,uploadUrl:r,contentLength:o,contentType:n})}catch(i){return W().error(`Failed to upload worktree snapshot: ${i}`),{success:!1}}return{success:!0}},"get-configuration":async({key:e})=>({value:tr(e)}),"set-configuration":async({key:e,value:r})=>{try{await Hm(e,r)}catch{return W().error(`Failed to set configuration ${e}: ${r}`),{success:!1}}return{success:!0}},"get-global-state":async({key:e})=>({value:await this.globalState.get(e)}),"set-global-state":async({key:e,value:r})=>{try{return await this.globalState.update(e,r),{success:!0}}catch{return{success:!1}}},"set-vs-context":async({key:e,value:r})=>(await Ke.commands.executeCommand("setContext",e,r),{success:!0}),"is-copilot-api-available":()=>Promise.resolve({available:this.modelProxyManager.isProxyAvailable()}),"get-copilot-api-proxy-info":()=>{let e=this.modelProxyManager.getProxy();return e==null?Promise.resolve(null):e.then(r=>({baseUrl:r.uri.toString(),secret:r.key}))}};handleVSCodeRequest(e,r){return this.handlers[e](r)}},u8=3e4,Xz=2e3;async function l8({prompt:t,cwd:e,extensionUri:r}){let o=t.trim();if(o.length===0)return null;let n=o.length>Xz?o.slice(0,Xz):o,i=IC(n),s=Do.join((0,qh.tmpdir)(),`codex-thread-title-${(0,tj.randomUUID)()}`);try{await d8({extensionUri:r,cwd:e,prompt:i,outputPath:s});let a=await Dx.promises.readFile(s,"utf8");return TC(a)}finally{try{await Dx.promises.unlink(s)}catch{}}}async function d8({extensionUri:t,cwd:e,prompt:r,outputPath:o}){let n=["exec","-s","read-only","-m",EC,"-c",`model_reasoning_effort="${kC}"`,"--output-last-message",o,"-"],i=p8();if(xt()){let v=Bn();if(v==null)throw new Error("No eligible WSL distro found.");let h=Si(t,"linux"),b=Zt(h),_=Zt(o),w=e?Zt(e):void 0,T=Zt(Ke.Uri.joinPath(t,Vn("linux")).fsPath),P=f8(mt({preferWsl:!0})),D=[`PATH=${T}:$PATH`,`CODEX_HOME=${P}`,`CODEX_INTERNAL_ORIGINATOR_OVERRIDE=${Hn}`,"CODEX_NO_UPDATE=1","GIT_TERMINAL_PROMPT=0"];i.HTTP_PROXY&&D.push(`HTTP_PROXY=${i.HTTP_PROXY}`),i.HTTPS_PROXY&&D.push(`HTTPS_PROXY=${i.HTTPS_PROXY}`),i.NODE_TLS_REJECT_UNAUTHORIZED&&D.push(`NODE_TLS_REJECT_UNAUTHORIZED=${i.NODE_TLS_REJECT_UNAUTHORIZED}`);let q=["/usr/bin/env",...D,b,...n.map(Se=>Se===o?_:Se)],ge=Km(q),Ze=["-d",v];w&&Ze.push("--cd",w),Ze.push("--","/usr/bin/bash","-lc",ge),await Qz({command:"wsl.exe",args:Ze,cwd:void 0,env:{...process.env,...i,WSLENV:Vm()},input:r});return}let s=Si(t),a=process.platform==="win32"?";":":",c=Do.dirname(s),u=Ke.Uri.joinPath(t,Vn()).fsPath,p=[process.env.PATH??"",c,u].filter(v=>v&&v.length>0).filter((v,h,b)=>b.indexOf(v)===h).join(a),g=mt({preferWsl:xt()&&!Zn()});await Qz({command:s,args:n,cwd:e??void 0,env:{...process.env,...i,PATH:p,CODEX_HOME:g,CODEX_INTERNAL_ORIGINATOR_OVERRIDE:Hn,CODEX_NO_UPDATE:"1",GIT_TERMINAL_PROMPT:"0"},input:r})}async function Qz({command:t,args:e,cwd:r,env:o,input:n}){await new Promise((i,s)=>{let a=(0,ej.spawn)(t,e,{cwd:r,env:o,stdio:["pipe","ignore","pipe"]}),c=[],u=!1,l=setTimeout(()=>{u||a.kill()},u8);a.stderr?.on("data",p=>{c.push(p)}),a.on("error",p=>{u=!0,clearTimeout(l),s(p)}),a.on("close",p=>{if(u=!0,clearTimeout(l),p!==0){let g=Buffer.concat(c).toString("utf8").trim();s(new Error(g.length>0?`codex exec failed (code ${p}): ${g}`:`codex exec failed (code ${p})`));return}i()}),a.stdin&&(a.stdin.write(n),a.stdin.end())})}function p8(){let t=Ke.workspace.getConfiguration("http"),e=t.get("proxy"),r=t.get("proxyStrictSSL"),o={};return e&&e.trim().length>0&&(o.HTTP_PROXY=e,o.HTTPS_PROXY=e),r===!1&&(o.NODE_TLS_REJECT_UNAUTHORIZED="0"),o}function f8(t){return t.startsWith("/")?t:Zt(t)}var rj=H(require("fs/promises")),nj=H(require("path"));Qe();Ge();var oj=H(require("vscode"));St();To();var Wh=class{constructor(e){this.context=e}onDidUpdateEntryEmitter=new oj.EventEmitter;onDidUpdateEntry=this.onDidUpdateEntryEmitter.event;async get(e){let r=this.context.globalState.get(e);if(e===gt.HAS_PROBABLY_SEEN_2025_08_27_NUX&&r==null){let o=mt({preferWsl:xt()}),n=nj.join(o,"sessions"),i;try{i=(await rj.stat(n)).isDirectory(),i&&this.update(gt.HAS_PROBABLY_SEEN_2025_08_27_NUX,!0)}catch{i=!1}return i}return r}async update(e,r){await this.context.globalState.update(e,r),this.onDidUpdateEntryEmitter.fire({key:e,value:r})}async dumpNuxState(){let e=Object.entries(gt);for(let[r,o]of e){let n=this.context.globalState.get(o);W().info(`Global state ${r} (${o}): ${n}`)}}async resetNuxState(){W().info("Resetting NUX state"),await Promise.all(Object.values(gt).map(e=>this.context.globalState.update(e,void 0)))}dispose(){this.onDidUpdateEntryEmitter.dispose()}};Ge();var Jn=H(require("vscode")),m8=5,ij=2e5;function sj(t){return t.path.split("/").pop()??""}function h8(t){return{label:sj(t),path:Jn.workspace.asRelativePath(t.fsPath),fsPath:t.fsPath}}function Mx(t){return{label:sj(t.document.uri),path:Jn.workspace.asRelativePath(t.document.uri.fsPath),fsPath:t.document.uri.fsPath,selection:t.selection,activeSelectionContent:g8(t),selections:t.selections.map(e=>({start:e.start,end:e.end}))}}function g8(t){let{document:e,selection:r}=t,o=e.offsetAt(r.start),n=e.offsetAt(r.end);if(Math.max(n-o,0)<=ij)return e.getText(r);let s=e.positionAt(o+ij);return e.getText(new Jn.Range(r.start,s))}var Zh=class{disposable=new js;recentOpenTabs=[];ideContext={activeFile:void 0,openTabs:[]};constructor(){this.disposable.add(Jn.window.onDidChangeActiveTextEditor(e=>this.onChangeActiveTextEditor(e))),this.disposable.add(Jn.window.onDidChangeTextEditorSelection(e=>{this.onChangeTextEditorSelection(e)})),this.initIdeContext()}getIdeContext(){return this.ideContext}initIdeContext(){let e=Jn.window.activeTextEditor;e&&this.updateRecentOpenTabs(e),this.ideContext={activeFile:e?Mx(e):void 0,openTabs:[...this.recentOpenTabs]}}onChangeActiveTextEditor(e){e&&this.updateRecentOpenTabs(e),this.ideContext={...this.ideContext,activeFile:e?Mx(e):void 0,openTabs:[...this.recentOpenTabs]}}onChangeTextEditorSelection(e){e.textEditor.document.uri.scheme==="file"&&(this.ideContext={...this.ideContext,activeFile:Mx(e.textEditor),openTabs:[...this.recentOpenTabs]})}dispose(){this.disposable.dispose()}updateRecentOpenTabs(e){if(e.document.uri.scheme!=="file")return;let r=h8(e.document.uri);this.recentOpenTabs=[r,...this.recentOpenTabs.filter(o=>o.fsPath!==r.fsPath)].slice(0,m8)}};var Hu=H(require("node:path"));Ge();var cj=H(require("vscode")),Bh=class{constructor(e,r){this.ipcClient=e;this.ideContextConnection=r;this.disposables.add(this.ipcClient.addRequestHandler("ide-context",async({workspaceRoot:o})=>y8(o),async()=>({ideContext:this.ideContextConnection.getIdeContext()})))}disposables=new js;dispose(){this.disposables.dispose()}};function y8(t){return(cj.workspace.workspaceFolders?.map(r=>r.uri.fsPath)??[]).some(r=>v8(t,r))}function v8(t,e){if(!t||!e)return!1;let r=aj(t),o=aj(e);return r===o||r.startsWith(o.endsWith(Hu.sep)?o:`${o}${Hu.sep}`)}function aj(t){return Hu.normalize(t).toLowerCase()}ku();St();var Oe;(function(t){t.assertEqual=n=>{};function e(n){}t.assertIs=e;function r(n){throw new Error}t.assertNever=r,t.arrayToEnum=n=>{let i={};for(let s of n)i[s]=s;return i},t.getValidEnumValues=n=>{let i=t.objectKeys(n).filter(a=>typeof n[n[a]]!="number"),s={};for(let a of i)s[a]=n[a];return t.objectValues(s)},t.objectValues=n=>t.objectKeys(n).map(function(i){return n[i]}),t.objectKeys=typeof Object.keys=="function"?n=>Object.keys(n):n=>{let i=[];for(let s in n)Object.prototype.hasOwnProperty.call(n,s)&&i.push(s);return i},t.find=(n,i)=>{for(let s of n)if(i(s))return s},t.isInteger=typeof Number.isInteger=="function"?n=>Number.isInteger(n):n=>typeof n=="number"&&Number.isFinite(n)&&Math.floor(n)===n;function o(n,i=" | "){return n.map(s=>typeof s=="string"?`'${s}'`:s).join(i)}t.joinValues=o,t.jsonStringifyReplacer=(n,i)=>typeof i=="bigint"?i.toString():i})(Oe||(Oe={}));var uj;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(uj||(uj={}));var K=Oe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Yn=t=>{switch(typeof t){case"undefined":return K.undefined;case"string":return K.string;case"number":return Number.isNaN(t)?K.nan:K.number;case"boolean":return K.boolean;case"function":return K.function;case"bigint":return K.bigint;case"symbol":return K.symbol;case"object":return Array.isArray(t)?K.array:t===null?K.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?K.promise:typeof Map<"u"&&t instanceof Map?K.map:typeof Set<"u"&&t instanceof Set?K.set:typeof Date<"u"&&t instanceof Date?K.date:K.object;default:return K.unknown}};var M=Oe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);var Or=class t extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=o=>{this.issues=[...this.issues,o]},this.addIssues=(o=[])=>{this.issues=[...this.issues,...o]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){let r=e||function(i){return i.message},o={_errors:[]},n=i=>{for(let s of i.issues)if(s.code==="invalid_union")s.unionErrors.map(n);else if(s.code==="invalid_return_type")n(s.returnTypeError);else if(s.code==="invalid_arguments")n(s.argumentsError);else if(s.path.length===0)o._errors.push(r(s));else{let a=o,c=0;for(;c<s.path.length;){let u=s.path[c];c===s.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(r(s))):a[u]=a[u]||{_errors:[]},a=a[u],c++}}};return n(this),o}static assert(e){if(!(e instanceof t))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Oe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){let r=Object.create(null),o=[];for(let n of this.issues)if(n.path.length>0){let i=n.path[0];r[i]=r[i]||[],r[i].push(e(n))}else o.push(e(n));return{formErrors:o,fieldErrors:r}}get formErrors(){return this.flatten()}};Or.create=t=>new Or(t);var b8=(t,e)=>{let r;switch(t.code){case M.invalid_type:t.received===K.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case M.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,Oe.jsonStringifyReplacer)}`;break;case M.unrecognized_keys:r=`Unrecognized key(s) in object: ${Oe.joinValues(t.keys,", ")}`;break;case M.invalid_union:r="Invalid input";break;case M.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Oe.joinValues(t.options)}`;break;case M.invalid_enum_value:r=`Invalid enum value. Expected ${Oe.joinValues(t.options)}, received '${t.received}'`;break;case M.invalid_arguments:r="Invalid function arguments";break;case M.invalid_return_type:r="Invalid function return type";break;case M.invalid_date:r="Invalid date";break;case M.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:Oe.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case M.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case M.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case M.custom:r="Invalid input";break;case M.invalid_intersection_types:r="Intersection results could not be merged";break;case M.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case M.not_finite:r="Number must be finite";break;default:r=e.defaultError,Oe.assertNever(t)}return{message:r}},Mo=b8;var _8=Mo;function Vu(){return _8}var Hh=t=>{let{data:e,path:r,errorMaps:o,issueData:n}=t,i=[...r,...n.path||[]],s={...n,path:i};if(n.message!==void 0)return{...n,path:i,message:n.message};let a="",c=o.filter(u=>!!u).slice().reverse();for(let u of c)a=u(s,{data:e,defaultError:a}).message;return{...n,path:i,message:a}};function G(t,e){let r=Vu(),o=Hh({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===Mo?void 0:Mo].filter(n=>!!n)});t.common.issues.push(o)}var Vt=class t{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){let o=[];for(let n of r){if(n.status==="aborted")return le;n.status==="dirty"&&e.dirty(),o.push(n.value)}return{status:e.value,value:o}}static async mergeObjectAsync(e,r){let o=[];for(let n of r){let i=await n.key,s=await n.value;o.push({key:i,value:s})}return t.mergeObjectSync(e,o)}static mergeObjectSync(e,r){let o={};for(let n of r){let{key:i,value:s}=n;if(i.status==="aborted"||s.status==="aborted")return le;i.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof s.value<"u"||n.alwaysSet)&&(o[i.value]=s.value)}return{status:e.value,value:o}}},le=Object.freeze({status:"aborted"}),ya=t=>({status:"dirty",value:t}),ir=t=>({status:"valid",value:t}),zx=t=>t.status==="aborted",jx=t=>t.status==="dirty",Mi=t=>t.status==="valid",Gu=t=>typeof Promise<"u"&&t instanceof Promise;var Q;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(Q||(Q={}));var Fr=class{constructor(e,r,o,n){this._cachedPath=[],this.parent=e,this.data=r,this._path=o,this._key=n}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},lj=(t,e)=>{if(Mi(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new Or(t.common.issues);return this._error=r,this._error}}};function be(t){if(!t)return{};let{errorMap:e,invalid_type_error:r,required_error:o,description:n}=t;if(e&&(r||o))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:n}:{errorMap:(s,a)=>{let{message:c}=t;return s.code==="invalid_enum_value"?{message:c??a.defaultError}:typeof a.data>"u"?{message:c??o??a.defaultError}:s.code!=="invalid_type"?{message:a.defaultError}:{message:c??r??a.defaultError}},description:n}}var Ie=class{get description(){return this._def.description}_getType(e){return Yn(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Yn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Vt,ctx:{common:e.parent.common,data:e.data,parsedType:Yn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let r=this._parse(e);if(Gu(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){let r=this._parse(e);return Promise.resolve(r)}parse(e,r){let o=this.safeParse(e,r);if(o.success)return o.data;throw o.error}safeParse(e,r){let o={common:{issues:[],async:r?.async??!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Yn(e)},n=this._parseSync({data:e,path:o.path,parent:o});return lj(o,n)}"~validate"(e){let r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Yn(e)};if(!this["~standard"].async)try{let o=this._parseSync({data:e,path:[],parent:r});return Mi(o)?{value:o.value}:{issues:r.common.issues}}catch(o){o?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(o=>Mi(o)?{value:o.value}:{issues:r.common.issues})}async parseAsync(e,r){let o=await this.safeParseAsync(e,r);if(o.success)return o.data;throw o.error}async safeParseAsync(e,r){let o={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Yn(e)},n=this._parse({data:e,path:o.path,parent:o}),i=await(Gu(n)?n:Promise.resolve(n));return lj(o,i)}refine(e,r){let o=n=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(n):r;return this._refinement((n,i)=>{let s=e(n),a=()=>i.addIssue({code:M.custom,...o(n)});return typeof Promise<"u"&&s instanceof Promise?s.then(c=>c?!0:(a(),!1)):s?!0:(a(),!1)})}refinement(e,r){return this._refinement((o,n)=>e(o)?!0:(n.addIssue(typeof r=="function"?r(o,n):r),!1))}_refinement(e){return new sn({schema:this,typeName:U.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return on.create(this,this._def)}nullable(){return eo.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return jo.create(this)}promise(){return zi.create(this,this._def)}or(e){return xa.create([this,e],this._def)}and(e){return Sa.create(this,e,this._def)}transform(e){return new sn({...be(this._def),schema:this,typeName:U.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let r=typeof e=="function"?e:()=>e;return new $a({...be(this._def),innerType:this,defaultValue:r,typeName:U.ZodDefault})}brand(){return new Vh({typeName:U.ZodBranded,type:this,...be(this._def)})}catch(e){let r=typeof e=="function"?e:()=>e;return new Ra({...be(this._def),innerType:this,catchValue:r,typeName:U.ZodCatch})}describe(e){let r=this.constructor;return new r({...this._def,description:e})}pipe(e){return Gh.create(this,e)}readonly(){return Pa.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},w8=/^c[^\s-]{8,}$/i,x8=/^[0-9a-z]+$/,S8=/^[0-9A-HJKMNP-TV-Z]{26}$/i,E8=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,k8=/^[a-z0-9_-]{21}$/i,I8=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,T8=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,$8=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,R8="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",Lx,P8=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,C8=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,A8=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,O8=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,N8=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,D8=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,dj="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",M8=new RegExp(`^${dj}$`);function pj(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);let r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function z8(t){return new RegExp(`^${pj(t)}$`)}function j8(t){let e=`${dj}T${pj(t)}`,r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function L8(t,e){return!!((e==="v4"||!e)&&P8.test(t)||(e==="v6"||!e)&&A8.test(t))}function U8(t,e){if(!I8.test(t))return!1;try{let[r]=t.split(".");if(!r)return!1;let o=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),n=JSON.parse(atob(o));return!(typeof n!="object"||n===null||"typ"in n&&n?.typ!=="JWT"||!n.alg||e&&n.alg!==e)}catch{return!1}}function F8(t,e){return!!((e==="v4"||!e)&&C8.test(t)||(e==="v6"||!e)&&O8.test(t))}var ba=class t extends Ie{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==K.string){let i=this._getOrReturnCtx(e);return G(i,{code:M.invalid_type,expected:K.string,received:i.parsedType}),le}let o=new Vt,n;for(let i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(n=this._getOrReturnCtx(e,n),G(n,{code:M.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),o.dirty());else if(i.kind==="max")e.data.length>i.value&&(n=this._getOrReturnCtx(e,n),G(n,{code:M.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),o.dirty());else if(i.kind==="length"){let s=e.data.length>i.value,a=e.data.length<i.value;(s||a)&&(n=this._getOrReturnCtx(e,n),s?G(n,{code:M.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&G(n,{code:M.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),o.dirty())}else if(i.kind==="email")$8.test(e.data)||(n=this._getOrReturnCtx(e,n),G(n,{validation:"email",code:M.invalid_string,message:i.message}),o.dirty());else if(i.kind==="emoji")Lx||(Lx=new RegExp(R8,"u")),Lx.test(e.data)||(n=this._getOrReturnCtx(e,n),G(n,{validation:"emoji",code:M.invalid_string,message:i.message}),o.dirty());else if(i.kind==="uuid")E8.test(e.data)||(n=this._getOrReturnCtx(e,n),G(n,{validation:"uuid",code:M.invalid_string,message:i.message}),o.dirty());else if(i.kind==="nanoid")k8.test(e.data)||(n=this._getOrReturnCtx(e,n),G(n,{validation:"nanoid",code:M.invalid_string,message:i.message}),o.dirty());else if(i.kind==="cuid")w8.test(e.data)||(n=this._getOrReturnCtx(e,n),G(n,{validation:"cuid",code:M.invalid_string,message:i.message}),o.dirty());else if(i.kind==="cuid2")x8.test(e.data)||(n=this._getOrReturnCtx(e,n),G(n,{validation:"cuid2",code:M.invalid_string,message:i.message}),o.dirty());else if(i.kind==="ulid")S8.test(e.data)||(n=this._getOrReturnCtx(e,n),G(n,{validation:"ulid",code:M.invalid_string,message:i.message}),o.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{n=this._getOrReturnCtx(e,n),G(n,{validation:"url",code:M.invalid_string,message:i.message}),o.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),G(n,{validation:"regex",code:M.invalid_string,message:i.message}),o.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(n=this._getOrReturnCtx(e,n),G(n,{code:M.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),o.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(n=this._getOrReturnCtx(e,n),G(n,{code:M.invalid_string,validation:{startsWith:i.value},message:i.message}),o.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(n=this._getOrReturnCtx(e,n),G(n,{code:M.invalid_string,validation:{endsWith:i.value},message:i.message}),o.dirty()):i.kind==="datetime"?j8(i).test(e.data)||(n=this._getOrReturnCtx(e,n),G(n,{code:M.invalid_string,validation:"datetime",message:i.message}),o.dirty()):i.kind==="date"?M8.test(e.data)||(n=this._getOrReturnCtx(e,n),G(n,{code:M.invalid_string,validation:"date",message:i.message}),o.dirty()):i.kind==="time"?z8(i).test(e.data)||(n=this._getOrReturnCtx(e,n),G(n,{code:M.invalid_string,validation:"time",message:i.message}),o.dirty()):i.kind==="duration"?T8.test(e.data)||(n=this._getOrReturnCtx(e,n),G(n,{validation:"duration",code:M.invalid_string,message:i.message}),o.dirty()):i.kind==="ip"?L8(e.data,i.version)||(n=this._getOrReturnCtx(e,n),G(n,{validation:"ip",code:M.invalid_string,message:i.message}),o.dirty()):i.kind==="jwt"?U8(e.data,i.alg)||(n=this._getOrReturnCtx(e,n),G(n,{validation:"jwt",code:M.invalid_string,message:i.message}),o.dirty()):i.kind==="cidr"?F8(e.data,i.version)||(n=this._getOrReturnCtx(e,n),G(n,{validation:"cidr",code:M.invalid_string,message:i.message}),o.dirty()):i.kind==="base64"?N8.test(e.data)||(n=this._getOrReturnCtx(e,n),G(n,{validation:"base64",code:M.invalid_string,message:i.message}),o.dirty()):i.kind==="base64url"?D8.test(e.data)||(n=this._getOrReturnCtx(e,n),G(n,{validation:"base64url",code:M.invalid_string,message:i.message}),o.dirty()):Oe.assertNever(i);return{status:o.value,value:e.data}}_regex(e,r,o){return this.refinement(n=>e.test(n),{validation:r,code:M.invalid_string,...Q.errToObj(o)})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Q.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Q.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Q.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Q.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Q.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Q.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Q.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Q.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Q.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Q.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Q.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Q.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Q.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...Q.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...Q.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...Q.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...Q.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...Q.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...Q.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...Q.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...Q.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...Q.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...Q.errToObj(r)})}nonempty(e){return this.min(1,Q.errToObj(e))}trim(){return new t({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new t({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new t({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};ba.create=t=>new ba({checks:[],typeName:U.ZodString,coerce:t?.coerce??!1,...be(t)});function q8(t,e){let r=(t.toString().split(".")[1]||"").length,o=(e.toString().split(".")[1]||"").length,n=r>o?r:o,i=Number.parseInt(t.toFixed(n).replace(".","")),s=Number.parseInt(e.toFixed(n).replace(".",""));return i%s/10**n}var Ku=class t extends Ie{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==K.number){let i=this._getOrReturnCtx(e);return G(i,{code:M.invalid_type,expected:K.number,received:i.parsedType}),le}let o,n=new Vt;for(let i of this._def.checks)i.kind==="int"?Oe.isInteger(e.data)||(o=this._getOrReturnCtx(e,o),G(o,{code:M.invalid_type,expected:"integer",received:"float",message:i.message}),n.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(o=this._getOrReturnCtx(e,o),G(o,{code:M.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(o=this._getOrReturnCtx(e,o),G(o,{code:M.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty()):i.kind==="multipleOf"?q8(e.data,i.value)!==0&&(o=this._getOrReturnCtx(e,o),G(o,{code:M.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(o=this._getOrReturnCtx(e,o),G(o,{code:M.not_finite,message:i.message}),n.dirty()):Oe.assertNever(i);return{status:n.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,Q.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Q.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Q.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Q.toString(r))}setLimit(e,r,o,n){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:o,message:Q.toString(n)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Q.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Q.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Q.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Q.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Q.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Q.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:Q.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Q.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Q.toString(e)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Oe.isInteger(e.value))}get isFinite(){let e=null,r=null;for(let o of this._def.checks){if(o.kind==="finite"||o.kind==="int"||o.kind==="multipleOf")return!0;o.kind==="min"?(r===null||o.value>r)&&(r=o.value):o.kind==="max"&&(e===null||o.value<e)&&(e=o.value)}return Number.isFinite(r)&&Number.isFinite(e)}};Ku.create=t=>new Ku({checks:[],typeName:U.ZodNumber,coerce:t?.coerce||!1,...be(t)});var Ju=class t extends Ie{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==K.bigint)return this._getInvalidInput(e);let o,n=new Vt;for(let i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(o=this._getOrReturnCtx(e,o),G(o,{code:M.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(o=this._getOrReturnCtx(e,o),G(o,{code:M.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(o=this._getOrReturnCtx(e,o),G(o,{code:M.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):Oe.assertNever(i);return{status:n.value,value:e.data}}_getInvalidInput(e){let r=this._getOrReturnCtx(e);return G(r,{code:M.invalid_type,expected:K.bigint,received:r.parsedType}),le}gte(e,r){return this.setLimit("min",e,!0,Q.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Q.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Q.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Q.toString(r))}setLimit(e,r,o,n){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:o,message:Q.toString(n)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Q.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Q.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Q.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Q.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Q.toString(r)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};Ju.create=t=>new Ju({checks:[],typeName:U.ZodBigInt,coerce:t?.coerce??!1,...be(t)});var Yu=class extends Ie{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==K.boolean){let o=this._getOrReturnCtx(e);return G(o,{code:M.invalid_type,expected:K.boolean,received:o.parsedType}),le}return ir(e.data)}};Yu.create=t=>new Yu({typeName:U.ZodBoolean,coerce:t?.coerce||!1,...be(t)});var Xu=class t extends Ie{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==K.date){let i=this._getOrReturnCtx(e);return G(i,{code:M.invalid_type,expected:K.date,received:i.parsedType}),le}if(Number.isNaN(e.data.getTime())){let i=this._getOrReturnCtx(e);return G(i,{code:M.invalid_date}),le}let o=new Vt,n;for(let i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(n=this._getOrReturnCtx(e,n),G(n,{code:M.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),o.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(n=this._getOrReturnCtx(e,n),G(n,{code:M.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),o.dirty()):Oe.assertNever(i);return{status:o.value,value:new Date(e.data.getTime())}}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:Q.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:Q.toString(r)})}get minDate(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}};Xu.create=t=>new Xu({checks:[],coerce:t?.coerce||!1,typeName:U.ZodDate,...be(t)});var Qu=class extends Ie{_parse(e){if(this._getType(e)!==K.symbol){let o=this._getOrReturnCtx(e);return G(o,{code:M.invalid_type,expected:K.symbol,received:o.parsedType}),le}return ir(e.data)}};Qu.create=t=>new Qu({typeName:U.ZodSymbol,...be(t)});var _a=class extends Ie{_parse(e){if(this._getType(e)!==K.undefined){let o=this._getOrReturnCtx(e);return G(o,{code:M.invalid_type,expected:K.undefined,received:o.parsedType}),le}return ir(e.data)}};_a.create=t=>new _a({typeName:U.ZodUndefined,...be(t)});var wa=class extends Ie{_parse(e){if(this._getType(e)!==K.null){let o=this._getOrReturnCtx(e);return G(o,{code:M.invalid_type,expected:K.null,received:o.parsedType}),le}return ir(e.data)}};wa.create=t=>new wa({typeName:U.ZodNull,...be(t)});var el=class extends Ie{constructor(){super(...arguments),this._any=!0}_parse(e){return ir(e.data)}};el.create=t=>new el({typeName:U.ZodAny,...be(t)});var zo=class extends Ie{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ir(e.data)}};zo.create=t=>new zo({typeName:U.ZodUnknown,...be(t)});var Rn=class extends Ie{_parse(e){let r=this._getOrReturnCtx(e);return G(r,{code:M.invalid_type,expected:K.never,received:r.parsedType}),le}};Rn.create=t=>new Rn({typeName:U.ZodNever,...be(t)});var tl=class extends Ie{_parse(e){if(this._getType(e)!==K.undefined){let o=this._getOrReturnCtx(e);return G(o,{code:M.invalid_type,expected:K.void,received:o.parsedType}),le}return ir(e.data)}};tl.create=t=>new tl({typeName:U.ZodVoid,...be(t)});var jo=class t extends Ie{_parse(e){let{ctx:r,status:o}=this._processInputParams(e),n=this._def;if(r.parsedType!==K.array)return G(r,{code:M.invalid_type,expected:K.array,received:r.parsedType}),le;if(n.exactLength!==null){let s=r.data.length>n.exactLength.value,a=r.data.length<n.exactLength.value;(s||a)&&(G(r,{code:s?M.too_big:M.too_small,minimum:a?n.exactLength.value:void 0,maximum:s?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),o.dirty())}if(n.minLength!==null&&r.data.length<n.minLength.value&&(G(r,{code:M.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),o.dirty()),n.maxLength!==null&&r.data.length>n.maxLength.value&&(G(r,{code:M.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),o.dirty()),r.common.async)return Promise.all([...r.data].map((s,a)=>n.type._parseAsync(new Fr(r,s,r.path,a)))).then(s=>Vt.mergeArray(o,s));let i=[...r.data].map((s,a)=>n.type._parseSync(new Fr(r,s,r.path,a)));return Vt.mergeArray(o,i)}get element(){return this._def.type}min(e,r){return new t({...this._def,minLength:{value:e,message:Q.toString(r)}})}max(e,r){return new t({...this._def,maxLength:{value:e,message:Q.toString(r)}})}length(e,r){return new t({...this._def,exactLength:{value:e,message:Q.toString(r)}})}nonempty(e){return this.min(1,e)}};jo.create=(t,e)=>new jo({type:t,minLength:null,maxLength:null,exactLength:null,typeName:U.ZodArray,...be(e)});function va(t){if(t instanceof Nr){let e={};for(let r in t.shape){let o=t.shape[r];e[r]=on.create(va(o))}return new Nr({...t._def,shape:()=>e})}else return t instanceof jo?new jo({...t._def,type:va(t.element)}):t instanceof on?on.create(va(t.unwrap())):t instanceof eo?eo.create(va(t.unwrap())):t instanceof Qn?Qn.create(t.items.map(e=>va(e))):t}var Nr=class t extends Ie{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),r=Oe.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==K.object){let u=this._getOrReturnCtx(e);return G(u,{code:M.invalid_type,expected:K.object,received:u.parsedType}),le}let{status:o,ctx:n}=this._processInputParams(e),{shape:i,keys:s}=this._getCached(),a=[];if(!(this._def.catchall instanceof Rn&&this._def.unknownKeys==="strip"))for(let u in n.data)s.includes(u)||a.push(u);let c=[];for(let u of s){let l=i[u],p=n.data[u];c.push({key:{status:"valid",value:u},value:l._parse(new Fr(n,p,n.path,u)),alwaysSet:u in n.data})}if(this._def.catchall instanceof Rn){let u=this._def.unknownKeys;if(u==="passthrough")for(let l of a)c.push({key:{status:"valid",value:l},value:{status:"valid",value:n.data[l]}});else if(u==="strict")a.length>0&&(G(n,{code:M.unrecognized_keys,keys:a}),o.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let u=this._def.catchall;for(let l of a){let p=n.data[l];c.push({key:{status:"valid",value:l},value:u._parse(new Fr(n,p,n.path,l)),alwaysSet:l in n.data})}}return n.common.async?Promise.resolve().then(async()=>{let u=[];for(let l of c){let p=await l.key,g=await l.value;u.push({key:p,value:g,alwaysSet:l.alwaysSet})}return u}).then(u=>Vt.mergeObjectSync(o,u)):Vt.mergeObjectSync(o,c)}get shape(){return this._def.shape()}strict(e){return Q.errToObj,new t({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,o)=>{let n=this._def.errorMap?.(r,o).message??o.defaultError;return r.code==="unrecognized_keys"?{message:Q.errToObj(e).message??n}:{message:n}}}:{}})}strip(){return new t({...this._def,unknownKeys:"strip"})}passthrough(){return new t({...this._def,unknownKeys:"passthrough"})}extend(e){return new t({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new t({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:U.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new t({...this._def,catchall:e})}pick(e){let r={};for(let o of Oe.objectKeys(e))e[o]&&this.shape[o]&&(r[o]=this.shape[o]);return new t({...this._def,shape:()=>r})}omit(e){let r={};for(let o of Oe.objectKeys(this.shape))e[o]||(r[o]=this.shape[o]);return new t({...this._def,shape:()=>r})}deepPartial(){return va(this)}partial(e){let r={};for(let o of Oe.objectKeys(this.shape)){let n=this.shape[o];e&&!e[o]?r[o]=n:r[o]=n.optional()}return new t({...this._def,shape:()=>r})}required(e){let r={};for(let o of Oe.objectKeys(this.shape))if(e&&!e[o])r[o]=this.shape[o];else{let i=this.shape[o];for(;i instanceof on;)i=i._def.innerType;r[o]=i}return new t({...this._def,shape:()=>r})}keyof(){return fj(Oe.objectKeys(this.shape))}};Nr.create=(t,e)=>new Nr({shape:()=>t,unknownKeys:"strip",catchall:Rn.create(),typeName:U.ZodObject,...be(e)});Nr.strictCreate=(t,e)=>new Nr({shape:()=>t,unknownKeys:"strict",catchall:Rn.create(),typeName:U.ZodObject,...be(e)});Nr.lazycreate=(t,e)=>new Nr({shape:t,unknownKeys:"strip",catchall:Rn.create(),typeName:U.ZodObject,...be(e)});var xa=class extends Ie{_parse(e){let{ctx:r}=this._processInputParams(e),o=this._def.options;function n(i){for(let a of i)if(a.result.status==="valid")return a.result;for(let a of i)if(a.result.status==="dirty")return r.common.issues.push(...a.ctx.common.issues),a.result;let s=i.map(a=>new Or(a.ctx.common.issues));return G(r,{code:M.invalid_union,unionErrors:s}),le}if(r.common.async)return Promise.all(o.map(async i=>{let s={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:s}),ctx:s}})).then(n);{let i,s=[];for(let c of o){let u={...r,common:{...r.common,issues:[]},parent:null},l=c._parseSync({data:r.data,path:r.path,parent:u});if(l.status==="valid")return l;l.status==="dirty"&&!i&&(i={result:l,ctx:u}),u.common.issues.length&&s.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;let a=s.map(c=>new Or(c));return G(r,{code:M.invalid_union,unionErrors:a}),le}}get options(){return this._def.options}};xa.create=(t,e)=>new xa({options:t,typeName:U.ZodUnion,...be(e)});var Xn=t=>t instanceof Ea?Xn(t.schema):t instanceof sn?Xn(t.innerType()):t instanceof ka?[t.value]:t instanceof Ia?t.options:t instanceof Ta?Oe.objectValues(t.enum):t instanceof $a?Xn(t._def.innerType):t instanceof _a?[void 0]:t instanceof wa?[null]:t instanceof on?[void 0,...Xn(t.unwrap())]:t instanceof eo?[null,...Xn(t.unwrap())]:t instanceof Vh||t instanceof Pa?Xn(t.unwrap()):t instanceof Ra?Xn(t._def.innerType):[],Ux=class t extends Ie{_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==K.object)return G(r,{code:M.invalid_type,expected:K.object,received:r.parsedType}),le;let o=this.discriminator,n=r.data[o],i=this.optionsMap.get(n);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(G(r,{code:M.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[o]}),le)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,o){let n=new Map;for(let i of r){let s=Xn(i.shape[e]);if(!s.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let a of s){if(n.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);n.set(a,i)}}return new t({typeName:U.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:n,...be(o)})}};function Fx(t,e){let r=Yn(t),o=Yn(e);if(t===e)return{valid:!0,data:t};if(r===K.object&&o===K.object){let n=Oe.objectKeys(e),i=Oe.objectKeys(t).filter(a=>n.indexOf(a)!==-1),s={...t,...e};for(let a of i){let c=Fx(t[a],e[a]);if(!c.valid)return{valid:!1};s[a]=c.data}return{valid:!0,data:s}}else if(r===K.array&&o===K.array){if(t.length!==e.length)return{valid:!1};let n=[];for(let i=0;i<t.length;i++){let s=t[i],a=e[i],c=Fx(s,a);if(!c.valid)return{valid:!1};n.push(c.data)}return{valid:!0,data:n}}else return r===K.date&&o===K.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}var Sa=class extends Ie{_parse(e){let{status:r,ctx:o}=this._processInputParams(e),n=(i,s)=>{if(zx(i)||zx(s))return le;let a=Fx(i.value,s.value);return a.valid?((jx(i)||jx(s))&&r.dirty(),{status:r.value,value:a.data}):(G(o,{code:M.invalid_intersection_types}),le)};return o.common.async?Promise.all([this._def.left._parseAsync({data:o.data,path:o.path,parent:o}),this._def.right._parseAsync({data:o.data,path:o.path,parent:o})]).then(([i,s])=>n(i,s)):n(this._def.left._parseSync({data:o.data,path:o.path,parent:o}),this._def.right._parseSync({data:o.data,path:o.path,parent:o}))}};Sa.create=(t,e,r)=>new Sa({left:t,right:e,typeName:U.ZodIntersection,...be(r)});var Qn=class t extends Ie{_parse(e){let{status:r,ctx:o}=this._processInputParams(e);if(o.parsedType!==K.array)return G(o,{code:M.invalid_type,expected:K.array,received:o.parsedType}),le;if(o.data.length<this._def.items.length)return G(o,{code:M.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),le;!this._def.rest&&o.data.length>this._def.items.length&&(G(o,{code:M.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let i=[...o.data].map((s,a)=>{let c=this._def.items[a]||this._def.rest;return c?c._parse(new Fr(o,s,o.path,a)):null}).filter(s=>!!s);return o.common.async?Promise.all(i).then(s=>Vt.mergeArray(r,s)):Vt.mergeArray(r,i)}get items(){return this._def.items}rest(e){return new t({...this._def,rest:e})}};Qn.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Qn({items:t,typeName:U.ZodTuple,rest:null,...be(e)})};var qx=class t extends Ie{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:o}=this._processInputParams(e);if(o.parsedType!==K.object)return G(o,{code:M.invalid_type,expected:K.object,received:o.parsedType}),le;let n=[],i=this._def.keyType,s=this._def.valueType;for(let a in o.data)n.push({key:i._parse(new Fr(o,a,o.path,a)),value:s._parse(new Fr(o,o.data[a],o.path,a)),alwaysSet:a in o.data});return o.common.async?Vt.mergeObjectAsync(r,n):Vt.mergeObjectSync(r,n)}get element(){return this._def.valueType}static create(e,r,o){return r instanceof Ie?new t({keyType:e,valueType:r,typeName:U.ZodRecord,...be(o)}):new t({keyType:ba.create(),valueType:e,typeName:U.ZodRecord,...be(r)})}},rl=class extends Ie{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:o}=this._processInputParams(e);if(o.parsedType!==K.map)return G(o,{code:M.invalid_type,expected:K.map,received:o.parsedType}),le;let n=this._def.keyType,i=this._def.valueType,s=[...o.data.entries()].map(([a,c],u)=>({key:n._parse(new Fr(o,a,o.path,[u,"key"])),value:i._parse(new Fr(o,c,o.path,[u,"value"]))}));if(o.common.async){let a=new Map;return Promise.resolve().then(async()=>{for(let c of s){let u=await c.key,l=await c.value;if(u.status==="aborted"||l.status==="aborted")return le;(u.status==="dirty"||l.status==="dirty")&&r.dirty(),a.set(u.value,l.value)}return{status:r.value,value:a}})}else{let a=new Map;for(let c of s){let u=c.key,l=c.value;if(u.status==="aborted"||l.status==="aborted")return le;(u.status==="dirty"||l.status==="dirty")&&r.dirty(),a.set(u.value,l.value)}return{status:r.value,value:a}}}};rl.create=(t,e,r)=>new rl({valueType:e,keyType:t,typeName:U.ZodMap,...be(r)});var nl=class t extends Ie{_parse(e){let{status:r,ctx:o}=this._processInputParams(e);if(o.parsedType!==K.set)return G(o,{code:M.invalid_type,expected:K.set,received:o.parsedType}),le;let n=this._def;n.minSize!==null&&o.data.size<n.minSize.value&&(G(o,{code:M.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),r.dirty()),n.maxSize!==null&&o.data.size>n.maxSize.value&&(G(o,{code:M.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),r.dirty());let i=this._def.valueType;function s(c){let u=new Set;for(let l of c){if(l.status==="aborted")return le;l.status==="dirty"&&r.dirty(),u.add(l.value)}return{status:r.value,value:u}}let a=[...o.data.values()].map((c,u)=>i._parse(new Fr(o,c,o.path,u)));return o.common.async?Promise.all(a).then(c=>s(c)):s(a)}min(e,r){return new t({...this._def,minSize:{value:e,message:Q.toString(r)}})}max(e,r){return new t({...this._def,maxSize:{value:e,message:Q.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}};nl.create=(t,e)=>new nl({valueType:t,minSize:null,maxSize:null,typeName:U.ZodSet,...be(e)});var Wx=class t extends Ie{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==K.function)return G(r,{code:M.invalid_type,expected:K.function,received:r.parsedType}),le;function o(a,c){return Hh({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Vu(),Mo].filter(u=>!!u),issueData:{code:M.invalid_arguments,argumentsError:c}})}function n(a,c){return Hh({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Vu(),Mo].filter(u=>!!u),issueData:{code:M.invalid_return_type,returnTypeError:c}})}let i={errorMap:r.common.contextualErrorMap},s=r.data;if(this._def.returns instanceof zi){let a=this;return ir(async function(...c){let u=new Or([]),l=await a._def.args.parseAsync(c,i).catch(v=>{throw u.addIssue(o(c,v)),u}),p=await Reflect.apply(s,this,l);return await a._def.returns._def.type.parseAsync(p,i).catch(v=>{throw u.addIssue(n(p,v)),u})})}else{let a=this;return ir(function(...c){let u=a._def.args.safeParse(c,i);if(!u.success)throw new Or([o(c,u.error)]);let l=Reflect.apply(s,this,u.data),p=a._def.returns.safeParse(l,i);if(!p.success)throw new Or([n(l,p.error)]);return p.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new t({...this._def,args:Qn.create(e).rest(zo.create())})}returns(e){return new t({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,o){return new t({args:e||Qn.create([]).rest(zo.create()),returns:r||zo.create(),typeName:U.ZodFunction,...be(o)})}},Ea=class extends Ie{get schema(){return this._def.getter()}_parse(e){let{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}};Ea.create=(t,e)=>new Ea({getter:t,typeName:U.ZodLazy,...be(e)});var ka=class extends Ie{_parse(e){if(e.data!==this._def.value){let r=this._getOrReturnCtx(e);return G(r,{received:r.data,code:M.invalid_literal,expected:this._def.value}),le}return{status:"valid",value:e.data}}get value(){return this._def.value}};ka.create=(t,e)=>new ka({value:t,typeName:U.ZodLiteral,...be(e)});function fj(t,e){return new Ia({values:t,typeName:U.ZodEnum,...be(e)})}var Ia=class t extends Ie{_parse(e){if(typeof e.data!="string"){let r=this._getOrReturnCtx(e),o=this._def.values;return G(r,{expected:Oe.joinValues(o),received:r.parsedType,code:M.invalid_type}),le}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let r=this._getOrReturnCtx(e),o=this._def.values;return G(r,{received:r.data,code:M.invalid_enum_value,options:o}),le}return ir(e.data)}get options(){return this._def.values}get enum(){let e={};for(let r of this._def.values)e[r]=r;return e}get Values(){let e={};for(let r of this._def.values)e[r]=r;return e}get Enum(){let e={};for(let r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return t.create(e,{...this._def,...r})}exclude(e,r=this._def){return t.create(this.options.filter(o=>!e.includes(o)),{...this._def,...r})}};Ia.create=fj;var Ta=class extends Ie{_parse(e){let r=Oe.getValidEnumValues(this._def.values),o=this._getOrReturnCtx(e);if(o.parsedType!==K.string&&o.parsedType!==K.number){let n=Oe.objectValues(r);return G(o,{expected:Oe.joinValues(n),received:o.parsedType,code:M.invalid_type}),le}if(this._cache||(this._cache=new Set(Oe.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let n=Oe.objectValues(r);return G(o,{received:o.data,code:M.invalid_enum_value,options:n}),le}return ir(e.data)}get enum(){return this._def.values}};Ta.create=(t,e)=>new Ta({values:t,typeName:U.ZodNativeEnum,...be(e)});var zi=class extends Ie{unwrap(){return this._def.type}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==K.promise&&r.common.async===!1)return G(r,{code:M.invalid_type,expected:K.promise,received:r.parsedType}),le;let o=r.parsedType===K.promise?r.data:Promise.resolve(r.data);return ir(o.then(n=>this._def.type.parseAsync(n,{path:r.path,errorMap:r.common.contextualErrorMap})))}};zi.create=(t,e)=>new zi({type:t,typeName:U.ZodPromise,...be(e)});var sn=class extends Ie{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===U.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:r,ctx:o}=this._processInputParams(e),n=this._def.effect||null,i={addIssue:s=>{G(o,s),s.fatal?r.abort():r.dirty()},get path(){return o.path}};if(i.addIssue=i.addIssue.bind(i),n.type==="preprocess"){let s=n.transform(o.data,i);if(o.common.async)return Promise.resolve(s).then(async a=>{if(r.value==="aborted")return le;let c=await this._def.schema._parseAsync({data:a,path:o.path,parent:o});return c.status==="aborted"?le:c.status==="dirty"?ya(c.value):r.value==="dirty"?ya(c.value):c});{if(r.value==="aborted")return le;let a=this._def.schema._parseSync({data:s,path:o.path,parent:o});return a.status==="aborted"?le:a.status==="dirty"?ya(a.value):r.value==="dirty"?ya(a.value):a}}if(n.type==="refinement"){let s=a=>{let c=n.refinement(a,i);if(o.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(o.common.async===!1){let a=this._def.schema._parseSync({data:o.data,path:o.path,parent:o});return a.status==="aborted"?le:(a.status==="dirty"&&r.dirty(),s(a.value),{status:r.value,value:a.value})}else return this._def.schema._parseAsync({data:o.data,path:o.path,parent:o}).then(a=>a.status==="aborted"?le:(a.status==="dirty"&&r.dirty(),s(a.value).then(()=>({status:r.value,value:a.value}))))}if(n.type==="transform")if(o.common.async===!1){let s=this._def.schema._parseSync({data:o.data,path:o.path,parent:o});if(!Mi(s))return le;let a=n.transform(s.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:a}}else return this._def.schema._parseAsync({data:o.data,path:o.path,parent:o}).then(s=>Mi(s)?Promise.resolve(n.transform(s.value,i)).then(a=>({status:r.value,value:a})):le);Oe.assertNever(n)}};sn.create=(t,e,r)=>new sn({schema:t,typeName:U.ZodEffects,effect:e,...be(r)});sn.createWithPreprocess=(t,e,r)=>new sn({schema:e,effect:{type:"preprocess",transform:t},typeName:U.ZodEffects,...be(r)});var on=class extends Ie{_parse(e){return this._getType(e)===K.undefined?ir(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};on.create=(t,e)=>new on({innerType:t,typeName:U.ZodOptional,...be(e)});var eo=class extends Ie{_parse(e){return this._getType(e)===K.null?ir(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};eo.create=(t,e)=>new eo({innerType:t,typeName:U.ZodNullable,...be(e)});var $a=class extends Ie{_parse(e){let{ctx:r}=this._processInputParams(e),o=r.data;return r.parsedType===K.undefined&&(o=this._def.defaultValue()),this._def.innerType._parse({data:o,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};$a.create=(t,e)=>new $a({innerType:t,typeName:U.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...be(e)});var Ra=class extends Ie{_parse(e){let{ctx:r}=this._processInputParams(e),o={...r,common:{...r.common,issues:[]}},n=this._def.innerType._parse({data:o.data,path:o.path,parent:{...o}});return Gu(n)?n.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Or(o.common.issues)},input:o.data})})):{status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new Or(o.common.issues)},input:o.data})}}removeCatch(){return this._def.innerType}};Ra.create=(t,e)=>new Ra({innerType:t,typeName:U.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...be(e)});var ol=class extends Ie{_parse(e){if(this._getType(e)!==K.nan){let o=this._getOrReturnCtx(e);return G(o,{code:M.invalid_type,expected:K.nan,received:o.parsedType}),le}return{status:"valid",value:e.data}}};ol.create=t=>new ol({typeName:U.ZodNaN,...be(t)});var _Ie=Symbol("zod_brand"),Vh=class extends Ie{_parse(e){let{ctx:r}=this._processInputParams(e),o=r.data;return this._def.type._parse({data:o,path:r.path,parent:r})}unwrap(){return this._def.type}},Gh=class t extends Ie{_parse(e){let{status:r,ctx:o}=this._processInputParams(e);if(o.common.async)return(async()=>{let i=await this._def.in._parseAsync({data:o.data,path:o.path,parent:o});return i.status==="aborted"?le:i.status==="dirty"?(r.dirty(),ya(i.value)):this._def.out._parseAsync({data:i.value,path:o.path,parent:o})})();{let n=this._def.in._parseSync({data:o.data,path:o.path,parent:o});return n.status==="aborted"?le:n.status==="dirty"?(r.dirty(),{status:"dirty",value:n.value}):this._def.out._parseSync({data:n.value,path:o.path,parent:o})}}static create(e,r){return new t({in:e,out:r,typeName:U.ZodPipeline})}},Pa=class extends Ie{_parse(e){let r=this._def.innerType._parse(e),o=n=>(Mi(n)&&(n.value=Object.freeze(n.value)),n);return Gu(r)?r.then(n=>o(n)):o(r)}unwrap(){return this._def.innerType}};Pa.create=(t,e)=>new Pa({innerType:t,typeName:U.ZodReadonly,...be(e)});var wIe={object:Nr.lazycreate},U;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(U||(U={}));var xIe=ba.create,SIe=Ku.create,EIe=ol.create,kIe=Ju.create,IIe=Yu.create,TIe=Xu.create,$Ie=Qu.create,RIe=_a.create,PIe=wa.create,CIe=el.create,AIe=zo.create,OIe=Rn.create,NIe=tl.create,DIe=jo.create,mj=Nr.create,MIe=Nr.strictCreate,zIe=xa.create,jIe=Ux.create,LIe=Sa.create,UIe=Qn.create,FIe=qx.create,qIe=rl.create,WIe=nl.create,ZIe=Wx.create,BIe=Ea.create,HIe=ka.create,VIe=Ia.create,GIe=Ta.create,KIe=zi.create,JIe=sn.create,YIe=on.create,XIe=eo.create,QIe=sn.createWithPreprocess,eTe=Gh.create;pt();pt();pt();pt();var H8=k("ZodMiniType",(t,e)=>{if(!t._zod)throw new Error("Uninitialized schema in ZodMiniType.");fe.init(t,e),t.def=e,t.type=e.type,t.parse=(r,o)=>ni(t,r,o,{callee:t.parse}),t.safeParse=(r,o)=>go(t,r,o),t.parseAsync=async(r,o)=>oi(t,r,o,{callee:t.parseAsync}),t.safeParseAsync=async(r,o)=>yo(t,r,o),t.check=(...r)=>t.clone({...e,checks:[...e.checks??[],...r.map(o=>typeof o=="function"?{_zod:{check:o,def:{check:"custom"},onattach:[]}}:o)]}),t.clone=(r,o)=>Ot(t,r,o),t.brand=()=>t,t.register=(r,o)=>(r.add(t,o),t)});var V8=k("ZodMiniObject",(t,e)=>{up.init(t,e),H8.init(t,e),z.defineLazy(t,"shape",()=>e.shape)});function Zx(t,e){let r={type:"object",shape:t??{},...z.normalizeParams(e)};return new V8(r)}pt();pt();zp();pt();pt();function Dr(t){return!!t._zod}function Ca(t){let e=Object.values(t);if(e.length===0)return Zx({});let r=e.every(Dr),o=e.every(n=>!Dr(n));if(r)return Zx(t);if(o)return mj(t);throw new Error("Mixed Zod versions detected in object shape.")}function Lo(t,e){return Dr(t)?go(t,e):t.safeParse(e)}async function Kh(t,e){return Dr(t)?await yo(t,e):await t.safeParseAsync(e)}function Uo(t){var e,r;if(!t)return;let o;if(Dr(t)?o=(r=(e=t._zod)===null||e===void 0?void 0:e.def)===null||r===void 0?void 0:r.shape:o=t.shape,!!o){if(typeof o=="function")try{return o()}catch{return}return o}}function Aa(t){var e;if(t){if(typeof t=="object"){let r=t,o=t;if(!r._def&&!o._zod){let n=Object.values(t);if(n.length>0&&n.every(i=>typeof i=="object"&&i!==null&&(i._def!==void 0||i._zod!==void 0||typeof i.parse=="function")))return Ca(t)}}if(Dr(t)){let o=(e=t._zod)===null||e===void 0?void 0:e.def;if(o&&(o.type==="object"||o.shape!==void 0))return t}else if(t.shape!==void 0)return t}}function Jh(t){if(t&&typeof t=="object"){if("message"in t&&typeof t.message=="string")return t.message;if("issues"in t&&Array.isArray(t.issues)&&t.issues.length>0){let e=t.issues[0];if(e&&typeof e=="object"&&"message"in e)return String(e.message)}try{return JSON.stringify(t)}catch{return String(t)}}return String(t)}function yj(t){var e,r,o,n;if(Dr(t))return(r=(e=t._zod)===null||e===void 0?void 0:e.def)===null||r===void 0?void 0:r.description;let i=t;return(o=t.description)!==null&&o!==void 0?o:(n=i._def)===null||n===void 0?void 0:n.description}function vj(t){var e,r,o;if(Dr(t))return((r=(e=t._zod)===null||e===void 0?void 0:e.def)===null||r===void 0?void 0:r.type)==="optional";let n=t;return typeof t.isOptional=="function"?t.isOptional():((o=n._def)===null||o===void 0?void 0:o.typeName)==="ZodOptional"}function Yh(t){var e;if(Dr(t)){let s=(e=t._zod)===null||e===void 0?void 0:e.def;if(s){if(s.value!==void 0)return s.value;if(Array.isArray(s.values)&&s.values.length>0)return s.values[0]}}let o=t._def;if(o){if(o.value!==void 0)return o.value;if(Array.isArray(o.values)&&o.values.length>0)return o.values[0]}let n=t.value;if(n!==void 0)return n}Xc();Xc();var Hx="2025-11-25";var bj=[Hx,"2025-06-18","2025-03-26","2024-11-05","2024-10-07"],Cn="io.modelcontextprotocol/related-task",Qh="2.0",Pn=Zb(t=>t!==null&&(typeof t=="object"||typeof t=="function")),_j=Xe([A(),He().int()]),wj=A(),X8=kr({ttl:Xe([He(),Jc()]).optional(),pollInterval:He().optional()}),Vx=kr({taskId:A()}),Q8=kr({progressToken:_j.optional(),[Cn]:Vx.optional()}),gr=kr({task:X8.optional(),_meta:Q8.optional()}),zt=Z({method:A(),params:gr.optional()}),ji=kr({_meta:Z({[Cn]:ee(Vx)}).passthrough().optional()}),qr=Z({method:A(),params:ji.optional()}),Gt=kr({_meta:kr({[Cn]:Vx.optional()}).optional()}),eg=Xe([A(),He().int()]),xj=Z({jsonrpc:te(Qh),id:eg,...zt.shape}).strict(),Gx=t=>xj.safeParse(t).success,Sj=Z({jsonrpc:te(Qh),...qr.shape}).strict(),Ej=t=>Sj.safeParse(t).success,kj=Z({jsonrpc:te(Qh),id:eg,result:Gt}).strict(),il=t=>kj.safeParse(t).success,ae;(function(t){t[t.ConnectionClosed=-32e3]="ConnectionClosed",t[t.RequestTimeout=-32001]="RequestTimeout",t[t.ParseError=-32700]="ParseError",t[t.InvalidRequest=-32600]="InvalidRequest",t[t.MethodNotFound=-32601]="MethodNotFound",t[t.InvalidParams=-32602]="InvalidParams",t[t.InternalError=-32603]="InternalError",t[t.UrlElicitationRequired=-32042]="UrlElicitationRequired"})(ae||(ae={}));var Ij=Z({jsonrpc:te(Qh),id:eg,error:Z({code:He().int(),message:A(),data:ee(lt())})}).strict(),Tj=t=>Ij.safeParse(t).success,$j=Xe([xj,Sj,kj,Ij]),tg=Gt.strict(),e7=ji.extend({requestId:eg,reason:A().optional()}),rg=qr.extend({method:te("notifications/cancelled"),params:e7}),t7=Z({src:A(),mimeType:A().optional(),sizes:Re(A()).optional()}),sl=Z({icons:Re(t7).optional()}),Oa=Z({name:A(),title:A().optional()}),Rj=Oa.extend({...Oa.shape,...sl.shape,version:A(),websiteUrl:A().optional()}),r7=Yc(Z({applyDefaults:It().optional()}),ft(A(),lt())),n7=Bf(t=>t&&typeof t=="object"&&!Array.isArray(t)&&Object.keys(t).length===0?{form:{}}:t,Yc(Z({form:r7.optional(),url:Pn.optional()}),ft(A(),lt()).optional())),o7=Z({list:ee(Z({}).passthrough()),cancel:ee(Z({}).passthrough()),requests:ee(Z({sampling:ee(Z({createMessage:ee(Z({}).passthrough())}).passthrough()),elicitation:ee(Z({create:ee(Z({}).passthrough())}).passthrough())}).passthrough())}).passthrough(),i7=Z({list:ee(Z({}).passthrough()),cancel:ee(Z({}).passthrough()),requests:ee(Z({tools:ee(Z({call:ee(Z({}).passthrough())}).passthrough())}).passthrough())}).passthrough(),s7=Z({experimental:ft(A(),Pn).optional(),sampling:Z({context:Pn.optional(),tools:Pn.optional()}).optional(),elicitation:n7.optional(),roots:Z({listChanged:It().optional()}).optional(),tasks:ee(o7)}),a7=gr.extend({protocolVersion:A(),capabilities:s7,clientInfo:Rj}),Kx=zt.extend({method:te("initialize"),params:a7});var c7=Z({experimental:ft(A(),Pn).optional(),logging:Pn.optional(),completions:Pn.optional(),prompts:ee(Z({listChanged:ee(It())})),resources:Z({subscribe:It().optional(),listChanged:It().optional()}).optional(),tools:Z({listChanged:It().optional()}).optional(),tasks:ee(i7)}).passthrough(),u7=Gt.extend({protocolVersion:A(),capabilities:c7,serverInfo:Rj,instructions:A().optional()}),Jx=qr.extend({method:te("notifications/initialized")});var ng=zt.extend({method:te("ping")}),l7=Z({progress:He(),total:ee(He()),message:ee(A())}),d7=Z({...ji.shape,...l7.shape,progressToken:_j}),og=qr.extend({method:te("notifications/progress"),params:d7}),p7=gr.extend({cursor:wj.optional()}),al=zt.extend({params:p7.optional()}),cl=Gt.extend({nextCursor:ee(wj)}),ul=Z({taskId:A(),status:Tt(["working","input_required","completed","failed","cancelled"]),ttl:Xe([He(),Jc()]),createdAt:A(),lastUpdatedAt:A(),pollInterval:ee(He()),statusMessage:ee(A())}),Na=Gt.extend({task:ul}),f7=ji.merge(ul),ll=qr.extend({method:te("notifications/tasks/status"),params:f7}),ig=zt.extend({method:te("tasks/get"),params:gr.extend({taskId:A()})}),sg=Gt.merge(ul),ag=zt.extend({method:te("tasks/result"),params:gr.extend({taskId:A()})}),cg=al.extend({method:te("tasks/list")}),ug=cl.extend({tasks:Re(ul)}),Pj=zt.extend({method:te("tasks/cancel"),params:gr.extend({taskId:A()})}),Cj=Gt.merge(ul),Aj=Z({uri:A(),mimeType:ee(A()),_meta:ft(A(),lt()).optional()}),Oj=Aj.extend({text:A()}),Yx=A().refine(t=>{try{return atob(t),!0}catch{return!1}},{message:"Invalid Base64 string"}),Nj=Aj.extend({blob:Yx}),Da=Z({audience:Re(Tt(["user","assistant"])).optional(),priority:He().min(0).max(1).optional(),lastModified:Os.datetime({offset:!0}).optional()}),Dj=Z({...Oa.shape,...sl.shape,uri:A(),description:ee(A()),mimeType:ee(A()),annotations:Da.optional(),_meta:ee(kr({}))}),m7=Z({...Oa.shape,...sl.shape,uriTemplate:A(),description:ee(A()),mimeType:ee(A()),annotations:Da.optional(),_meta:ee(kr({}))}),lg=al.extend({method:te("resources/list")}),h7=cl.extend({resources:Re(Dj)}),dg=al.extend({method:te("resources/templates/list")}),g7=cl.extend({resourceTemplates:Re(m7)}),Xx=gr.extend({uri:A()}),y7=Xx,pg=zt.extend({method:te("resources/read"),params:y7}),v7=Gt.extend({contents:Re(Xe([Oj,Nj]))}),b7=qr.extend({method:te("notifications/resources/list_changed")}),_7=Xx,w7=zt.extend({method:te("resources/subscribe"),params:_7}),x7=Xx,S7=zt.extend({method:te("resources/unsubscribe"),params:x7}),E7=ji.extend({uri:A()}),k7=qr.extend({method:te("notifications/resources/updated"),params:E7}),I7=Z({name:A(),description:ee(A()),required:ee(It())}),T7=Z({...Oa.shape,...sl.shape,description:ee(A()),arguments:ee(Re(I7)),_meta:ee(kr({}))}),fg=al.extend({method:te("prompts/list")}),$7=cl.extend({prompts:Re(T7)}),R7=gr.extend({name:A(),arguments:ft(A(),A()).optional()}),mg=zt.extend({method:te("prompts/get"),params:R7}),Qx=Z({type:te("text"),text:A(),annotations:Da.optional(),_meta:ft(A(),lt()).optional()}),eS=Z({type:te("image"),data:Yx,mimeType:A(),annotations:Da.optional(),_meta:ft(A(),lt()).optional()}),tS=Z({type:te("audio"),data:Yx,mimeType:A(),annotations:Da.optional(),_meta:ft(A(),lt()).optional()}),P7=Z({type:te("tool_use"),name:A(),id:A(),input:Z({}).passthrough(),_meta:ee(Z({}).passthrough())}).passthrough(),C7=Z({type:te("resource"),resource:Xe([Oj,Nj]),annotations:Da.optional(),_meta:ft(A(),lt()).optional()}),A7=Dj.extend({type:te("resource_link")}),rS=Xe([Qx,eS,tS,A7,C7]),O7=Z({role:Tt(["user","assistant"]),content:rS}),N7=Gt.extend({description:ee(A()),messages:Re(O7)}),D7=qr.extend({method:te("notifications/prompts/list_changed")}),M7=Z({title:A().optional(),readOnlyHint:It().optional(),destructiveHint:It().optional(),idempotentHint:It().optional(),openWorldHint:It().optional()}),z7=Z({taskSupport:Tt(["required","optional","forbidden"]).optional()}),Mj=Z({...Oa.shape,...sl.shape,description:A().optional(),inputSchema:Z({type:te("object"),properties:ft(A(),Pn).optional(),required:Re(A()).optional()}).catchall(lt()),outputSchema:Z({type:te("object"),properties:ft(A(),Pn).optional(),required:Re(A()).optional()}).catchall(lt()).optional(),annotations:ee(M7),execution:ee(z7),_meta:ft(A(),lt()).optional()}),hg=al.extend({method:te("tools/list")}),j7=cl.extend({tools:Re(Mj)}),gg=Gt.extend({content:Re(rS).default([]),structuredContent:ft(A(),lt()).optional(),isError:ee(It())}),zTe=gg.or(Gt.extend({toolResult:lt()})),L7=gr.extend({name:A(),arguments:ee(ft(A(),lt()))}),Ma=zt.extend({method:te("tools/call"),params:L7}),U7=qr.extend({method:te("notifications/tools/list_changed")}),dl=Tt(["debug","info","notice","warning","error","critical","alert","emergency"]),F7=gr.extend({level:dl}),nS=zt.extend({method:te("logging/setLevel"),params:F7}),q7=ji.extend({level:dl,logger:A().optional(),data:lt()}),W7=qr.extend({method:te("notifications/message"),params:q7}),Z7=Z({name:A().optional()}),B7=Z({hints:ee(Re(Z7)),costPriority:ee(He().min(0).max(1)),speedPriority:ee(He().min(0).max(1)),intelligencePriority:ee(He().min(0).max(1))}),H7=Z({mode:ee(Tt(["auto","required","none"]))}),V7=Z({type:te("tool_result"),toolUseId:A().describe("The unique identifier for the corresponding tool call."),content:Re(rS).default([]),structuredContent:Z({}).passthrough().optional(),isError:ee(It()),_meta:ee(Z({}).passthrough())}).passthrough(),G7=Wf("type",[Qx,eS,tS]),Xh=Wf("type",[Qx,eS,tS,P7,V7]),K7=Z({role:Tt(["user","assistant"]),content:Xe([Xh,Re(Xh)]),_meta:ee(Z({}).passthrough())}).passthrough(),J7=gr.extend({messages:Re(K7),modelPreferences:B7.optional(),systemPrompt:A().optional(),includeContext:Tt(["none","thisServer","allServers"]).optional(),temperature:He().optional(),maxTokens:He().int(),stopSequences:Re(A()).optional(),metadata:Pn.optional(),tools:ee(Re(Mj)),toolChoice:ee(H7)}),Y7=zt.extend({method:te("sampling/createMessage"),params:J7}),oS=Gt.extend({model:A(),stopReason:ee(Tt(["endTurn","stopSequence","maxTokens"]).or(A())),role:Tt(["user","assistant"]),content:G7}),iS=Gt.extend({model:A(),stopReason:ee(Tt(["endTurn","stopSequence","maxTokens","toolUse"]).or(A())),role:Tt(["user","assistant"]),content:Xe([Xh,Re(Xh)])}),X7=Z({type:te("boolean"),title:A().optional(),description:A().optional(),default:It().optional()}),Q7=Z({type:te("string"),title:A().optional(),description:A().optional(),minLength:He().optional(),maxLength:He().optional(),format:Tt(["email","uri","date","date-time"]).optional(),default:A().optional()}),eQ=Z({type:Tt(["number","integer"]),title:A().optional(),description:A().optional(),minimum:He().optional(),maximum:He().optional(),default:He().optional()}),tQ=Z({type:te("string"),title:A().optional(),description:A().optional(),enum:Re(A()),default:A().optional()}),rQ=Z({type:te("string"),title:A().optional(),description:A().optional(),oneOf:Re(Z({const:A(),title:A()})),default:A().optional()}),nQ=Z({type:te("string"),title:A().optional(),description:A().optional(),enum:Re(A()),enumNames:Re(A()).optional(),default:A().optional()}),oQ=Xe([tQ,rQ]),iQ=Z({type:te("array"),title:A().optional(),description:A().optional(),minItems:He().optional(),maxItems:He().optional(),items:Z({type:te("string"),enum:Re(A())}),default:Re(A()).optional()}),sQ=Z({type:te("array"),title:A().optional(),description:A().optional(),minItems:He().optional(),maxItems:He().optional(),items:Z({anyOf:Re(Z({const:A(),title:A()}))}),default:Re(A()).optional()}),aQ=Xe([iQ,sQ]),cQ=Xe([nQ,oQ,aQ]),uQ=Xe([cQ,X7,Q7,eQ]),lQ=gr.extend({mode:te("form").optional(),message:A(),requestedSchema:Z({type:te("object"),properties:ft(A(),uQ),required:Re(A()).optional()})}),dQ=gr.extend({mode:te("url"),message:A(),elicitationId:A(),url:A().url()}),pQ=Xe([lQ,dQ]),fQ=zt.extend({method:te("elicitation/create"),params:pQ}),mQ=ji.extend({elicitationId:A()}),hQ=qr.extend({method:te("notifications/elicitation/complete"),params:mQ}),yg=Gt.extend({action:Tt(["accept","decline","cancel"]),content:Bf(t=>t===null?void 0:t,ft(A(),Xe([A(),He(),It(),Re(A())])).optional())}),gQ=Z({type:te("ref/resource"),uri:A()});var yQ=Z({type:te("ref/prompt"),name:A()}),vQ=gr.extend({ref:Xe([yQ,gQ]),argument:Z({name:A(),value:A()}),context:Z({arguments:ft(A(),A()).optional()}).optional()}),vg=zt.extend({method:te("completion/complete"),params:vQ});function zj(t){if(t.params.ref.type!=="ref/prompt")throw new TypeError(`Expected CompleteRequestPrompt, but got ${t.params.ref.type}`)}function jj(t){if(t.params.ref.type!=="ref/resource")throw new TypeError(`Expected CompleteRequestResourceTemplate, but got ${t.params.ref.type}`)}var bQ=Gt.extend({completion:kr({values:Re(A()).max(100),total:ee(He().int()),hasMore:ee(It())})}),_Q=Z({uri:A().startsWith("file://"),name:A().optional(),_meta:ft(A(),lt()).optional()}),wQ=zt.extend({method:te("roots/list")}),sS=Gt.extend({roots:Re(_Q)}),xQ=qr.extend({method:te("notifications/roots/list_changed")}),jTe=Xe([ng,Kx,vg,nS,mg,fg,lg,dg,pg,w7,S7,Ma,hg,ig,ag,cg]),LTe=Xe([rg,og,Jx,xQ,ll]),UTe=Xe([tg,oS,iS,yg,sS,sg,ug,Na]),FTe=Xe([ng,Y7,fQ,wQ,ig,ag,cg]),qTe=Xe([rg,og,W7,k7,b7,U7,D7,ll,hQ]),WTe=Xe([tg,u7,bQ,N7,$7,h7,g7,v7,gg,j7,sg,ug,Na]),ne=class t extends Error{constructor(e,r,o){super(`MCP error ${e}: ${r}`),this.code=e,this.data=o,this.name="McpError"}static fromError(e,r,o){if(e===ae.UrlElicitationRequired&&o){let n=o;if(n.elicitations)return new Bx(n.elicitations,r)}return new t(e,r,o)}},Bx=class extends ne{constructor(e,r=`URL elicitation${e.length>1?"s":""} required`){super(ae.UrlElicitationRequired,r,{elicitations:e})}get elicitations(){var e,r;return(r=(e=this.data)===null||e===void 0?void 0:e.elicitations)!==null&&r!==void 0?r:[]}};function Fo(t){return t==="completed"||t==="failed"||t==="cancelled"}var Uj=Symbol("Let zodToJsonSchema decide on which parser to use");var Lj={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref",openAiAnyTypeName:"OpenAiAnyType"},Fj=t=>typeof t=="string"?{...Lj,name:t}:{...Lj,...t};var qj=t=>{let e=Fj(t),r=e.name!==void 0?[...e.basePath,e.definitionPath,e.name]:e.basePath;return{...e,flags:{hasReferencedOpenAiAnyType:!1},currentPath:r,propertyPath:void 0,seen:new Map(Object.entries(e.definitions).map(([o,n])=>[n._def,{def:n._def,path:[...e.basePath,e.definitionPath,o],jsonSchema:void 0}]))}};function aS(t,e,r,o){o?.errorMessages&&r&&(t.errorMessage={...t.errorMessage,[e]:r})}function Ne(t,e,r,o,n){t[e]=r,aS(t,e,o,n)}var bg=(t,e)=>{let r=0;for(;r<t.length&&r<e.length&&t[r]===e[r];r++);return[(t.length-r).toString(),...e.slice(r)].join("/")};function ut(t){if(t.target!=="openAi")return{};let e=[...t.basePath,t.definitionPath,t.openAiAnyTypeName];return t.flags.hasReferencedOpenAiAnyType=!0,{$ref:t.$refStrategy==="relative"?bg(e,t.currentPath):e.join("/")}}function Wj(t,e){let r={type:"array"};return t.type?._def&&t.type?._def?.typeName!==U.ZodAny&&(r.items=de(t.type._def,{...e,currentPath:[...e.currentPath,"items"]})),t.minLength&&Ne(r,"minItems",t.minLength.value,t.minLength.message,e),t.maxLength&&Ne(r,"maxItems",t.maxLength.value,t.maxLength.message,e),t.exactLength&&(Ne(r,"minItems",t.exactLength.value,t.exactLength.message,e),Ne(r,"maxItems",t.exactLength.value,t.exactLength.message,e)),r}function Zj(t,e){let r={type:"integer",format:"int64"};if(!t.checks)return r;for(let o of t.checks)switch(o.kind){case"min":e.target==="jsonSchema7"?o.inclusive?Ne(r,"minimum",o.value,o.message,e):Ne(r,"exclusiveMinimum",o.value,o.message,e):(o.inclusive||(r.exclusiveMinimum=!0),Ne(r,"minimum",o.value,o.message,e));break;case"max":e.target==="jsonSchema7"?o.inclusive?Ne(r,"maximum",o.value,o.message,e):Ne(r,"exclusiveMaximum",o.value,o.message,e):(o.inclusive||(r.exclusiveMaximum=!0),Ne(r,"maximum",o.value,o.message,e));break;case"multipleOf":Ne(r,"multipleOf",o.value,o.message,e);break}return r}function Bj(){return{type:"boolean"}}function _g(t,e){return de(t.type._def,e)}var Hj=(t,e)=>de(t.innerType._def,e);function cS(t,e,r){let o=r??e.dateStrategy;if(Array.isArray(o))return{anyOf:o.map((n,i)=>cS(t,e,n))};switch(o){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return SQ(t,e)}}var SQ=(t,e)=>{let r={type:"integer",format:"unix-time"};if(e.target==="openApi3")return r;for(let o of t.checks)switch(o.kind){case"min":Ne(r,"minimum",o.value,o.message,e);break;case"max":Ne(r,"maximum",o.value,o.message,e);break}return r};function Vj(t,e){return{...de(t.innerType._def,e),default:t.defaultValue()}}function Gj(t,e){return e.effectStrategy==="input"?de(t.schema._def,e):ut(e)}function Kj(t){return{type:"string",enum:Array.from(t.values)}}var EQ=t=>"type"in t&&t.type==="string"?!1:"allOf"in t;function Jj(t,e){let r=[de(t.left._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),de(t.right._def,{...e,currentPath:[...e.currentPath,"allOf","1"]})].filter(i=>!!i),o=e.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0,n=[];return r.forEach(i=>{if(EQ(i))n.push(...i.allOf),i.unevaluatedProperties===void 0&&(o=void 0);else{let s=i;if("additionalProperties"in i&&i.additionalProperties===!1){let{additionalProperties:a,...c}=i;s=c}else o=void 0;n.push(s)}}),n.length?{allOf:n,...o}:void 0}function Yj(t,e){let r=typeof t.value;return r!=="bigint"&&r!=="number"&&r!=="boolean"&&r!=="string"?{type:Array.isArray(t.value)?"array":"object"}:e.target==="openApi3"?{type:r==="bigint"?"integer":r,enum:[t.value]}:{type:r==="bigint"?"integer":r,const:t.value}}var uS,an={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(uS===void 0&&(uS=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),uS),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function wg(t,e){let r={type:"string"};if(t.checks)for(let o of t.checks)switch(o.kind){case"min":Ne(r,"minLength",typeof r.minLength=="number"?Math.max(r.minLength,o.value):o.value,o.message,e);break;case"max":Ne(r,"maxLength",typeof r.maxLength=="number"?Math.min(r.maxLength,o.value):o.value,o.message,e);break;case"email":switch(e.emailStrategy){case"format:email":cn(r,"email",o.message,e);break;case"format:idn-email":cn(r,"idn-email",o.message,e);break;case"pattern:zod":sr(r,an.email,o.message,e);break}break;case"url":cn(r,"uri",o.message,e);break;case"uuid":cn(r,"uuid",o.message,e);break;case"regex":sr(r,o.regex,o.message,e);break;case"cuid":sr(r,an.cuid,o.message,e);break;case"cuid2":sr(r,an.cuid2,o.message,e);break;case"startsWith":sr(r,RegExp(`^${lS(o.value,e)}`),o.message,e);break;case"endsWith":sr(r,RegExp(`${lS(o.value,e)}$`),o.message,e);break;case"datetime":cn(r,"date-time",o.message,e);break;case"date":cn(r,"date",o.message,e);break;case"time":cn(r,"time",o.message,e);break;case"duration":cn(r,"duration",o.message,e);break;case"length":Ne(r,"minLength",typeof r.minLength=="number"?Math.max(r.minLength,o.value):o.value,o.message,e),Ne(r,"maxLength",typeof r.maxLength=="number"?Math.min(r.maxLength,o.value):o.value,o.message,e);break;case"includes":{sr(r,RegExp(lS(o.value,e)),o.message,e);break}case"ip":{o.version!=="v6"&&cn(r,"ipv4",o.message,e),o.version!=="v4"&&cn(r,"ipv6",o.message,e);break}case"base64url":sr(r,an.base64url,o.message,e);break;case"jwt":sr(r,an.jwt,o.message,e);break;case"cidr":{o.version!=="v6"&&sr(r,an.ipv4Cidr,o.message,e),o.version!=="v4"&&sr(r,an.ipv6Cidr,o.message,e);break}case"emoji":sr(r,an.emoji(),o.message,e);break;case"ulid":{sr(r,an.ulid,o.message,e);break}case"base64":{switch(e.base64Strategy){case"format:binary":{cn(r,"binary",o.message,e);break}case"contentEncoding:base64":{Ne(r,"contentEncoding","base64",o.message,e);break}case"pattern:zod":{sr(r,an.base64,o.message,e);break}}break}case"nanoid":sr(r,an.nanoid,o.message,e);case"toLowerCase":case"toUpperCase":case"trim":break;default:}return r}function lS(t,e){return e.patternStrategy==="escape"?IQ(t):t}var kQ=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function IQ(t){let e="";for(let r=0;r<t.length;r++)kQ.has(t[r])||(e+="\\"),e+=t[r];return e}function cn(t,e,r,o){t.format||t.anyOf?.some(n=>n.format)?(t.anyOf||(t.anyOf=[]),t.format&&(t.anyOf.push({format:t.format,...t.errorMessage&&o.errorMessages&&{errorMessage:{format:t.errorMessage.format}}}),delete t.format,t.errorMessage&&(delete t.errorMessage.format,Object.keys(t.errorMessage).length===0&&delete t.errorMessage)),t.anyOf.push({format:e,...r&&o.errorMessages&&{errorMessage:{format:r}}})):Ne(t,"format",e,r,o)}function sr(t,e,r,o){t.pattern||t.allOf?.some(n=>n.pattern)?(t.allOf||(t.allOf=[]),t.pattern&&(t.allOf.push({pattern:t.pattern,...t.errorMessage&&o.errorMessages&&{errorMessage:{pattern:t.errorMessage.pattern}}}),delete t.pattern,t.errorMessage&&(delete t.errorMessage.pattern,Object.keys(t.errorMessage).length===0&&delete t.errorMessage)),t.allOf.push({pattern:Xj(e,o),...r&&o.errorMessages&&{errorMessage:{pattern:r}}})):Ne(t,"pattern",Xj(e,o),r,o)}function Xj(t,e){if(!e.applyRegexFlags||!t.flags)return t.source;let r={i:t.flags.includes("i"),m:t.flags.includes("m"),s:t.flags.includes("s")},o=r.i?t.source.toLowerCase():t.source,n="",i=!1,s=!1,a=!1;for(let c=0;c<o.length;c++){if(i){n+=o[c],i=!1;continue}if(r.i){if(s){if(o[c].match(/[a-z]/)){a?(n+=o[c],n+=`${o[c-2]}-${o[c]}`.toUpperCase(),a=!1):o[c+1]==="-"&&o[c+2]?.match(/[a-z]/)?(n+=o[c],a=!0):n+=`${o[c]}${o[c].toUpperCase()}`;continue}}else if(o[c].match(/[a-z]/)){n+=`[${o[c]}${o[c].toUpperCase()}]`;continue}}if(r.m){if(o[c]==="^"){n+=`(^|(?<=[\r
]))`;continue}else if(o[c]==="$"){n+=`($|(?=[\r
]))`;continue}}if(r.s&&o[c]==="."){n+=s?`${o[c]}\r
`:`[${o[c]}\r
]`;continue}n+=o[c],o[c]==="\\"?i=!0:s&&o[c]==="]"?s=!1:!s&&o[c]==="["&&(s=!0)}try{new RegExp(n)}catch{return console.warn(`Could not convert regex pattern at ${e.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),t.source}return n}function xg(t,e){if(e.target==="openAi"&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),e.target==="openApi3"&&t.keyType?._def.typeName===U.ZodEnum)return{type:"object",required:t.keyType._def.values,properties:t.keyType._def.values.reduce((o,n)=>({...o,[n]:de(t.valueType._def,{...e,currentPath:[...e.currentPath,"properties",n]})??ut(e)}),{}),additionalProperties:e.rejectedAdditionalProperties};let r={type:"object",additionalProperties:de(t.valueType._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??e.allowedAdditionalProperties};if(e.target==="openApi3")return r;if(t.keyType?._def.typeName===U.ZodString&&t.keyType._def.checks?.length){let{type:o,...n}=wg(t.keyType._def,e);return{...r,propertyNames:n}}else{if(t.keyType?._def.typeName===U.ZodEnum)return{...r,propertyNames:{enum:t.keyType._def.values}};if(t.keyType?._def.typeName===U.ZodBranded&&t.keyType._def.type._def.typeName===U.ZodString&&t.keyType._def.type._def.checks?.length){let{type:o,...n}=_g(t.keyType._def,e);return{...r,propertyNames:n}}}return r}function Qj(t,e){if(e.mapStrategy==="record")return xg(t,e);let r=de(t.keyType._def,{...e,currentPath:[...e.currentPath,"items","items","0"]})||ut(e),o=de(t.valueType._def,{...e,currentPath:[...e.currentPath,"items","items","1"]})||ut(e);return{type:"array",maxItems:125,items:{type:"array",items:[r,o],minItems:2,maxItems:2}}}function eL(t){let e=t.values,o=Object.keys(t.values).filter(i=>typeof e[e[i]]!="number").map(i=>e[i]),n=Array.from(new Set(o.map(i=>typeof i)));return{type:n.length===1?n[0]==="string"?"string":"number":["string","number"],enum:o}}function tL(t){return t.target==="openAi"?void 0:{not:ut({...t,currentPath:[...t.currentPath,"not"]})}}function rL(t){return t.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}var pl={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function oL(t,e){if(e.target==="openApi3")return nL(t,e);let r=t.options instanceof Map?Array.from(t.options.values()):t.options;if(r.every(o=>o._def.typeName in pl&&(!o._def.checks||!o._def.checks.length))){let o=r.reduce((n,i)=>{let s=pl[i._def.typeName];return s&&!n.includes(s)?[...n,s]:n},[]);return{type:o.length>1?o:o[0]}}else if(r.every(o=>o._def.typeName==="ZodLiteral"&&!o.description)){let o=r.reduce((n,i)=>{let s=typeof i._def.value;switch(s){case"string":case"number":case"boolean":return[...n,s];case"bigint":return[...n,"integer"];case"object":if(i._def.value===null)return[...n,"null"];case"symbol":case"undefined":case"function":default:return n}},[]);if(o.length===r.length){let n=o.filter((i,s,a)=>a.indexOf(i)===s);return{type:n.length>1?n:n[0],enum:r.reduce((i,s)=>i.includes(s._def.value)?i:[...i,s._def.value],[])}}}else if(r.every(o=>o._def.typeName==="ZodEnum"))return{type:"string",enum:r.reduce((o,n)=>[...o,...n._def.values.filter(i=>!o.includes(i))],[])};return nL(t,e)}var nL=(t,e)=>{let r=(t.options instanceof Map?Array.from(t.options.values()):t.options).map((o,n)=>de(o._def,{...e,currentPath:[...e.currentPath,"anyOf",`${n}`]})).filter(o=>!!o&&(!e.strictUnions||typeof o=="object"&&Object.keys(o).length>0));return r.length?{anyOf:r}:void 0};function iL(t,e){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(t.innerType._def.typeName)&&(!t.innerType._def.checks||!t.innerType._def.checks.length))return e.target==="openApi3"?{type:pl[t.innerType._def.typeName],nullable:!0}:{type:[pl[t.innerType._def.typeName],"null"]};if(e.target==="openApi3"){let o=de(t.innerType._def,{...e,currentPath:[...e.currentPath]});return o&&"$ref"in o?{allOf:[o],nullable:!0}:o&&{...o,nullable:!0}}let r=de(t.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","0"]});return r&&{anyOf:[r,{type:"null"}]}}function sL(t,e){let r={type:"number"};if(!t.checks)return r;for(let o of t.checks)switch(o.kind){case"int":r.type="integer",aS(r,"type",o.message,e);break;case"min":e.target==="jsonSchema7"?o.inclusive?Ne(r,"minimum",o.value,o.message,e):Ne(r,"exclusiveMinimum",o.value,o.message,e):(o.inclusive||(r.exclusiveMinimum=!0),Ne(r,"minimum",o.value,o.message,e));break;case"max":e.target==="jsonSchema7"?o.inclusive?Ne(r,"maximum",o.value,o.message,e):Ne(r,"exclusiveMaximum",o.value,o.message,e):(o.inclusive||(r.exclusiveMaximum=!0),Ne(r,"maximum",o.value,o.message,e));break;case"multipleOf":Ne(r,"multipleOf",o.value,o.message,e);break}return r}function aL(t,e){let r=e.target==="openAi",o={type:"object",properties:{}},n=[],i=t.shape();for(let a in i){let c=i[a];if(c===void 0||c._def===void 0)continue;let u=$Q(c);u&&r&&(c._def.typeName==="ZodOptional"&&(c=c._def.innerType),c.isNullable()||(c=c.nullable()),u=!1);let l=de(c._def,{...e,currentPath:[...e.currentPath,"properties",a],propertyPath:[...e.currentPath,"properties",a]});l!==void 0&&(o.properties[a]=l,u||n.push(a))}n.length&&(o.required=n);let s=TQ(t,e);return s!==void 0&&(o.additionalProperties=s),o}function TQ(t,e){if(t.catchall._def.typeName!=="ZodNever")return de(t.catchall._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]});switch(t.unknownKeys){case"passthrough":return e.allowedAdditionalProperties;case"strict":return e.rejectedAdditionalProperties;case"strip":return e.removeAdditionalStrategy==="strict"?e.allowedAdditionalProperties:e.rejectedAdditionalProperties}}function $Q(t){try{return t.isOptional()}catch{return!0}}var cL=(t,e)=>{if(e.currentPath.toString()===e.propertyPath?.toString())return de(t.innerType._def,e);let r=de(t.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","1"]});return r?{anyOf:[{not:ut(e)},r]}:ut(e)};var uL=(t,e)=>{if(e.pipeStrategy==="input")return de(t.in._def,e);if(e.pipeStrategy==="output")return de(t.out._def,e);let r=de(t.in._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),o=de(t.out._def,{...e,currentPath:[...e.currentPath,"allOf",r?"1":"0"]});return{allOf:[r,o].filter(n=>n!==void 0)}};function lL(t,e){return de(t.type._def,e)}function dL(t,e){let o={type:"array",uniqueItems:!0,items:de(t.valueType._def,{...e,currentPath:[...e.currentPath,"items"]})};return t.minSize&&Ne(o,"minItems",t.minSize.value,t.minSize.message,e),t.maxSize&&Ne(o,"maxItems",t.maxSize.value,t.maxSize.message,e),o}function pL(t,e){return t.rest?{type:"array",minItems:t.items.length,items:t.items.map((r,o)=>de(r._def,{...e,currentPath:[...e.currentPath,"items",`${o}`]})).reduce((r,o)=>o===void 0?r:[...r,o],[]),additionalItems:de(t.rest._def,{...e,currentPath:[...e.currentPath,"additionalItems"]})}:{type:"array",minItems:t.items.length,maxItems:t.items.length,items:t.items.map((r,o)=>de(r._def,{...e,currentPath:[...e.currentPath,"items",`${o}`]})).reduce((r,o)=>o===void 0?r:[...r,o],[])}}function fL(t){return{not:ut(t)}}function mL(t){return ut(t)}var hL=(t,e)=>de(t.innerType._def,e);var gL=(t,e,r)=>{switch(e){case U.ZodString:return wg(t,r);case U.ZodNumber:return sL(t,r);case U.ZodObject:return aL(t,r);case U.ZodBigInt:return Zj(t,r);case U.ZodBoolean:return Bj();case U.ZodDate:return cS(t,r);case U.ZodUndefined:return fL(r);case U.ZodNull:return rL(r);case U.ZodArray:return Wj(t,r);case U.ZodUnion:case U.ZodDiscriminatedUnion:return oL(t,r);case U.ZodIntersection:return Jj(t,r);case U.ZodTuple:return pL(t,r);case U.ZodRecord:return xg(t,r);case U.ZodLiteral:return Yj(t,r);case U.ZodEnum:return Kj(t);case U.ZodNativeEnum:return eL(t);case U.ZodNullable:return iL(t,r);case U.ZodOptional:return cL(t,r);case U.ZodMap:return Qj(t,r);case U.ZodSet:return dL(t,r);case U.ZodLazy:return()=>t.getter()._def;case U.ZodPromise:return lL(t,r);case U.ZodNaN:case U.ZodNever:return tL(r);case U.ZodEffects:return Gj(t,r);case U.ZodAny:return ut(r);case U.ZodUnknown:return mL(r);case U.ZodDefault:return Vj(t,r);case U.ZodBranded:return _g(t,r);case U.ZodReadonly:return hL(t,r);case U.ZodCatch:return Hj(t,r);case U.ZodPipeline:return uL(t,r);case U.ZodFunction:case U.ZodVoid:case U.ZodSymbol:return;default:return(o=>{})(e)}};function de(t,e,r=!1){let o=e.seen.get(t);if(e.override){let a=e.override?.(t,e,o,r);if(a!==Uj)return a}if(o&&!r){let a=RQ(o,e);if(a!==void 0)return a}let n={def:t,path:e.currentPath,jsonSchema:void 0};e.seen.set(t,n);let i=gL(t,t.typeName,e),s=typeof i=="function"?de(i(),e):i;if(s&&PQ(t,e,s),e.postProcess){let a=e.postProcess(s,t,e);return n.jsonSchema=s,a}return n.jsonSchema=s,s}var RQ=(t,e)=>{switch(e.$refStrategy){case"root":return{$ref:t.path.join("/")};case"relative":return{$ref:bg(e.currentPath,t.path)};case"none":case"seen":return t.path.length<e.currentPath.length&&t.path.every((r,o)=>e.currentPath[o]===r)?(console.warn(`Recursive reference detected at ${e.currentPath.join("/")}! Defaulting to any`),ut(e)):e.$refStrategy==="seen"?ut(e):void 0}},PQ=(t,e,r)=>(t.description&&(r.description=t.description,e.markdownDescription&&(r.markdownDescription=t.description)),r);var dS=(t,e)=>{let r=qj(e),o=typeof e=="object"&&e.definitions?Object.entries(e.definitions).reduce((c,[u,l])=>({...c,[u]:de(l._def,{...r,currentPath:[...r.basePath,r.definitionPath,u]},!0)??ut(r)}),{}):void 0,n=typeof e=="string"?e:e?.nameStrategy==="title"?void 0:e?.name,i=de(t._def,n===void 0?r:{...r,currentPath:[...r.basePath,r.definitionPath,n]},!1)??ut(r),s=typeof e=="object"&&e.name!==void 0&&e.nameStrategy==="title"?e.name:void 0;s!==void 0&&(i.title=s),r.flags.hasReferencedOpenAiAnyType&&(o||(o={}),o[r.openAiAnyTypeName]||(o[r.openAiAnyTypeName]={type:["string","number","integer","boolean","array","null"],items:{$ref:r.$refStrategy==="relative"?"1":[...r.basePath,r.definitionPath,r.openAiAnyTypeName].join("/")}}));let a=n===void 0?o?{...i,[r.definitionPath]:o}:i:{$ref:[...r.$refStrategy==="relative"?[]:r.basePath,r.definitionPath,n].join("/"),[r.definitionPath]:{...o,[n]:i}};return r.target==="jsonSchema7"?a.$schema="http://json-schema.org/draft-07/schema#":(r.target==="jsonSchema2019-09"||r.target==="openAi")&&(a.$schema="https://json-schema.org/draft/2019-09/schema#"),r.target==="openAi"&&("anyOf"in a||"oneOf"in a||"allOf"in a||"type"in a&&Array.isArray(a.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),a};function CQ(t){return!t||t==="jsonSchema7"||t==="draft-7"?"draft-7":t==="jsonSchema2019-09"||t==="draft-2020-12"?"draft-2020-12":"draft-7"}function pS(t,e){var r,o,n;return Dr(t)?As(t,{target:CQ(e?.target),io:(r=e?.pipeStrategy)!==null&&r!==void 0?r:"input"}):dS(t,{strictUnions:(o=e?.strictUnions)!==null&&o!==void 0?o:!0,pipeStrategy:(n=e?.pipeStrategy)!==null&&n!==void 0?n:"input"})}function fS(t){let e=Uo(t),r=e?.method;if(!r)throw new Error("Schema is missing a method literal");let o=Yh(r);if(typeof o!="string")throw new Error("Schema method literal must be a string");return o}function mS(t,e){let r=Lo(t,e);if(!r.success)throw r.error;return r.data}var AQ=6e4,Sg=class{constructor(e){this._options=e,this._requestMessageId=0,this._requestHandlers=new Map,this._requestHandlerAbortControllers=new Map,this._notificationHandlers=new Map,this._responseHandlers=new Map,this._progressHandlers=new Map,this._timeoutInfo=new Map,this._pendingDebouncedNotifications=new Set,this._taskProgressTokens=new Map,this._requestResolvers=new Map,this.setNotificationHandler(rg,r=>{this._oncancel(r)}),this.setNotificationHandler(og,r=>{this._onprogress(r)}),this.setRequestHandler(ng,r=>({})),this._taskStore=e?.taskStore,this._taskMessageQueue=e?.taskMessageQueue,this._taskStore&&(this.setRequestHandler(ig,async(r,o)=>{let n=await this._taskStore.getTask(r.params.taskId,o.sessionId);if(!n)throw new ne(ae.InvalidParams,"Failed to retrieve task: Task not found");return{...n}}),this.setRequestHandler(ag,async(r,o)=>{let n=async()=>{var i;let s=r.params.taskId;if(this._taskMessageQueue){let c;for(;c=await this._taskMessageQueue.dequeue(s,o.sessionId);){if(c.type==="response"||c.type==="error"){let u=c.message,l=u.id,p=this._requestResolvers.get(l);if(p)if(this._requestResolvers.delete(l),c.type==="response")p(u);else{let g=u,v=new ne(g.error.code,g.error.message,g.error.data);p(v)}else{let g=c.type==="response"?"Response":"Error";this._onerror(new Error(`${g} handler missing for request ${l}`))}continue}await((i=this._transport)===null||i===void 0?void 0:i.send(c.message,{relatedRequestId:o.requestId}))}}let a=await this._taskStore.getTask(s,o.sessionId);if(!a)throw new ne(ae.InvalidParams,`Task not found: ${s}`);if(!Fo(a.status))return await this._waitForTaskUpdate(s,o.signal),await n();if(Fo(a.status)){let c=await this._taskStore.getTaskResult(s,o.sessionId);return this._clearTaskQueue(s),{...c,_meta:{...c._meta,[Cn]:{taskId:s}}}}return await n()};return await n()}),this.setRequestHandler(cg,async(r,o)=>{var n;try{let{tasks:i,nextCursor:s}=await this._taskStore.listTasks((n=r.params)===null||n===void 0?void 0:n.cursor,o.sessionId);return{tasks:i,nextCursor:s,_meta:{}}}catch(i){throw new ne(ae.InvalidParams,`Failed to list tasks: ${i instanceof Error?i.message:String(i)}`)}}),this.setRequestHandler(Pj,async(r,o)=>{try{let n=await this._taskStore.getTask(r.params.taskId,o.sessionId);if(!n)throw new ne(ae.InvalidParams,`Task not found: ${r.params.taskId}`);if(Fo(n.status))throw new ne(ae.InvalidParams,`Cannot cancel task in terminal status: ${n.status}`);await this._taskStore.updateTaskStatus(r.params.taskId,"cancelled","Client cancelled task execution.",o.sessionId),this._clearTaskQueue(r.params.taskId);let i=await this._taskStore.getTask(r.params.taskId,o.sessionId);if(!i)throw new ne(ae.InvalidParams,`Task not found after cancellation: ${r.params.taskId}`);return{_meta:{},...i}}catch(n){throw n instanceof ne?n:new ne(ae.InvalidRequest,`Failed to cancel task: ${n instanceof Error?n.message:String(n)}`)}}))}async _oncancel(e){let r=this._requestHandlerAbortControllers.get(e.params.requestId);r?.abort(e.params.reason)}_setupTimeout(e,r,o,n,i=!1){this._timeoutInfo.set(e,{timeoutId:setTimeout(n,r),startTime:Date.now(),timeout:r,maxTotalTimeout:o,resetTimeoutOnProgress:i,onTimeout:n})}_resetTimeout(e){let r=this._timeoutInfo.get(e);if(!r)return!1;let o=Date.now()-r.startTime;if(r.maxTotalTimeout&&o>=r.maxTotalTimeout)throw this._timeoutInfo.delete(e),ne.fromError(ae.RequestTimeout,"Maximum total timeout exceeded",{maxTotalTimeout:r.maxTotalTimeout,totalElapsed:o});return clearTimeout(r.timeoutId),r.timeoutId=setTimeout(r.onTimeout,r.timeout),!0}_cleanupTimeout(e){let r=this._timeoutInfo.get(e);r&&(clearTimeout(r.timeoutId),this._timeoutInfo.delete(e))}async connect(e){var r,o,n;this._transport=e;let i=(r=this.transport)===null||r===void 0?void 0:r.onclose;this._transport.onclose=()=>{i?.(),this._onclose()};let s=(o=this.transport)===null||o===void 0?void 0:o.onerror;this._transport.onerror=c=>{s?.(c),this._onerror(c)};let a=(n=this._transport)===null||n===void 0?void 0:n.onmessage;this._transport.onmessage=(c,u)=>{a?.(c,u),il(c)||Tj(c)?this._onresponse(c):Gx(c)?this._onrequest(c,u):Ej(c)?this._onnotification(c):this._onerror(new Error(`Unknown message type: ${JSON.stringify(c)}`))},await this._transport.start()}_onclose(){var e;let r=this._responseHandlers;this._responseHandlers=new Map,this._progressHandlers.clear(),this._taskProgressTokens.clear(),this._pendingDebouncedNotifications.clear();let o=ne.fromError(ae.ConnectionClosed,"Connection closed");this._transport=void 0,(e=this.onclose)===null||e===void 0||e.call(this);for(let n of r.values())n(o)}_onerror(e){var r;(r=this.onerror)===null||r===void 0||r.call(this,e)}_onnotification(e){var r;let o=(r=this._notificationHandlers.get(e.method))!==null&&r!==void 0?r:this.fallbackNotificationHandler;o!==void 0&&Promise.resolve().then(()=>o(e)).catch(n=>this._onerror(new Error(`Uncaught error in notification handler: ${n}`)))}_onrequest(e,r){var o,n,i,s,a,c;let u=(o=this._requestHandlers.get(e.method))!==null&&o!==void 0?o:this.fallbackRequestHandler,l=this._transport,p=(s=(i=(n=e.params)===null||n===void 0?void 0:n._meta)===null||i===void 0?void 0:i[Cn])===null||s===void 0?void 0:s.taskId;if(u===void 0){let _={jsonrpc:"2.0",id:e.id,error:{code:ae.MethodNotFound,message:"Method not found"}};p&&this._taskMessageQueue?this._enqueueTaskMessage(p,{type:"error",message:_,timestamp:Date.now()},l?.sessionId).catch(w=>this._onerror(new Error(`Failed to enqueue error response: ${w}`))):l?.send(_).catch(w=>this._onerror(new Error(`Failed to send an error response: ${w}`)));return}let g=new AbortController;this._requestHandlerAbortControllers.set(e.id,g);let v=(a=e.params)===null||a===void 0?void 0:a.task,h=this._taskStore?this.requestTaskStore(e,l?.sessionId):void 0,b={signal:g.signal,sessionId:l?.sessionId,_meta:(c=e.params)===null||c===void 0?void 0:c._meta,sendNotification:async _=>{let w={relatedRequestId:e.id};p&&(w.relatedTask={taskId:p}),await this.notification(_,w)},sendRequest:async(_,w,T)=>{var P,D;let q={...T,relatedRequestId:e.id};p&&!q.relatedTask&&(q.relatedTask={taskId:p});let ge=(D=(P=q.relatedTask)===null||P===void 0?void 0:P.taskId)!==null&&D!==void 0?D:p;return ge&&h&&await h.updateTaskStatus(ge,"input_required"),await this.request(_,w,q)},authInfo:r?.authInfo,requestId:e.id,requestInfo:r?.requestInfo,taskId:p,taskStore:h,taskRequestedTtl:v?.ttl,closeSSEStream:r?.closeSSEStream,closeStandaloneSSEStream:r?.closeStandaloneSSEStream};Promise.resolve().then(()=>{v&&this.assertTaskHandlerCapability(e.method)}).then(()=>u(e,b)).then(async _=>{if(g.signal.aborted)return;let w={result:_,jsonrpc:"2.0",id:e.id};p&&this._taskMessageQueue?await this._enqueueTaskMessage(p,{type:"response",message:w,timestamp:Date.now()},l?.sessionId):await l?.send(w)},async _=>{var w;if(g.signal.aborted)return;let T={jsonrpc:"2.0",id:e.id,error:{code:Number.isSafeInteger(_.code)?_.code:ae.InternalError,message:(w=_.message)!==null&&w!==void 0?w:"Internal error",..._.data!==void 0&&{data:_.data}}};p&&this._taskMessageQueue?await this._enqueueTaskMessage(p,{type:"error",message:T,timestamp:Date.now()},l?.sessionId):await l?.send(T)}).catch(_=>this._onerror(new Error(`Failed to send response: ${_}`))).finally(()=>{this._requestHandlerAbortControllers.delete(e.id)})}_onprogress(e){let{progressToken:r,...o}=e.params,n=Number(r),i=this._progressHandlers.get(n);if(!i){this._onerror(new Error(`Received a progress notification for an unknown token: ${JSON.stringify(e)}`));return}let s=this._responseHandlers.get(n),a=this._timeoutInfo.get(n);if(a&&s&&a.resetTimeoutOnProgress)try{this._resetTimeout(n)}catch(c){this._responseHandlers.delete(n),this._progressHandlers.delete(n),this._cleanupTimeout(n),s(c);return}i(o)}_onresponse(e){let r=Number(e.id),o=this._requestResolvers.get(r);if(o){if(this._requestResolvers.delete(r),il(e))o(e);else{let s=new ne(e.error.code,e.error.message,e.error.data);o(s)}return}let n=this._responseHandlers.get(r);if(n===void 0){this._onerror(new Error(`Received a response for an unknown message ID: ${JSON.stringify(e)}`));return}this._responseHandlers.delete(r),this._cleanupTimeout(r);let i=!1;if(il(e)&&e.result&&typeof e.result=="object"){let s=e.result;if(s.task&&typeof s.task=="object"){let a=s.task;typeof a.taskId=="string"&&(i=!0,this._taskProgressTokens.set(a.taskId,r))}}if(i||this._progressHandlers.delete(r),il(e))n(e);else{let s=ne.fromError(e.error.code,e.error.message,e.error.data);n(s)}}get transport(){return this._transport}async close(){var e;await((e=this._transport)===null||e===void 0?void 0:e.close())}async*requestStream(e,r,o){var n,i,s,a;let{task:c}=o??{};if(!c){try{yield{type:"result",result:await this.request(e,r,o)}}catch(l){yield{type:"error",error:l instanceof ne?l:new ne(ae.InternalError,String(l))}}return}let u;try{let l=await this.request(e,Na,o);if(l.task)u=l.task.taskId,yield{type:"taskCreated",task:l.task};else throw new ne(ae.InternalError,"Task creation did not return a task");for(;;){let p=await this.getTask({taskId:u},o);if(yield{type:"taskStatus",task:p},Fo(p.status)){p.status==="completed"?yield{type:"result",result:await this.getTaskResult({taskId:u},r,o)}:p.status==="failed"?yield{type:"error",error:new ne(ae.InternalError,`Task ${u} failed`)}:p.status==="cancelled"&&(yield{type:"error",error:new ne(ae.InternalError,`Task ${u} was cancelled`)});return}if(p.status==="input_required"){yield{type:"result",result:await this.getTaskResult({taskId:u},r,o)};return}let g=(s=(n=p.pollInterval)!==null&&n!==void 0?n:(i=this._options)===null||i===void 0?void 0:i.defaultTaskPollInterval)!==null&&s!==void 0?s:1e3;await new Promise(v=>setTimeout(v,g)),(a=o?.signal)===null||a===void 0||a.throwIfAborted()}}catch(l){yield{type:"error",error:l instanceof ne?l:new ne(ae.InternalError,String(l))}}}request(e,r,o){let{relatedRequestId:n,resumptionToken:i,onresumptiontoken:s,task:a,relatedTask:c}=o??{};return new Promise((u,l)=>{var p,g,v,h,b,_,w;let T=oe=>{l(oe)};if(!this._transport){T(new Error("Not connected"));return}if(((p=this._options)===null||p===void 0?void 0:p.enforceStrictCapabilities)===!0)try{this.assertCapabilityForMethod(e.method),a&&this.assertTaskCapability(e.method)}catch(oe){T(oe);return}(g=o?.signal)===null||g===void 0||g.throwIfAborted();let P=this._requestMessageId++,D={...e,jsonrpc:"2.0",id:P};o?.onprogress&&(this._progressHandlers.set(P,o.onprogress),D.params={...e.params,_meta:{...((v=e.params)===null||v===void 0?void 0:v._meta)||{},progressToken:P}}),a&&(D.params={...D.params,task:a}),c&&(D.params={...D.params,_meta:{...((h=D.params)===null||h===void 0?void 0:h._meta)||{},[Cn]:c}});let q=oe=>{var $e;this._responseHandlers.delete(P),this._progressHandlers.delete(P),this._cleanupTimeout(P),($e=this._transport)===null||$e===void 0||$e.send({jsonrpc:"2.0",method:"notifications/cancelled",params:{requestId:P,reason:String(oe)}},{relatedRequestId:n,resumptionToken:i,onresumptiontoken:s}).catch(Ce=>this._onerror(new Error(`Failed to send cancellation: ${Ce}`)));let rt=oe instanceof ne?oe:new ne(ae.RequestTimeout,String(oe));l(rt)};this._responseHandlers.set(P,oe=>{var $e;if(!(!(($e=o?.signal)===null||$e===void 0)&&$e.aborted)){if(oe instanceof Error)return l(oe);try{let rt=Lo(r,oe.result);rt.success?u(rt.data):l(rt.error)}catch(rt){l(rt)}}}),(b=o?.signal)===null||b===void 0||b.addEventListener("abort",()=>{var oe;q((oe=o?.signal)===null||oe===void 0?void 0:oe.reason)});let ge=(_=o?.timeout)!==null&&_!==void 0?_:AQ,Ze=()=>q(ne.fromError(ae.RequestTimeout,"Request timed out",{timeout:ge}));this._setupTimeout(P,ge,o?.maxTotalTimeout,Ze,(w=o?.resetTimeoutOnProgress)!==null&&w!==void 0?w:!1);let Se=c?.taskId;if(Se){let oe=$e=>{let rt=this._responseHandlers.get(P);rt?rt($e):this._onerror(new Error(`Response handler missing for side-channeled request ${P}`))};this._requestResolvers.set(P,oe),this._enqueueTaskMessage(Se,{type:"request",message:D,timestamp:Date.now()}).catch($e=>{this._cleanupTimeout(P),l($e)})}else this._transport.send(D,{relatedRequestId:n,resumptionToken:i,onresumptiontoken:s}).catch(oe=>{this._cleanupTimeout(P),l(oe)})})}async getTask(e,r){return this.request({method:"tasks/get",params:e},sg,r)}async getTaskResult(e,r,o){return this.request({method:"tasks/result",params:e},r,o)}async listTasks(e,r){return this.request({method:"tasks/list",params:e},ug,r)}async cancelTask(e,r){return this.request({method:"tasks/cancel",params:e},Cj,r)}async notification(e,r){var o,n,i,s,a;if(!this._transport)throw new Error("Not connected");this.assertNotificationCapability(e.method);let c=(o=r?.relatedTask)===null||o===void 0?void 0:o.taskId;if(c){let g={...e,jsonrpc:"2.0",params:{...e.params,_meta:{...((n=e.params)===null||n===void 0?void 0:n._meta)||{},[Cn]:r.relatedTask}}};await this._enqueueTaskMessage(c,{type:"notification",message:g,timestamp:Date.now()});return}if(((s=(i=this._options)===null||i===void 0?void 0:i.debouncedNotificationMethods)!==null&&s!==void 0?s:[]).includes(e.method)&&!e.params&&!r?.relatedRequestId&&!r?.relatedTask){if(this._pendingDebouncedNotifications.has(e.method))return;this._pendingDebouncedNotifications.add(e.method),Promise.resolve().then(()=>{var g,v;if(this._pendingDebouncedNotifications.delete(e.method),!this._transport)return;let h={...e,jsonrpc:"2.0"};r?.relatedTask&&(h={...h,params:{...h.params,_meta:{...((g=h.params)===null||g===void 0?void 0:g._meta)||{},[Cn]:r.relatedTask}}}),(v=this._transport)===null||v===void 0||v.send(h,r).catch(b=>this._onerror(b))});return}let p={...e,jsonrpc:"2.0"};r?.relatedTask&&(p={...p,params:{...p.params,_meta:{...((a=p.params)===null||a===void 0?void 0:a._meta)||{},[Cn]:r.relatedTask}}}),await this._transport.send(p,r)}setRequestHandler(e,r){let o=fS(e);this.assertRequestHandlerCapability(o),this._requestHandlers.set(o,(n,i)=>{let s=mS(e,n);return Promise.resolve(r(s,i))})}removeRequestHandler(e){this._requestHandlers.delete(e)}assertCanSetRequestHandler(e){if(this._requestHandlers.has(e))throw new Error(`A request handler for ${e} already exists, which would be overridden`)}setNotificationHandler(e,r){let o=fS(e);this._notificationHandlers.set(o,n=>{let i=mS(e,n);return Promise.resolve(r(i))})}removeNotificationHandler(e){this._notificationHandlers.delete(e)}_cleanupTaskProgressHandler(e){let r=this._taskProgressTokens.get(e);r!==void 0&&(this._progressHandlers.delete(r),this._taskProgressTokens.delete(e))}async _enqueueTaskMessage(e,r,o){var n;if(!this._taskStore||!this._taskMessageQueue)throw new Error("Cannot enqueue task message: taskStore and taskMessageQueue are not configured");let i=(n=this._options)===null||n===void 0?void 0:n.maxTaskQueueSize;await this._taskMessageQueue.enqueue(e,r,o,i)}async _clearTaskQueue(e,r){if(this._taskMessageQueue){let o=await this._taskMessageQueue.dequeueAll(e,r);for(let n of o)if(n.type==="request"&&Gx(n.message)){let i=n.message.id,s=this._requestResolvers.get(i);s?(s(new ne(ae.InternalError,"Task cancelled or completed")),this._requestResolvers.delete(i)):this._onerror(new Error(`Resolver missing for request ${i} during task ${e} cleanup`))}}}async _waitForTaskUpdate(e,r){var o,n,i;let s=(n=(o=this._options)===null||o===void 0?void 0:o.defaultTaskPollInterval)!==null&&n!==void 0?n:1e3;try{let a=await((i=this._taskStore)===null||i===void 0?void 0:i.getTask(e));a?.pollInterval&&(s=a.pollInterval)}catch{}return new Promise((a,c)=>{if(r.aborted){c(new ne(ae.InvalidRequest,"Request cancelled"));return}let u=setTimeout(a,s);r.addEventListener("abort",()=>{clearTimeout(u),c(new ne(ae.InvalidRequest,"Request cancelled"))},{once:!0})})}requestTaskStore(e,r){let o=this._taskStore;if(!o)throw new Error("No task store configured");return{createTask:async n=>{if(!e)throw new Error("No request provided");return await o.createTask(n,e.id,{method:e.method,params:e.params},r)},getTask:async n=>{let i=await o.getTask(n,r);if(!i)throw new ne(ae.InvalidParams,"Failed to retrieve task: Task not found");return i},storeTaskResult:async(n,i,s)=>{await o.storeTaskResult(n,i,s,r);let a=await o.getTask(n,r);if(a){let c=ll.parse({method:"notifications/tasks/status",params:a});await this.notification(c),Fo(a.status)&&this._cleanupTaskProgressHandler(n)}},getTaskResult:n=>o.getTaskResult(n,r),updateTaskStatus:async(n,i,s)=>{let a=await o.getTask(n,r);if(!a)throw new ne(ae.InvalidParams,`Task "${n}" not found - it may have been cleaned up`);if(Fo(a.status))throw new ne(ae.InvalidParams,`Cannot update task "${n}" from terminal status "${a.status}" to "${i}". Terminal states (completed, failed, cancelled) cannot transition to other states.`);await o.updateTaskStatus(n,i,s,r);let c=await o.getTask(n,r);if(c){let u=ll.parse({method:"notifications/tasks/status",params:c});await this.notification(u),Fo(c.status)&&this._cleanupTaskProgressHandler(n)}},listTasks:n=>o.listTasks(n,r)}}};function yL(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)}function vL(t,e){let r={...t};for(let o in e){let n=o,i=e[n];if(i===void 0)continue;let s=r[n];yL(s)&&yL(i)?r[n]={...s,...i}:r[n]=i}return r}var oF=H(QE(),1),iF=H(nF(),1);function xie(){let t=new oF.Ajv({strict:!1,validateFormats:!0,validateSchema:!1,allErrors:!0});return(0,iF.default)(t),t}var sy=class{constructor(e){this._ajv=e??xie()}getValidator(e){var r;let o="$id"in e&&typeof e.$id=="string"?(r=this._ajv.getSchema(e.$id))!==null&&r!==void 0?r:this._ajv.compile(e):this._ajv.compile(e);return n=>o(n)?{valid:!0,data:n,errorMessage:void 0}:{valid:!1,data:void 0,errorMessage:this._ajv.errorsText(o.errors)}}};var ay=class{constructor(e){this._server=e}requestStream(e,r,o){return this._server.requestStream(e,r,o)}async getTask(e,r){return this._server.getTask({taskId:e},r)}async getTaskResult(e,r,o){return this._server.getTaskResult({taskId:e},r,o)}async listTasks(e,r){return this._server.listTasks(e?{cursor:e}:void 0,r)}async cancelTask(e,r){return this._server.cancelTask({taskId:e},r)}};function sF(t,e,r){var o;if(!t)throw new Error(`${r} does not support task creation (required for ${e})`);switch(e){case"tools/call":if(!(!((o=t.tools)===null||o===void 0)&&o.call))throw new Error(`${r} does not support task creation for tools/call (required for ${e})`);break;default:break}}function aF(t,e,r){var o,n;if(!t)throw new Error(`${r} does not support task creation (required for ${e})`);switch(e){case"sampling/createMessage":if(!(!((o=t.sampling)===null||o===void 0)&&o.createMessage))throw new Error(`${r} does not support task creation for sampling/createMessage (required for ${e})`);break;case"elicitation/create":if(!(!((n=t.elicitation)===null||n===void 0)&&n.create))throw new Error(`${r} does not support task creation for elicitation/create (required for ${e})`);break;default:break}}var cy=class extends Sg{constructor(e,r){var o,n;super(r),this._serverInfo=e,this._loggingLevels=new Map,this.LOG_LEVEL_SEVERITY=new Map(dl.options.map((i,s)=>[i,s])),this.isMessageIgnored=(i,s)=>{let a=this._loggingLevels.get(s);return a?this.LOG_LEVEL_SEVERITY.get(i)<this.LOG_LEVEL_SEVERITY.get(a):!1},this._capabilities=(o=r?.capabilities)!==null&&o!==void 0?o:{},this._instructions=r?.instructions,this._jsonSchemaValidator=(n=r?.jsonSchemaValidator)!==null&&n!==void 0?n:new sy,this.setRequestHandler(Kx,i=>this._oninitialize(i)),this.setNotificationHandler(Jx,()=>{var i;return(i=this.oninitialized)===null||i===void 0?void 0:i.call(this)}),this._capabilities.logging&&this.setRequestHandler(nS,async(i,s)=>{var a;let c=s.sessionId||((a=s.requestInfo)===null||a===void 0?void 0:a.headers["mcp-session-id"])||void 0,{level:u}=i.params,l=dl.safeParse(u);return l.success&&this._loggingLevels.set(c,l.data),{}})}get experimental(){return this._experimental||(this._experimental={tasks:new ay(this)}),this._experimental}registerCapabilities(e){if(this.transport)throw new Error("Cannot register capabilities after connecting to transport");this._capabilities=vL(this._capabilities,e)}setRequestHandler(e,r){var o,n,i;let s=Uo(e),a=s?.method;if(!a)throw new Error("Schema is missing a method literal");let c;if(Dr(a)){let l=a,p=(o=l._zod)===null||o===void 0?void 0:o.def;c=(n=p?.value)!==null&&n!==void 0?n:l.value}else{let l=a,p=l._def;c=(i=p?.value)!==null&&i!==void 0?i:l.value}if(typeof c!="string")throw new Error("Schema method literal must be a string");if(c==="tools/call"){let l=async(p,g)=>{let v=Lo(Ma,p);if(!v.success){let w=v.error instanceof Error?v.error.message:String(v.error);throw new ne(ae.InvalidParams,`Invalid tools/call request: ${w}`)}let{params:h}=v.data,b=await Promise.resolve(r(p,g));if(h.task){let w=Lo(Na,b);if(!w.success){let T=w.error instanceof Error?w.error.message:String(w.error);throw new ne(ae.InvalidParams,`Invalid task creation result: ${T}`)}return w.data}let _=Lo(gg,b);if(!_.success){let w=_.error instanceof Error?_.error.message:String(_.error);throw new ne(ae.InvalidParams,`Invalid tools/call result: ${w}`)}return _.data};return super.setRequestHandler(e,l)}return super.setRequestHandler(e,r)}assertCapabilityForMethod(e){var r,o,n;switch(e){case"sampling/createMessage":if(!(!((r=this._clientCapabilities)===null||r===void 0)&&r.sampling))throw new Error(`Client does not support sampling (required for ${e})`);break;case"elicitation/create":if(!(!((o=this._clientCapabilities)===null||o===void 0)&&o.elicitation))throw new Error(`Client does not support elicitation (required for ${e})`);break;case"roots/list":if(!(!((n=this._clientCapabilities)===null||n===void 0)&&n.roots))throw new Error(`Client does not support listing roots (required for ${e})`);break;case"ping":break}}assertNotificationCapability(e){var r,o;switch(e){case"notifications/message":if(!this._capabilities.logging)throw new Error(`Server does not support logging (required for ${e})`);break;case"notifications/resources/updated":case"notifications/resources/list_changed":if(!this._capabilities.resources)throw new Error(`Server does not support notifying about resources (required for ${e})`);break;case"notifications/tools/list_changed":if(!this._capabilities.tools)throw new Error(`Server does not support notifying of tool list changes (required for ${e})`);break;case"notifications/prompts/list_changed":if(!this._capabilities.prompts)throw new Error(`Server does not support notifying of prompt list changes (required for ${e})`);break;case"notifications/elicitation/complete":if(!(!((o=(r=this._clientCapabilities)===null||r===void 0?void 0:r.elicitation)===null||o===void 0)&&o.url))throw new Error(`Client does not support URL elicitation (required for ${e})`);break;case"notifications/cancelled":break;case"notifications/progress":break}}assertRequestHandlerCapability(e){if(this._capabilities)switch(e){case"completion/complete":if(!this._capabilities.completions)throw new Error(`Server does not support completions (required for ${e})`);break;case"logging/setLevel":if(!this._capabilities.logging)throw new Error(`Server does not support logging (required for ${e})`);break;case"prompts/get":case"prompts/list":if(!this._capabilities.prompts)throw new Error(`Server does not support prompts (required for ${e})`);break;case"resources/list":case"resources/templates/list":case"resources/read":if(!this._capabilities.resources)throw new Error(`Server does not support resources (required for ${e})`);break;case"tools/call":case"tools/list":if(!this._capabilities.tools)throw new Error(`Server does not support tools (required for ${e})`);break;case"tasks/get":case"tasks/list":case"tasks/result":case"tasks/cancel":if(!this._capabilities.tasks)throw new Error(`Server does not support tasks capability (required for ${e})`);break;case"ping":case"initialize":break}}assertTaskCapability(e){var r,o;aF((o=(r=this._clientCapabilities)===null||r===void 0?void 0:r.tasks)===null||o===void 0?void 0:o.requests,e,"Client")}assertTaskHandlerCapability(e){var r;this._capabilities&&sF((r=this._capabilities.tasks)===null||r===void 0?void 0:r.requests,e,"Server")}async _oninitialize(e){let r=e.params.protocolVersion;return this._clientCapabilities=e.params.capabilities,this._clientVersion=e.params.clientInfo,{protocolVersion:bj.includes(r)?r:Hx,capabilities:this.getCapabilities(),serverInfo:this._serverInfo,...this._instructions&&{instructions:this._instructions}}}getClientCapabilities(){return this._clientCapabilities}getClientVersion(){return this._clientVersion}getCapabilities(){return this._capabilities}async ping(){return this.request({method:"ping"},tg)}async createMessage(e,r){var o,n;if((e.tools||e.toolChoice)&&!(!((n=(o=this._clientCapabilities)===null||o===void 0?void 0:o.sampling)===null||n===void 0)&&n.tools))throw new Error("Client does not support sampling tools capability.");if(e.messages.length>0){let i=e.messages[e.messages.length-1],s=Array.isArray(i.content)?i.content:[i.content],a=s.some(p=>p.type==="tool_result"),c=e.messages.length>1?e.messages[e.messages.length-2]:void 0,u=c?Array.isArray(c.content)?c.content:[c.content]:[],l=u.some(p=>p.type==="tool_use");if(a){if(s.some(p=>p.type!=="tool_result"))throw new Error("The last message must contain only tool_result content if any is present");if(!l)throw new Error("tool_result blocks are not matching any tool_use from the previous message")}if(l){let p=new Set(u.filter(v=>v.type==="tool_use").map(v=>v.id)),g=new Set(s.filter(v=>v.type==="tool_result").map(v=>v.toolUseId));if(p.size!==g.size||![...p].every(v=>g.has(v)))throw new Error("ids of tool_result blocks and tool_use blocks from previous message do not match")}}return e.tools?this.request({method:"sampling/createMessage",params:e},iS,r):this.request({method:"sampling/createMessage",params:e},oS,r)}async elicitInput(e,r){var o,n,i,s,a;switch((o=e.mode)!==null&&o!==void 0?o:"form"){case"url":{if(!(!((i=(n=this._clientCapabilities)===null||n===void 0?void 0:n.elicitation)===null||i===void 0)&&i.url))throw new Error("Client does not support url elicitation.");let u=e;return this.request({method:"elicitation/create",params:u},yg,r)}case"form":{if(!(!((a=(s=this._clientCapabilities)===null||s===void 0?void 0:s.elicitation)===null||a===void 0)&&a.form))throw new Error("Client does not support form elicitation.");let u=e.mode==="form"?e:{...e,mode:"form"},l=await this.request({method:"elicitation/create",params:u},yg,r);if(l.action==="accept"&&l.content&&u.requestedSchema)try{let g=this._jsonSchemaValidator.getValidator(u.requestedSchema)(l.content);if(!g.valid)throw new ne(ae.InvalidParams,`Elicitation response content does not match requested schema: ${g.errorMessage}`)}catch(p){throw p instanceof ne?p:new ne(ae.InternalError,`Error validating elicitation response: ${p instanceof Error?p.message:String(p)}`)}return l}}}createElicitationCompletionNotifier(e,r){var o,n;if(!(!((n=(o=this._clientCapabilities)===null||o===void 0?void 0:o.elicitation)===null||n===void 0)&&n.url))throw new Error("Client does not support URL elicitation (required for notifications/elicitation/complete)");return()=>this.notification({method:"notifications/elicitation/complete",params:{elicitationId:e}},r)}async listRoots(e,r){return this.request({method:"roots/list",params:e},sS,r)}async sendLoggingMessage(e,r){if(this._capabilities.logging&&!this.isMessageIgnored(e.level,r))return this.notification({method:"notifications/message",params:e})}async sendResourceUpdated(e){return this.notification({method:"notifications/resources/updated",params:e})}async sendResourceListChanged(){return this.notification({method:"notifications/resources/list_changed"})}async sendToolListChanged(){return this.notification({method:"notifications/tools/list_changed"})}async sendPromptListChanged(){return this.notification({method:"notifications/prompts/list_changed"})}};var uF=Symbol.for("mcp.completable");function lF(t){return!!t&&typeof t=="object"&&uF in t}function dF(t){let e=t[uF];return e?.complete}var cF;(function(t){t.Completable="McpCompletable"})(cF||(cF={}));var Sie=/^[A-Za-z0-9._-]{1,128}$/;function Eie(t){let e=[];if(t.length===0)return{isValid:!1,warnings:["Tool name cannot be empty"]};if(t.length>128)return{isValid:!1,warnings:[`Tool name exceeds maximum length of 128 characters (current: ${t.length})`]};if(t.includes(" ")&&e.push("Tool name contains spaces, which may cause parsing issues"),t.includes(",")&&e.push("Tool name contains commas, which may cause parsing issues"),(t.startsWith("-")||t.endsWith("-"))&&e.push("Tool name starts or ends with a dash, which may cause parsing issues in some contexts"),(t.startsWith(".")||t.endsWith("."))&&e.push("Tool name starts or ends with a dot, which may cause parsing issues in some contexts"),!Sie.test(t)){let r=t.split("").filter(o=>!/[A-Za-z0-9._-]/.test(o)).filter((o,n,i)=>i.indexOf(o)===n);return e.push(`Tool name contains invalid characters: ${r.map(o=>`"${o}"`).join(", ")}`,"Allowed characters are: A-Z, a-z, 0-9, underscore (_), dash (-), and dot (.)"),{isValid:!1,warnings:e}}return{isValid:!0,warnings:e}}function kie(t,e){if(e.length>0){console.warn(`Tool name validation warning for "${t}":`);for(let r of e)console.warn(`  - ${r}`);console.warn("Tool registration will proceed, but this may cause compatibility issues."),console.warn("Consider updating the tool name to conform to the MCP tool naming standard."),console.warn("See SEP: Specify Format for Tool Names (https://github.com/modelcontextprotocol/modelcontextprotocol/issues/986) for more details.")}}function ak(t){let e=Eie(t);return kie(t,e.warnings),e.isValid}var uy=class{constructor(e){this._mcpServer=e}registerToolTask(e,r,o){let n={taskSupport:"required",...r.execution};if(n.taskSupport==="forbidden")throw new Error(`Cannot register task-based tool '${e}' with taskSupport 'forbidden'. Use registerTool() instead.`);return this._mcpServer._createRegisteredTool(e,r.title,r.description,r.inputSchema,r.outputSchema,r.annotations,n,r._meta,o)}};var ly=class{constructor(e,r){this._registeredResources={},this._registeredResourceTemplates={},this._registeredTools={},this._registeredPrompts={},this._toolHandlersInitialized=!1,this._completionHandlerInitialized=!1,this._resourceHandlersInitialized=!1,this._promptHandlersInitialized=!1,this.server=new cy(e,r)}get experimental(){return this._experimental||(this._experimental={tasks:new uy(this)}),this._experimental}async connect(e){return await this.server.connect(e)}async close(){await this.server.close()}setToolRequestHandlers(){this._toolHandlersInitialized||(this.server.assertCanSetRequestHandler(Jo(hg)),this.server.assertCanSetRequestHandler(Jo(Ma)),this.server.registerCapabilities({tools:{listChanged:!0}}),this.server.setRequestHandler(hg,()=>({tools:Object.entries(this._registeredTools).filter(([,e])=>e.enabled).map(([e,r])=>{let o={name:e,title:r.title,description:r.description,inputSchema:(()=>{let n=Aa(r.inputSchema);return n?pS(n,{strictUnions:!0,pipeStrategy:"input"}):Iie})(),annotations:r.annotations,execution:r.execution,_meta:r._meta};if(r.outputSchema){let n=Aa(r.outputSchema);n&&(o.outputSchema=pS(n,{strictUnions:!0,pipeStrategy:"output"}))}return o})})),this.server.setRequestHandler(Ma,async(e,r)=>{var o;try{let n=this._registeredTools[e.params.name];if(!n)throw new ne(ae.InvalidParams,`Tool ${e.params.name} not found`);if(!n.enabled)throw new ne(ae.InvalidParams,`Tool ${e.params.name} disabled`);let i=!!e.params.task,s=(o=n.execution)===null||o===void 0?void 0:o.taskSupport,a="createTask"in n.handler;if((s==="required"||s==="optional")&&!a)throw new ne(ae.InternalError,`Tool ${e.params.name} has taskSupport '${s}' but was not registered with registerToolTask`);if(s==="required"&&!i)throw new ne(ae.MethodNotFound,`Tool ${e.params.name} requires task augmentation (taskSupport: 'required')`);if(s==="optional"&&!i&&a)return await this.handleAutomaticTaskPolling(n,e,r);let c=await this.validateToolInput(n,e.params.arguments,e.params.name),u=await this.executeToolHandler(n,c,r);return i||await this.validateToolOutput(n,u,e.params.name),u}catch(n){if(n instanceof ne&&n.code===ae.UrlElicitationRequired)throw n;return this.createToolError(n instanceof Error?n.message:String(n))}}),this._toolHandlersInitialized=!0)}createToolError(e){return{content:[{type:"text",text:e}],isError:!0}}async validateToolInput(e,r,o){if(!e.inputSchema)return;let n=Aa(e.inputSchema),i=n??e.inputSchema,s=await Kh(i,r);if(!s.success){let a="error"in s?s.error:"Unknown error",c=Jh(a);throw new ne(ae.InvalidParams,`Input validation error: Invalid arguments for tool ${o}: ${c}`)}return s.data}async validateToolOutput(e,r,o){if(!e.outputSchema||!("content"in r)||r.isError)return;if(!r.structuredContent)throw new ne(ae.InvalidParams,`Output validation error: Tool ${o} has an output schema but no structured content was provided`);let n=Aa(e.outputSchema),i=await Kh(n,r.structuredContent);if(!i.success){let s="error"in i?i.error:"Unknown error",a=Jh(s);throw new ne(ae.InvalidParams,`Output validation error: Invalid structured content for tool ${o}: ${a}`)}}async executeToolHandler(e,r,o){let n=e.handler;if("createTask"in n){if(!o.taskStore)throw new Error("No task store provided.");let s={...o,taskStore:o.taskStore};if(e.inputSchema){let a=n;return await Promise.resolve(a.createTask(r,s))}else{let a=n;return await Promise.resolve(a.createTask(s))}}if(e.inputSchema){let s=n;return await Promise.resolve(s(r,o))}else{let s=n;return await Promise.resolve(s(o))}}async handleAutomaticTaskPolling(e,r,o){var n;if(!o.taskStore)throw new Error("No task store provided for task-capable tool.");let i=await this.validateToolInput(e,r.params.arguments,r.params.name),s=e.handler,a={...o,taskStore:o.taskStore},c=i?await Promise.resolve(s.createTask(i,a)):await Promise.resolve(s.createTask(a)),u=c.task.taskId,l=c.task,p=(n=l.pollInterval)!==null&&n!==void 0?n:5e3;for(;l.status!=="completed"&&l.status!=="failed"&&l.status!=="cancelled";){await new Promise(v=>setTimeout(v,p));let g=await o.taskStore.getTask(u);if(!g)throw new ne(ae.InternalError,`Task ${u} not found during polling`);l=g}return await o.taskStore.getTaskResult(u)}setCompletionRequestHandler(){this._completionHandlerInitialized||(this.server.assertCanSetRequestHandler(Jo(vg)),this.server.registerCapabilities({completions:{}}),this.server.setRequestHandler(vg,async e=>{switch(e.params.ref.type){case"ref/prompt":return zj(e),this.handlePromptCompletion(e,e.params.ref);case"ref/resource":return jj(e),this.handleResourceCompletion(e,e.params.ref);default:throw new ne(ae.InvalidParams,`Invalid completion reference: ${e.params.ref}`)}}),this._completionHandlerInitialized=!0)}async handlePromptCompletion(e,r){let o=this._registeredPrompts[r.name];if(!o)throw new ne(ae.InvalidParams,`Prompt ${r.name} not found`);if(!o.enabled)throw new ne(ae.InvalidParams,`Prompt ${r.name} disabled`);if(!o.argsSchema)return ql;let n=Uo(o.argsSchema),i=n?.[e.params.argument.name];if(!lF(i))return ql;let s=dF(i);if(!s)return ql;let a=await s(e.params.argument.value,e.params.context);return fF(a)}async handleResourceCompletion(e,r){let o=Object.values(this._registeredResourceTemplates).find(s=>s.resourceTemplate.uriTemplate.toString()===r.uri);if(!o){if(this._registeredResources[r.uri])return ql;throw new ne(ae.InvalidParams,`Resource template ${e.params.ref.uri} not found`)}let n=o.resourceTemplate.completeCallback(e.params.argument.name);if(!n)return ql;let i=await n(e.params.argument.value,e.params.context);return fF(i)}setResourceRequestHandlers(){this._resourceHandlersInitialized||(this.server.assertCanSetRequestHandler(Jo(lg)),this.server.assertCanSetRequestHandler(Jo(dg)),this.server.assertCanSetRequestHandler(Jo(pg)),this.server.registerCapabilities({resources:{listChanged:!0}}),this.server.setRequestHandler(lg,async(e,r)=>{let o=Object.entries(this._registeredResources).filter(([i,s])=>s.enabled).map(([i,s])=>({uri:i,name:s.name,...s.metadata})),n=[];for(let i of Object.values(this._registeredResourceTemplates)){if(!i.resourceTemplate.listCallback)continue;let s=await i.resourceTemplate.listCallback(r);for(let a of s.resources)n.push({...i.metadata,...a})}return{resources:[...o,...n]}}),this.server.setRequestHandler(dg,async()=>({resourceTemplates:Object.entries(this._registeredResourceTemplates).map(([r,o])=>({name:r,uriTemplate:o.resourceTemplate.uriTemplate.toString(),...o.metadata}))})),this.server.setRequestHandler(pg,async(e,r)=>{let o=new URL(e.params.uri),n=this._registeredResources[o.toString()];if(n){if(!n.enabled)throw new ne(ae.InvalidParams,`Resource ${o} disabled`);return n.readCallback(o,r)}for(let i of Object.values(this._registeredResourceTemplates)){let s=i.resourceTemplate.uriTemplate.match(o.toString());if(s)return i.readCallback(o,s,r)}throw new ne(ae.InvalidParams,`Resource ${o} not found`)}),this.setCompletionRequestHandler(),this._resourceHandlersInitialized=!0)}setPromptRequestHandlers(){this._promptHandlersInitialized||(this.server.assertCanSetRequestHandler(Jo(fg)),this.server.assertCanSetRequestHandler(Jo(mg)),this.server.registerCapabilities({prompts:{listChanged:!0}}),this.server.setRequestHandler(fg,()=>({prompts:Object.entries(this._registeredPrompts).filter(([,e])=>e.enabled).map(([e,r])=>({name:e,title:r.title,description:r.description,arguments:r.argsSchema?$ie(r.argsSchema):void 0}))})),this.server.setRequestHandler(mg,async(e,r)=>{let o=this._registeredPrompts[e.params.name];if(!o)throw new ne(ae.InvalidParams,`Prompt ${e.params.name} not found`);if(!o.enabled)throw new ne(ae.InvalidParams,`Prompt ${e.params.name} disabled`);if(o.argsSchema){let n=Aa(o.argsSchema),i=await Kh(n,e.params.arguments);if(!i.success){let c="error"in i?i.error:"Unknown error",u=Jh(c);throw new ne(ae.InvalidParams,`Invalid arguments for prompt ${e.params.name}: ${u}`)}let s=i.data,a=o.callback;return await Promise.resolve(a(s,r))}else{let n=o.callback;return await Promise.resolve(n(r))}}),this.setCompletionRequestHandler(),this._promptHandlersInitialized=!0)}resource(e,r,...o){let n;typeof o[0]=="object"&&(n=o.shift());let i=o[0];if(typeof r=="string"){if(this._registeredResources[r])throw new Error(`Resource ${r} is already registered`);let s=this._createRegisteredResource(e,void 0,r,n,i);return this.setResourceRequestHandlers(),this.sendResourceListChanged(),s}else{if(this._registeredResourceTemplates[e])throw new Error(`Resource template ${e} is already registered`);let s=this._createRegisteredResourceTemplate(e,void 0,r,n,i);return this.setResourceRequestHandlers(),this.sendResourceListChanged(),s}}registerResource(e,r,o,n){if(typeof r=="string"){if(this._registeredResources[r])throw new Error(`Resource ${r} is already registered`);let i=this._createRegisteredResource(e,o.title,r,o,n);return this.setResourceRequestHandlers(),this.sendResourceListChanged(),i}else{if(this._registeredResourceTemplates[e])throw new Error(`Resource template ${e} is already registered`);let i=this._createRegisteredResourceTemplate(e,o.title,r,o,n);return this.setResourceRequestHandlers(),this.sendResourceListChanged(),i}}_createRegisteredResource(e,r,o,n,i){let s={name:e,title:r,metadata:n,readCallback:i,enabled:!0,disable:()=>s.update({enabled:!1}),enable:()=>s.update({enabled:!0}),remove:()=>s.update({uri:null}),update:a=>{typeof a.uri<"u"&&a.uri!==o&&(delete this._registeredResources[o],a.uri&&(this._registeredResources[a.uri]=s)),typeof a.name<"u"&&(s.name=a.name),typeof a.title<"u"&&(s.title=a.title),typeof a.metadata<"u"&&(s.metadata=a.metadata),typeof a.callback<"u"&&(s.readCallback=a.callback),typeof a.enabled<"u"&&(s.enabled=a.enabled),this.sendResourceListChanged()}};return this._registeredResources[o]=s,s}_createRegisteredResourceTemplate(e,r,o,n,i){let s={resourceTemplate:o,title:r,metadata:n,readCallback:i,enabled:!0,disable:()=>s.update({enabled:!1}),enable:()=>s.update({enabled:!0}),remove:()=>s.update({name:null}),update:a=>{typeof a.name<"u"&&a.name!==e&&(delete this._registeredResourceTemplates[e],a.name&&(this._registeredResourceTemplates[a.name]=s)),typeof a.title<"u"&&(s.title=a.title),typeof a.template<"u"&&(s.resourceTemplate=a.template),typeof a.metadata<"u"&&(s.metadata=a.metadata),typeof a.callback<"u"&&(s.readCallback=a.callback),typeof a.enabled<"u"&&(s.enabled=a.enabled),this.sendResourceListChanged()}};return this._registeredResourceTemplates[e]=s,s}_createRegisteredPrompt(e,r,o,n,i){let s={title:r,description:o,argsSchema:n===void 0?void 0:Ca(n),callback:i,enabled:!0,disable:()=>s.update({enabled:!1}),enable:()=>s.update({enabled:!0}),remove:()=>s.update({name:null}),update:a=>{typeof a.name<"u"&&a.name!==e&&(delete this._registeredPrompts[e],a.name&&(this._registeredPrompts[a.name]=s)),typeof a.title<"u"&&(s.title=a.title),typeof a.description<"u"&&(s.description=a.description),typeof a.argsSchema<"u"&&(s.argsSchema=Ca(a.argsSchema)),typeof a.callback<"u"&&(s.callback=a.callback),typeof a.enabled<"u"&&(s.enabled=a.enabled),this.sendPromptListChanged()}};return this._registeredPrompts[e]=s,s}_createRegisteredTool(e,r,o,n,i,s,a,c,u){ak(e);let l={title:r,description:o,inputSchema:pF(n),outputSchema:pF(i),annotations:s,execution:a,_meta:c,handler:u,enabled:!0,disable:()=>l.update({enabled:!1}),enable:()=>l.update({enabled:!0}),remove:()=>l.update({name:null}),update:p=>{typeof p.name<"u"&&p.name!==e&&(typeof p.name=="string"&&ak(p.name),delete this._registeredTools[e],p.name&&(this._registeredTools[p.name]=l)),typeof p.title<"u"&&(l.title=p.title),typeof p.description<"u"&&(l.description=p.description),typeof p.paramsSchema<"u"&&(l.inputSchema=Ca(p.paramsSchema)),typeof p.callback<"u"&&(l.handler=p.callback),typeof p.annotations<"u"&&(l.annotations=p.annotations),typeof p._meta<"u"&&(l._meta=p._meta),typeof p.enabled<"u"&&(l.enabled=p.enabled),this.sendToolListChanged()}};return this._registeredTools[e]=l,this.setToolRequestHandlers(),this.sendToolListChanged(),l}tool(e,...r){if(this._registeredTools[e])throw new Error(`Tool ${e} is already registered`);let o,n,i,s;if(typeof r[0]=="string"&&(o=r.shift()),r.length>1){let c=r[0];ck(c)?(n=r.shift(),r.length>1&&typeof r[0]=="object"&&r[0]!==null&&!ck(r[0])&&(s=r.shift())):typeof c=="object"&&c!==null&&(s=r.shift())}let a=r[0];return this._createRegisteredTool(e,void 0,o,n,i,s,{taskSupport:"forbidden"},void 0,a)}registerTool(e,r,o){if(this._registeredTools[e])throw new Error(`Tool ${e} is already registered`);let{title:n,description:i,inputSchema:s,outputSchema:a,annotations:c,_meta:u}=r;return this._createRegisteredTool(e,n,i,s,a,c,{taskSupport:"forbidden"},u,o)}prompt(e,...r){if(this._registeredPrompts[e])throw new Error(`Prompt ${e} is already registered`);let o;typeof r[0]=="string"&&(o=r.shift());let n;r.length>1&&(n=r.shift());let i=r[0],s=this._createRegisteredPrompt(e,void 0,o,n,i);return this.setPromptRequestHandlers(),this.sendPromptListChanged(),s}registerPrompt(e,r,o){if(this._registeredPrompts[e])throw new Error(`Prompt ${e} is already registered`);let{title:n,description:i,argsSchema:s}=r,a=this._createRegisteredPrompt(e,n,i,s,o);return this.setPromptRequestHandlers(),this.sendPromptListChanged(),a}isConnected(){return this.server.transport!==void 0}async sendLoggingMessage(e,r){return this.server.sendLoggingMessage(e,r)}sendResourceListChanged(){this.isConnected()&&this.server.sendResourceListChanged()}sendToolListChanged(){this.isConnected()&&this.server.sendToolListChanged()}sendPromptListChanged(){this.isConnected()&&this.server.sendPromptListChanged()}};var Iie={type:"object",properties:{}};function mF(t){return t!==null&&typeof t=="object"&&"parse"in t&&typeof t.parse=="function"&&"safeParse"in t&&typeof t.safeParse=="function"}function Tie(t){return"_def"in t||"_zod"in t||mF(t)}function ck(t){return typeof t!="object"||t===null||Tie(t)?!1:Object.keys(t).length===0?!0:Object.values(t).some(mF)}function pF(t){if(t)return ck(t)?Ca(t):t}function $ie(t){let e=Uo(t);return e?Object.entries(e).map(([r,o])=>{let n=yj(o),i=vj(o);return{name:r,description:n,required:!i}}):[]}function Jo(t){let e=Uo(t),r=e?.method;if(!r)throw new Error("Schema is missing a method literal");let o=Yh(r);if(typeof o=="string")return o;throw new Error("Schema method literal must be a string")}function fF(t){return{completion:{values:t.slice(0,100),total:t.length,hasMore:t.length>100}}}var ql={completion:{values:[],hasMore:!1}};var fy=H(require("fs/promises")),kF=H(require("os")),Zl=H(require("path"));Ge();St();var Yo=H(require("path")),vt=H(require("vscode"));Hf();var Rie=["error","warning","information","hint"],Pie={error:vt.DiagnosticSeverity.Error,warning:vt.DiagnosticSeverity.Warning,information:vt.DiagnosticSeverity.Information,hint:vt.DiagnosticSeverity.Hint},hF=re.object({maxDiagnostics:re.number().int().positive().max(1e3).default(50),file:re.string().optional(),source:re.union([re.string(),re.array(re.string())]).optional(),code:re.union([re.string(),re.array(re.string())]).optional(),includeNonWorkspaceDiagnostics:re.boolean().default(!1),minSeverity:re.enum(Rie).default("information")}),gF=re.object({diagnostics:re.array(re.object({filePath:re.string(),relativePath:re.string().nullable(),range:re.object({start:re.object({line:re.number().int().nonnegative(),character:re.number().int().nonnegative()}),end:re.object({line:re.number().int().nonnegative(),character:re.number().int().nonnegative()})}),severity:re.string(),source:re.string().nullable(),code:re.string().nullable(),message:re.string()})),returnedDiagnostics:re.number().int().nonnegative(),totalDiagnosticsAfterFiltering:re.number().int().nonnegative(),limit:re.number().int().positive(),truncated:re.boolean(),summary:re.array(re.string())});function yF(t){t.registerTool("vscodeDiagnostics",{title:"VS Code Diagnostics",description:"Retrieve diagnostics from vscode.languages.getDiagnostics() with optional filters.",inputSchema:hF.shape,outputSchema:gF.shape},async e=>{let{maxDiagnostics:r,file:o,source:n,code:i,minSeverity:s,includeNonWorkspaceDiagnostics:a}=hF.parse(e),c=n?new Set(Array.isArray(n)?n:[n]):void 0,u=i?new Set(Array.isArray(i)?i:[i]):void 0,l=o?Oie(o):void 0,p=Cie(l),g=Aie(p,o,Pie[s],a,c,u),v=g.slice(0,r),h=gF.parse(jie(v,r,g.length));return{content:[{type:"text",text:h.summary.join(`
`)}],structuredContent:h}})}function Cie(t){if(t)return vt.languages.getDiagnostics(t).map(r=>({uri:t,diagnostic:r}));let e=[];for(let[r,o]of vt.languages.getDiagnostics())for(let n of o)e.push({uri:r,diagnostic:n});return e}function Aie(t,e,r,o,n,i){let s=[];for(let a of t)e&&!Die(a.uri,e)||(a.diagnostic.severity??vt.DiagnosticSeverity.Error)>r||!o&&!e&&!Nie(a.uri)||n&&!Mie(a.diagnostic,n)||i&&!zie(a.diagnostic,i)||s.push(a);return s}function Oie(t){let e=vF(t);if(e)return e;let r=vt.workspace.workspaceFolders;if(!r||r.length===0)return;let o=Wl(t);for(let n of r){let i=Yo.join(n.uri.fsPath,t);if(Wl(i).endsWith(o))return vt.Uri.file(i)}}function Nie(t){return vt.workspace.getWorkspaceFolder(t)!==void 0}function Die(t,e){let r=vF(e);if(r)return uk(t)===uk(r);let o=Wl(e),n=bF(t);return n&&Wl(n)===o?!0:uk(t).endsWith(o)}function vF(t){if(t.startsWith("file:"))try{let e=vt.Uri.parse(t);if(e.scheme==="file")return e}catch{return}if(Yo.isAbsolute(t))return vt.Uri.file(t)}function uk(t){return Wl(t.fsPath)}function Wl(t){let e=Yo.normalize(t).replace(/\\/g,"/");return typeof process<"u"&&process.platform==="win32"?e.toLowerCase():e}function Mie(t,e){let r=t.source;return r?e.has(r):!1}function zie(t,e){let r=t.code;if(r===void 0)return!1;let o=typeof r=="object"&&"value"in r?String(r.value):String(r);return e.has(o)}function jie(t,e,r){let o=[],n=[],i=1;for(let{uri:c,diagnostic:u}of t){let l=bF(c),p=u.range,g=p.start.line+1,v=p.start.character+1,h=Lie(u.severity),b=u.source??null,_=Uie(u.code),w=[`${i}. ${l??c.fsPath}:${g}:${v}`,`[${h}]`];b?w.push(`(${b}${_?`:${_}`:""})`):_&&w.push(`(${_})`),o.push(`${w.join(" ")}
${u.message}`),n.push({filePath:c.fsPath,relativePath:l??null,range:{start:{line:p.start.line,character:p.start.character},end:{line:p.end.line,character:p.end.character}},severity:h,source:b,code:_,message:u.message}),i=i+1}let s=r>t.length,a=o.length>0?[`Returned ${t.length} diagnostics (limit ${e}, total after filtering ${r}, truncated: ${s?"yes":"no"}).`,"",...o]:[`Returned 0 diagnostics (limit ${e}, total after filtering ${r}, truncated: no).`];return{diagnostics:n,returnedDiagnostics:t.length,totalDiagnosticsAfterFiltering:r,limit:e,truncated:s,summary:a}}function bF(t){let e=vt.workspace.getWorkspaceFolder(t);if(e)return Yo.relative(e.uri.fsPath,t.fsPath)}function Lie(t){switch(t){case vt.DiagnosticSeverity.Error:return"error";case vt.DiagnosticSeverity.Warning:return"warning";case vt.DiagnosticSeverity.Information:return"information";case vt.DiagnosticSeverity.Hint:return"hint"}}function Uie(t){return t===void 0?null:typeof t=="object"&&"value"in t?String(t.value):String(t)}var SF=require("node:events"),lk=require("node:fs"),EF=H(require("node:net"));var _F=require("node:crypto"),wF=require("node:events"),xF=H(require("node:readline"));Ge();St();var dy=class{socket;rl;started=!1;protocolVersion;sessionId;onerror;onmessage;disposables=[];constructor(e){this.socket=e,this.sessionId=(0,_F.randomUUID)(),this.rl=xF.default.createInterface({input:this.socket,crlfDelay:1/0}),this.onerror=this.handleError.bind(this)}async start(){if(this.started)throw new Error("UnixDomainSocketTransport already started.");this.started=!0,this.socket.setEncoding("utf8"),this.socket.on("error",this.handleSocketError),this.socket.on("close",this.handleSocketClose),this.rl.on("line",this.handleLine),this.rl.on("close",this.handleReadlineClose)}async send(e,r){if(!this.started)throw new Error("Transport not started.");let o=JSON.stringify(e)+`
`;this.socket.write(o)||await(0,wF.once)(this.socket,"drain")}addDisposable(e){this.disposables.push(e)}close(){W().info("UnixDomainSocketTransport.close() called."),this.disposables.forEach(r=>r.dispose());let e=this.started;return this.started=!1,this.detachListeners(),e&&this.socket.end(),this.socket.destroy(),this.rl.close(),Promise.resolve()}setProtocolVersion(e){this.protocolVersion=e}handleError(e){W().error(`UnixDomainSocketTransport error: ${e.stack??e.message}`)}handleSocketError=e=>{let r=e instanceof Error?e:new Error(String(e));this.onerror(r)};handleSocketClose=()=>{this.detachListeners(),this.rl.close()};handleLine=e=>{if(e.trim())try{let r=$j.parse(JSON.parse(e));this.onmessage?.(r)}catch(r){this.onerror(r instanceof Error?r:new Error(String(r)))}};handleReadlineClose=()=>{this.rl.removeAllListeners()};detachListeners(){this.socket.removeListener("error",this.handleSocketError),this.socket.removeListener("close",this.handleSocketClose),this.rl.removeListener("line",this.handleLine),this.rl.removeListener("close",this.handleReadlineClose)}};var py=class{constructor(e){this.socketPath=e}server=null;transports=new Set;async listen(e){if(this.server)throw new Error("UnixDomainSocketServer is already listening.");await this.removeExistingSocket(),this.server=EF.default.createServer(r=>{let o=new dy(r);this.transports.add(o),r.once("close",()=>{this.transports.delete(o)}),Promise.resolve(e(o)).catch(n=>{let i=n instanceof Error?n:new Error(String(n));o.onerror(i),o.close()})}),this.server.on("error",r=>{let o=r instanceof Error?r:new Error(String(r));process.stderr.write(`${o.stack??o.message}
`)}),this.server.listen(this.socketPath),this.server.listening||await(0,SF.once)(this.server,"listening")}async close(){let e=this.server;this.server=null;let r=[...this.transports].map(o=>o.close().catch(()=>{}));this.transports.clear(),await Promise.all(r),e&&e.listening&&await new Promise(o=>e.close(()=>o())),await this.removeExistingSocket()}async removeExistingSocket(){try{if((await lk.promises.lstat(this.socketPath)).isSocket())await lk.promises.unlink(this.socketPath);else throw new Error(`Cannot reuse ${this.socketPath}: existing path is not a socket.`)}catch(e){if(e.code!=="ENOENT")throw e}}};var Fie="codex-mcp-lsp";async function IF(t,e){let r=Zl.join(kF.tmpdir(),"mcp-lsp-"),o=await fy.mkdtemp(r),n=Zl.join(o,"mcp-lsp.sock"),i=Si(e),s=new dk(t,n,i);return await s.initUnixDomainSocketServer(n),s}var dk=class{constructor(e,r,o){this.version=e;this.socketPath=r;this.codexExecutable=o}getCodexConfig(){return{[`mcp_servers.${Fie}`]:{command:this.codexExecutable,args:["stdio-to-uds",this.socketPath]}}}async initUnixDomainSocketServer(e){await new py(e).listen(async o=>{let n=qie(this.version);o.addDisposable({dispose:()=>n.close()});try{await n.connect(o)}catch(i){throw W().error(`MCP LSP server failed to connect: ${i}`),await o.close().catch(()=>{}),i}}),W().info(`MCP LSP server listening on ${e}`)}dispose(){let e=Zl.dirname(this.socketPath);fy.rm(e,{recursive:!0,force:!0}).catch(r=>{W().error(`Failed to remove MCP LSP socket directory ${e}:`,r)})}};function qie(t){let e=new ly({name:"vscode-codex-mcp-lsp-server",version:t});return yF(e),e}var pk=H(require("vscode")),my=class{shellIntegrationSubscription;pendingTerminals=new Map;constructor(){this.shellIntegrationSubscription=pk.window.onDidChangeTerminalShellIntegration(e=>{let{terminal:r}=e,o=this.pendingTerminals.get(r);o&&(o(r),this.pendingTerminals.delete(r))})}createTerminal(e){let r=pk.window.createTerminal(e);return new Promise(o=>{this.pendingTerminals.set(r,o),r.shellIntegration&&(this.pendingTerminals.delete(r),o(r))})}dispose(){this.shellIntegrationSubscription.dispose()}};var gy=H(require("vscode"));var Wie=/^TODO\b[:-]?\s*/i;function $F(t){let e=[],r=t.length,o=0;function n(a,c){let u=t[a],l=c;for(;l<r&&t[l]===u;)l++;let p=l;for(;p<r&&t[p]!==`
`&&t[p]!=="\r";)p++;let g=TF(t.slice(l,p));return g!=null&&e.push({body:g,index:a}),p}let i=null,s=!1;for(;o<r;){let a=t[o];if(i){s?s=!1:a==="\\"?s=!0:a===i&&(i=null),o++;continue}else if(a==='"'||a==="'"||a==="`"){i=a,o++;continue}if(a==="/"&&o+1<r){let c=t[o+1];if(c==="/"){o=n(o,o+2);continue}if(c==="*"){let u=o,l=o+2,p=t.indexOf("*/",l),g=p===-1?r:p+2,v=Zie(t.slice(l,p===-1?r:p)),h=TF(v);h!=null&&e.push({body:h,index:u}),o=g;continue}}else if(a==="#"){o=n(o,o+1);continue}else if(a==="-"&&o+1<r&&t[o+1]==="-"){o=n(o,o+2);continue}o++}return e}function TF(t){let e=t.trimStart(),r=Wie.exec(e);return r?e.slice(r[0].length).trimEnd():null}function Zie(t){let r=t.replace(/^(?:[ \t]*\*?[ \t]*(?:\r?\n|$))+/,"").trimStart();return r.startsWith("*")&&(r=r.slice(1).trimStart()),r}var hy=class{provideCodeLenses(e,r){let o=e.getText(),n=[];for(let{index:i,body:s}of $F(o)){if(r?.isCancellationRequested)break;let a=e.positionAt(i),c=new gy.Range(a,a);n.push(new gy.CodeLens(c,{title:"Implement with Codex",command:"chatgpt.implementTodo",arguments:[{fileName:encodeURIComponent(e.uri.fsPath),line:a.line+1,comment:s}]}))}return n}};Ge();St();var yy=class{constructor(e){this.codexWebviewProvider=e}async handleUri(e){W().info(`Handling URI: ${e.path}`);try{await $o();let r=e.path||"/";this.codexWebviewProvider.navigateToRoute(r)}catch(r){W().error(`Failed to handle URI ${e.toString()}: ${r instanceof Error?r.message:String(r)}`)}}};var vy=class{userAgent=null;getUserAgent(){return this.userAgent}setUserAgent(e){this.userAgent=e}};var tse="chatgpt.newChat",rse="chatgpt.newCodexPanel",nse="sessionsViewPromotion";async function ose(t){let{subscriptions:e}=t;e.push(W()),W().info("Activating Codex extension");let r=Dz(ha),o=(0,_q.randomUUID)();ha.setTag("codex_app_session_id",o);let n=new my;e.push(n);let i=tr(bt.USE_EXPERIMENTAL_MCP_LSP_SERVER,!1),s=null;if(i){let Ce=t.extension.packageJSON.version;s=await IF(Ce,t.extensionUri),e.push(s)}let a=async()=>s?s.getCodexConfig():null,c=new vy,u=new zh(t);e.push(u);let l=new Wh(t),p=await l.get(gt.WINDOWS_SANDBOX_ENABLED)??!1,g=new Jm(t.extensionUri,c,p);e.push(g);let v=g.startCodexProcess();!v.success&&v.errorMessage&&W().error(v.errorMessage);let h=new Mh(g);e.push(h);let b=ise(g,u,h,l,e),_=FC(g),w=new mu("vscode",r),T=new Zh;e.push(T);let P=new Bh(w,T);e.push(P);let D=new Fh(_,T,l,u,a,w,t.extensionUri),q=new Gm(_,D,c),ge=new Rm,Ze=new cm({source:"codex-extension",env:"prod",codexAppSessionId:o,buildInfo:{version:$u(),buildNumber:null},reportFailure:Ce=>{ha.captureException(new Error(`[datadog] log sink failure (${Ce.type}: ${Ce.reason})`))}}),Se=new Ro(t.extensionUri,g,q,u,h,b??void 0,a,l,ge,Ze,w,r);e.push(Se);let oe=new yy(Se);if(e.push(kt.window.registerUriHandler(oe)),e.push(kt.window.registerWebviewViewProvider(Ro.viewType,Se,{webviewOptions:{retainContextWhenHidden:!0}})),e.push(kt.window.registerCustomEditorProvider(Ro.customEditorViewType,Se,{webviewOptions:{retainContextWhenHidden:!0},supportsMultipleEditorsPerDocument:!1})),e.push(kt.commands.registerCommand("chatgpt.openSidebar",$o)),e.push(kt.commands.registerCommand("chatgpt.openCommandMenu",async()=>{await kt.commands.executeCommand("workbench.action.showCommands")})),e.push(kt.commands.registerCommand(rse,async Ce=>{Ce?.source===nse&&await l.update(gt.SHOW_COPILOT_LOGIN_FIRST,!0),Se.createNewPanel()})),e.push(kt.commands.registerCommand("chatgpt.addToThread",async()=>LC(Se))),e.push(kt.commands.registerCommand(tse,async()=>{await $o(),Se.triggerNewChatViaWebview()})),tr(bt.COMMENT_CODELENS_ENABLED,!0)){let Ce=new hy,ur=[{scheme:"file"},{scheme:"untitled"}];e.push(kt.languages.registerCodeLensProvider(ur,Ce))}tr(bt.OPEN_ON_STARTUP,!1)&&$o(),process.platform==="win32"&&e.push(kt.workspace.onDidChangeConfiguration(Ce=>{Ce.affectsConfiguration(`chatgpt.${bt.RUN_CODEX_IN_WSL}`)&&(W().info("RUN_CODEX_IN_WSL changed, reloading window"),kt.commands.executeCommand("workbench.action.reloadWindow"))})),e.push(kt.commands.registerCommand("chatgpt.dumpNuxState",()=>{l.dumpNuxState()}),kt.commands.registerCommand("chatgpt.resetNuxState",()=>{l.resetNuxState()})),process.platform==="darwin"&&(async()=>{try{let Ce=await Promise.resolve().then(()=>(bq(),vq));typeof Ce.activate=="function"&&(Ce.activate(t),W().info("Work with apps desktop bridge initialized"))}catch(Ce){W().warn("Desktop bridge init failed: "+(Ce instanceof Error?Ce.message:String(Ce)))}})()}function ise(t,e,r,o,n){try{let i=new Bm(t,e,r,o);return n.push(i),n.push(kt.chat.registerChatSessionItemProvider(Qs,i)),i}catch(i){return W().info("Codex chat session item provider not registered: "+(i instanceof Error?i.message:String(i))),null}}0&&(module.exports={activate});
/*! Bundled license information:

smol-toml/dist/error.js:
  (*!
   * Copyright (c) Squirrel Chat et al., All rights reserved.
   * SPDX-License-Identifier: BSD-3-Clause
   *
   * Redistribution and use in source and binary forms, with or without
   * modification, are permitted provided that the following conditions are met:
   *
   * 1. Redistributions of source code must retain the above copyright notice, this
   *    list of conditions and the following disclaimer.
   * 2. Redistributions in binary form must reproduce the above copyright notice,
   *    this list of conditions and the following disclaimer in the
   *    documentation and/or other materials provided with the distribution.
   * 3. Neither the name of the copyright holder nor the names of its contributors
   *    may be used to endorse or promote products derived from this software without
   *    specific prior written permission.
   *
   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
   * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
   * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
   * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
   * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
   * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
   * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
   * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
   * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
   * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
   *)

smol-toml/dist/util.js:
  (*!
   * Copyright (c) Squirrel Chat et al., All rights reserved.
   * SPDX-License-Identifier: BSD-3-Clause
   *
   * Redistribution and use in source and binary forms, with or without
   * modification, are permitted provided that the following conditions are met:
   *
   * 1. Redistributions of source code must retain the above copyright notice, this
   *    list of conditions and the following disclaimer.
   * 2. Redistributions in binary form must reproduce the above copyright notice,
   *    this list of conditions and the following disclaimer in the
   *    documentation and/or other materials provided with the distribution.
   * 3. Neither the name of the copyright holder nor the names of its contributors
   *    may be used to endorse or promote products derived from this software without
   *    specific prior written permission.
   *
   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
   * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
   * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
   * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
   * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
   * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
   * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
   * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
   * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
   * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
   *)

smol-toml/dist/date.js:
  (*!
   * Copyright (c) Squirrel Chat et al., All rights reserved.
   * SPDX-License-Identifier: BSD-3-Clause
   *
   * Redistribution and use in source and binary forms, with or without
   * modification, are permitted provided that the following conditions are met:
   *
   * 1. Redistributions of source code must retain the above copyright notice, this
   *    list of conditions and the following disclaimer.
   * 2. Redistributions in binary form must reproduce the above copyright notice,
   *    this list of conditions and the following disclaimer in the
   *    documentation and/or other materials provided with the distribution.
   * 3. Neither the name of the copyright holder nor the names of its contributors
   *    may be used to endorse or promote products derived from this software without
   *    specific prior written permission.
   *
   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
   * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
   * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
   * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
   * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
   * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
   * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
   * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
   * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
   * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
   *)

smol-toml/dist/primitive.js:
  (*!
   * Copyright (c) Squirrel Chat et al., All rights reserved.
   * SPDX-License-Identifier: BSD-3-Clause
   *
   * Redistribution and use in source and binary forms, with or without
   * modification, are permitted provided that the following conditions are met:
   *
   * 1. Redistributions of source code must retain the above copyright notice, this
   *    list of conditions and the following disclaimer.
   * 2. Redistributions in binary form must reproduce the above copyright notice,
   *    this list of conditions and the following disclaimer in the
   *    documentation and/or other materials provided with the distribution.
   * 3. Neither the name of the copyright holder nor the names of its contributors
   *    may be used to endorse or promote products derived from this software without
   *    specific prior written permission.
   *
   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
   * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
   * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
   * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
   * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
   * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
   * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
   * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
   * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
   * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
   *)

smol-toml/dist/extract.js:
  (*!
   * Copyright (c) Squirrel Chat et al., All rights reserved.
   * SPDX-License-Identifier: BSD-3-Clause
   *
   * Redistribution and use in source and binary forms, with or without
   * modification, are permitted provided that the following conditions are met:
   *
   * 1. Redistributions of source code must retain the above copyright notice, this
   *    list of conditions and the following disclaimer.
   * 2. Redistributions in binary form must reproduce the above copyright notice,
   *    this list of conditions and the following disclaimer in the
   *    documentation and/or other materials provided with the distribution.
   * 3. Neither the name of the copyright holder nor the names of its contributors
   *    may be used to endorse or promote products derived from this software without
   *    specific prior written permission.
   *
   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
   * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
   * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
   * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
   * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
   * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
   * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
   * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
   * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
   * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
   *)

smol-toml/dist/struct.js:
  (*!
   * Copyright (c) Squirrel Chat et al., All rights reserved.
   * SPDX-License-Identifier: BSD-3-Clause
   *
   * Redistribution and use in source and binary forms, with or without
   * modification, are permitted provided that the following conditions are met:
   *
   * 1. Redistributions of source code must retain the above copyright notice, this
   *    list of conditions and the following disclaimer.
   * 2. Redistributions in binary form must reproduce the above copyright notice,
   *    this list of conditions and the following disclaimer in the
   *    documentation and/or other materials provided with the distribution.
   * 3. Neither the name of the copyright holder nor the names of its contributors
   *    may be used to endorse or promote products derived from this software without
   *    specific prior written permission.
   *
   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
   * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
   * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
   * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
   * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
   * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
   * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
   * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
   * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
   * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
   *)

smol-toml/dist/parse.js:
  (*!
   * Copyright (c) Squirrel Chat et al., All rights reserved.
   * SPDX-License-Identifier: BSD-3-Clause
   *
   * Redistribution and use in source and binary forms, with or without
   * modification, are permitted provided that the following conditions are met:
   *
   * 1. Redistributions of source code must retain the above copyright notice, this
   *    list of conditions and the following disclaimer.
   * 2. Redistributions in binary form must reproduce the above copyright notice,
   *    this list of conditions and the following disclaimer in the
   *    documentation and/or other materials provided with the distribution.
   * 3. Neither the name of the copyright holder nor the names of its contributors
   *    may be used to endorse or promote products derived from this software without
   *    specific prior written permission.
   *
   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
   * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
   * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
   * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
   * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
   * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
   * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
   * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
   * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
   * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
   *)

smol-toml/dist/stringify.js:
  (*!
   * Copyright (c) Squirrel Chat et al., All rights reserved.
   * SPDX-License-Identifier: BSD-3-Clause
   *
   * Redistribution and use in source and binary forms, with or without
   * modification, are permitted provided that the following conditions are met:
   *
   * 1. Redistributions of source code must retain the above copyright notice, this
   *    list of conditions and the following disclaimer.
   * 2. Redistributions in binary form must reproduce the above copyright notice,
   *    this list of conditions and the following disclaimer in the
   *    documentation and/or other materials provided with the distribution.
   * 3. Neither the name of the copyright holder nor the names of its contributors
   *    may be used to endorse or promote products derived from this software without
   *    specific prior written permission.
   *
   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
   * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
   * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
   * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
   * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
   * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
   * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
   * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
   * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
   * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
   *)

smol-toml/dist/index.js:
  (*!
   * Copyright (c) Squirrel Chat et al., All rights reserved.
   * SPDX-License-Identifier: BSD-3-Clause
   *
   * Redistribution and use in source and binary forms, with or without
   * modification, are permitted provided that the following conditions are met:
   *
   * 1. Redistributions of source code must retain the above copyright notice, this
   *    list of conditions and the following disclaimer.
   * 2. Redistributions in binary form must reproduce the above copyright notice,
   *    this list of conditions and the following disclaimer in the
   *    documentation and/or other materials provided with the distribution.
   * 3. Neither the name of the copyright holder nor the names of its contributors
   *    may be used to endorse or promote products derived from this software without
   *    specific prior written permission.
   *
   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
   * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
   * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
   * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
   * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
   * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
   * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
   * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
   * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
   * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
   *)
*/
